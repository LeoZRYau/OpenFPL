import{A as n,i as y,a as i}from"./Layout.37f8df07.js";import{s as d}from"./team-store.2ca3943b.js";import{w as P}from"./singletons.7a3c8e4c.js";function D(){const{subscribe:E,set:R}=P(null);let c;d.subscribe(a=>{c=a});const o=n.createActor(y,"bboqb-jiaaa-aaaal-qb6ea-cai");async function I(a,r,t){try{return await o.getManager(a,r,t)}catch(e){throw console.error("Error fetching fantasy team for gameweek:",e),e}}async function N(){try{const a=await o.getTotalManagers();return Number(a)}catch(a){throw console.error("Error fetching total managers:",a),a}}async function _(a,r){try{return await o.getFantasyTeamForGameweek(a,c?.activeSeason.id,r)}catch(t){throw console.error("Error fetching fantasy team for gameweek:",t),t}}async function s(){try{return await(await n.createIdentityActor(i,"bboqb-jiaaa-aaaal-qb6ea-cai")).getFantasyTeam()}catch(a){throw console.error("Error fetching fantasy team:",a),a}}async function f(a,r){try{let t=l(a,r),e=A(a,r),g=b(a,r);return await(await n.createIdentityActor(i,"bboqb-jiaaa-aaaal-qb6ea-cai")).saveFantasyTeam(a.playerIds,a.captainId,t,e,g)}catch(t){throw console.error("Error saving fantasy team:",t),t}}function l(a,r){let t=0;return a.goalGetterGameweek===r&&(t=1),a.passMasterGameweek===r&&(t=2),a.noEntryGameweek===r&&(t=3),a.teamBoostGameweek===r&&(t=4),a.safeHandsGameweek===r&&(t=5),a.captainFantasticGameweek===r&&(t=6),a.hatTrickHeroGameweek===r&&(t=7),a.hatTrickHeroGameweek===r&&(t=8),t}function A(a,r){let t=0;return a.goalGetterGameweek===r&&(t=a.goalGetterPlayerId),a.passMasterGameweek===r&&(t=a.passMasterPlayerId),a.noEntryGameweek===r&&(t=a.noEntryPlayerId),a.safeHandsGameweek===r&&(t=a.safeHandsPlayerId),a.captainFantasticGameweek===r&&(t=a.captainId),t}function b(a,r){let t=0;return a.teamBoostGameweek===r&&(t=a.teamBoostTeamId),t}return{subscribe:E,getManager:I,getTotalManagers:N,getFantasyTeamForGameweek:_,getFantasyTeam:s,saveFantasyTeam:f}}const h=D();export{h as m};
