import{s as Ne,o as Ge,F as Ae,e as te,i as M,d,H as Le,f as h,l as F,a as A,g as p,h as E,m as H,c as L,I as K,j as x,A as je,x as r,B as he,C as ie,n as le,y as X,D as Ce,E as Be,G as Fe}from"../chunks/scheduler.2037d42e.js";import{S as He,i as Me,b as Ve,d as Se,m as Te,a as se,t as ae,e as $e,g as Oe,c as Pe}from"../chunks/index.cd713282.js";import{L as Ue,s as pe,t as ve,j as be,f as qe,a as ze,e as ne}from"../chunks/Layout.b983af79.js";import{L as Je}from"../chunks/LoadingIcon.64dacd79.js";function xe(a,e,l){const t=a.slice();t[18]=e[l];const s=t[6](t[18].homeTeamId);t[19]=s;const o=t[6](t[18].awayTeamId);return t[20]=o,t}function ge(a,e,l){const t=a.slice();return t[23]=e[l],t}function Ke(a){let e,l,t,s,o=`Season ${a[2]}`,n,g,f=`Gameweek ${a[0]}`,I,S,N,T,v,w,G,V,O,D,P,_,i,m,y,k,c,B,Q='<div class="w-1/4 px-4">Home Team</div> <div class="w-1/4 px-4">Away Team</div> <div class="w-1/4 px-4">Status</div> <div class="w-1/4 px-4">Actions</div>',U,q,R,z=ne(a[4]),C=[];for(let u=0;u<z.length;u+=1)C[u]=ke(ge(a,z,u));function oe(u,$){return u[1]&&u[1].length>0?We:Re}let Y=oe(a),j=Y(a);return{c(){e=h("div"),l=h("div"),t=h("div"),s=h("h1"),n=F(o),g=F(" - "),I=F(f),S=A(),N=h("div"),T=h("div"),v=h("div"),w=h("button"),G=F("<"),O=A(),D=h("select");for(let u=0;u<C.length;u+=1)C[u].c();P=A(),_=h("button"),i=F(">"),y=A(),k=h("div"),c=h("div"),B=h("div"),B.innerHTML=Q,U=A(),j.c(),this.h()},l(u){e=p(u,"DIV",{class:!0});var $=E(e);l=p($,"DIV",{class:!0});var b=E(l);t=p(b,"DIV",{class:!0});var W=E(t);s=p(W,"H1",{});var Z=E(s);n=H(Z,o),g=H(Z," - "),I=H(Z,f),Z.forEach(d),W.forEach(d),S=L(b),N=p(b,"DIV",{class:!0});var ce=E(N);T=p(ce,"DIV",{class:!0});var fe=E(T);v=p(fe,"DIV",{class:!0});var J=E(v);w=p(J,"BUTTON",{class:!0});var ue=E(w);G=H(ue,"<"),ue.forEach(d),O=L(J),D=p(J,"SELECT",{class:!0});var de=E(D);for(let re=0;re<C.length;re+=1)C[re].l(de);de.forEach(d),P=L(J),_=p(J,"BUTTON",{class:!0});var _e=E(_);i=H(_e,">"),_e.forEach(d),J.forEach(d),fe.forEach(d),ce.forEach(d),y=L(b),k=p(b,"DIV",{class:!0});var me=E(k);c=p(me,"DIV",{class:!0});var ee=E(c);B=p(ee,"DIV",{class:!0,"data-svelte-h":!0}),K(B)!=="svelte-67mxps"&&(B.innerHTML=Q),U=L(ee),j.l(ee),ee.forEach(d),me.forEach(d),b.forEach(d),$.forEach(d),this.h()},h(){x(t,"class","flex p-4"),x(w,"class","text-base sm:text-xs md:text-base rounded fpl-button px-3 sm:px-2 px-3 py-1"),w.disabled=V=a[0]===1,x(D,"class","p-2 fpl-dropdown text-xs md:text-base text-center mx-0 md:mx-2 min-w-[150px] sm:min-w-[100px] md:min-w-[140px]"),a[0]===void 0&&je(()=>a[10].call(D)),x(_,"class","text-base sm:text-xs md:text-base rounded fpl-button px-3 sm:px-2 px-3 py-1 ml-1"),_.disabled=m=a[0]===38,x(v,"class","md:flex md:items-center mt-2 sm:mt-0 ml-2"),x(T,"class","flex flex-col sm:flex-row justify-between sm:items-center"),x(N,"class","flex flex-col sm:flex-row gap-4 sm:gap-8"),x(B,"class","flex justify-between p-2 border border-gray-700 py-4 bg-light-gray"),x(c,"class","overflow-x-auto flex-1"),x(k,"class","flex flex-col space-y-4 mt-4 text-xs md:text-base"),x(l,"class","flex flex-col space-y-4 text-xs md:text-base"),x(e,"class","container-fluid mx-4 md:mx-16 mt-4 bg-panel")},m(u,$){M(u,e,$),r(e,l),r(l,t),r(t,s),r(s,n),r(s,g),r(s,I),r(l,S),r(l,N),r(N,T),r(T,v),r(v,w),r(w,G),r(v,O),r(v,D);for(let b=0;b<C.length;b+=1)C[b]&&C[b].m(D,null);he(D,a[0],!0),r(v,P),r(v,_),r(_,i),r(l,y),r(l,k),r(k,c),r(c,B),r(c,U),j.m(c,null),q||(R=[ie(w,"click",a[9]),ie(D,"change",a[10]),ie(_,"click",a[11])],q=!0)},p(u,$){if($&4&&o!==(o=`Season ${u[2]}`)&&le(n,o),$&1&&f!==(f=`Gameweek ${u[0]}`)&&le(I,f),$&17&&V!==(V=u[0]===1)&&(w.disabled=V),$&16){z=ne(u[4]);let b;for(b=0;b<z.length;b+=1){const W=ge(u,z,b);C[b]?C[b].p(W,$):(C[b]=ke(W),C[b].c(),C[b].m(D,null))}for(;b<C.length;b+=1)C[b].d(1);C.length=z.length}$&17&&he(D,u[0]),$&17&&m!==(m=u[0]===38)&&(_.disabled=m),Y===(Y=oe(u))&&j?j.p(u,$):(j.d(1),j=Y(u),j&&(j.c(),j.m(c,null)))},i:X,o:X,d(u){u&&d(e),Ce(C,u),j.d(),q=!1,Be(R)}}}function Qe(a){let e,l;return e=new Je({}),{c(){Ve(e.$$.fragment)},l(t){Se(e.$$.fragment,t)},m(t,s){Te(e,t,s),l=!0},p:X,i(t){l||(se(e.$$.fragment,t),l=!0)},o(t){ae(e.$$.fragment,t),l=!1},d(t){$e(e,t)}}}function ke(a){let e,l,t=a[23]+"",s;return{c(){e=h("option"),l=F("Gameweek "),s=F(t),this.h()},l(o){e=p(o,"OPTION",{});var n=E(e);l=H(n,"Gameweek "),s=H(n,t),n.forEach(d),this.h()},h(){e.__value=a[23],Fe(e,e.__value)},m(o,n){M(o,e,n),r(e,l),r(e,s)},p:X,d(o){o&&d(e)}}}function Re(a){let e,l="No leaderboard data.";return{c(){e=h("p"),e.textContent=l,this.h()},l(t){e=p(t,"P",{class:!0,"data-svelte-h":!0}),K(e)!=="svelte-9ht7lx"&&(e.textContent=l),this.h()},h(){x(e,"class","w-100 p-4")},m(t,s){M(t,e,s)},p:X,d(t){t&&d(e)}}}function We(a){let e,l=ne(a[1]),t=[];for(let s=0;s<l.length;s+=1)t[s]=De(xe(a,l,s));return{c(){for(let s=0;s<t.length;s+=1)t[s].c();e=te()},l(s){for(let o=0;o<t.length;o+=1)t[o].l(s);e=te()},m(s,o){for(let n=0;n<t.length;n+=1)t[n]&&t[n].m(s,o);M(s,e,o)},p(s,o){if(o&66){l=ne(s[1]);let n;for(n=0;n<l.length;n+=1){const g=xe(s,l,n);t[n]?t[n].p(g,o):(t[n]=De(g),t[n].c(),t[n].m(e.parentNode,e))}for(;n<t.length;n+=1)t[n].d(1);t.length=l.length}},d(s){s&&d(e),Ce(t,s)}}}function we(a){let e,l="Scheduled";return{c(){e=h("div"),e.textContent=l,this.h()},l(t){e=p(t,"DIV",{class:!0,"data-svelte-h":!0}),K(e)!=="svelte-gkzief"&&(e.textContent=l),this.h()},h(){x(e,"class","w-1/4 px-4")},m(t,s){M(t,e,s)},d(t){t&&d(e)}}}function ye(a){let e,l="Active";return{c(){e=h("div"),e.textContent=l,this.h()},l(t){e=p(t,"DIV",{class:!0,"data-svelte-h":!0}),K(e)!=="svelte-3cfpeg"&&(e.textContent=l),this.h()},h(){x(e,"class","w-1/4 px-4")},m(t,s){M(t,e,s)},d(t){t&&d(e)}}}function Ee(a){let e,l="Completed";return{c(){e=h("div"),e.textContent=l,this.h()},l(t){e=p(t,"DIV",{class:!0,"data-svelte-h":!0}),K(e)!=="svelte-kpa3z9"&&(e.textContent=l),this.h()},h(){x(e,"class","w-1/4 px-4")},m(t,s){M(t,e,s)},d(t){t&&d(e)}}}function Ie(a){let e,l="Verified";return{c(){e=h("div"),e.textContent=l,this.h()},l(t){e=p(t,"DIV",{class:!0,"data-svelte-h":!0}),K(e)!=="svelte-1a50uqa"&&(e.textContent=l),this.h()},h(){x(e,"class","w-1/4 px-4")},m(t,s){M(t,e,s)},d(t){t&&d(e)}}}function De(a){let e,l,t=a[19].friendlyName+"",s,o,n,g=a[20].friendlyName+"",f,I,S,N,T,v,w,G,V,O,D,P,_=a[18].status==0&&we(),i=a[18].status==1&&ye(),m=a[18].status==2&&Ee(),y=a[18].status==3&&Ie();return{c(){e=h("div"),l=h("div"),s=F(t),o=A(),n=h("div"),f=F(g),I=A(),_&&_.c(),S=A(),i&&i.c(),N=A(),m&&m.c(),T=A(),y&&y.c(),v=A(),w=h("div"),G=h("button"),V=h("a"),O=F("Add Fixture Data"),P=A(),this.h()},l(k){e=p(k,"DIV",{class:!0});var c=E(e);l=p(c,"DIV",{class:!0});var B=E(l);s=H(B,t),B.forEach(d),o=L(c),n=p(c,"DIV",{class:!0});var Q=E(n);f=H(Q,g),Q.forEach(d),I=L(c),_&&_.l(c),S=L(c),i&&i.l(c),N=L(c),m&&m.l(c),T=L(c),y&&y.l(c),v=L(c),w=p(c,"DIV",{class:!0});var U=E(w);G=p(U,"BUTTON",{class:!0});var q=E(G);V=p(q,"A",{href:!0});var R=E(V);O=H(R,"Add Fixture Data"),R.forEach(d),q.forEach(d),U.forEach(d),P=L(c),c.forEach(d),this.h()},h(){x(l,"class","w-1/4 px-4"),x(n,"class","w-1/4 px-4"),x(V,"href",D="/add-fixture-data?id="+a[18].id),x(G,"class","text-base sm:text-xs md:text-base rounded fpl-button px-3 sm:px-2 px-3 py-1 ml-1"),x(w,"class","w-1/4 px-4"),x(e,"class","flex items-center p-2 justify-between py-4 border-b border-gray-700 cursor-pointer")},m(k,c){M(k,e,c),r(e,l),r(l,s),r(e,o),r(e,n),r(n,f),r(e,I),_&&_.m(e,null),r(e,S),i&&i.m(e,null),r(e,N),m&&m.m(e,null),r(e,T),y&&y.m(e,null),r(e,v),r(e,w),r(w,G),r(G,V),r(V,O),r(e,P)},p(k,c){c&2&&t!==(t=k[19].friendlyName+"")&&le(s,t),c&2&&g!==(g=k[20].friendlyName+"")&&le(f,g),k[18].status==0?_||(_=we(),_.c(),_.m(e,S)):_&&(_.d(1),_=null),k[18].status==1?i||(i=ye(),i.c(),i.m(e,N)):i&&(i.d(1),i=null),k[18].status==2?m||(m=Ee(),m.c(),m.m(e,T)):m&&(m.d(1),m=null),k[18].status==3?y||(y=Ie(),y.c(),y.m(e,v)):y&&(y.d(1),y=null),c&2&&D!==(D="/add-fixture-data?id="+k[18].id)&&x(V,"href",D)},d(k){k&&d(e),_&&_.d(),i&&i.d(),m&&m.d(),y&&y.d()}}}function Xe(a){let e,l,t,s;const o=[Qe,Ke],n=[];function g(f,I){return f[3]?0:1}return e=g(a),l=n[e]=o[e](a),{c(){l.c(),t=te()},l(f){l.l(f),t=te()},m(f,I){n[e].m(f,I),M(f,t,I),s=!0},p(f,I){let S=e;e=g(f),e===S?n[e].p(f,I):(Oe(),ae(n[S],1,1,()=>{n[S]=null}),Pe(),l=n[e],l?l.p(f,I):(l=n[e]=o[e](f),l.c()),se(l,1),l.m(t.parentNode,t))},i(f){s||(se(l),s=!0)},o(f){ae(l),s=!1},d(f){f&&d(t),n[e].d(f)}}}function Ye(a){let e,l;return e=new Ue({props:{$$slots:{default:[Xe]},$$scope:{ctx:a}}}),{c(){Ve(e.$$.fragment)},l(t){Se(e.$$.fragment,t)},m(t,s){Te(e,t,s),l=!0},p(t,[s]){const o={};s&67108879&&(o.$$scope={dirty:s,ctx:t}),e.$set(o)},i(t){l||(se(e.$$.fragment,t),l=!0)},o(t){ae(e.$$.fragment,t),l=!1},d(t){$e(e,t)}}}function Ze(a,e,l){let t,s,o,n,g,f,I,S,N,T=Array.from({length:38},(i,m)=>m+1),v,w,G=!0;Ge(async()=>{try{await pe.sync(),await ve.sync(),await be.sync(),f=pe.subscribe(i=>{l(8,g=i),l(2,w=g?.activeSeason.name??""),l(0,v=g?.activeGameweek??1)}),I=ve.subscribe(i=>{t=i}),S=be.subscribe(i=>{n=i}),N=qe.subscribe(i=>{l(7,s=i),l(1,o=i.filter(m=>m.gameweek==g?.activeGameweek))})}catch(i){ze({msg:{text:"Error fetching fixture validation list."},err:i}),console.error("Error fetching fixture validation list.",i)}finally{l(3,G=!1)}}),Ae(()=>{I?.(),S?.(),f?.()});const V=i=>{l(0,v=Math.max(1,Math.min(38,v+i)))};function O(i){return t.find(m=>m.id===i)}const D=()=>V(-1);function P(){v=Le(this),l(0,v),l(4,T)}const _=()=>V(1);return a.$$.update=()=>{a.$$.dirty&385&&g&&v&&l(1,o=s.filter(i=>i.gameweek===v))},[v,o,w,G,T,V,O,s,g,D,P,_]}class at extends He{constructor(e){super(),Me(this,e,Ze,Ye,Ne,{})}}export{at as component};
