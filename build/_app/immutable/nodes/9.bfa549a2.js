import{s as Ss,f as n,l as k,a as g,g as o,h as d,m as E,d as i,c as h,I as gt,j as r,A as Hs,i as Vt,x as e,B as ms,C as Gt,D as vs,E as Ts,o as Vs,F as Ns,G as Ms,y as Tt,q as _s,n as M,M as Kt,H as As,z as js,e as ps,P as gs,k as dt}from"../chunks/scheduler.2037d42e.js";import{S as Gs,i as Fs,a as Z,g as Ft,c as Lt,t as le,b as ut,d as ht,m as ft,e as mt}from"../chunks/index.cd713282.js";import{w as Qt}from"../chunks/singletons.4e632dcd.js";import{p as Bs}from"../chunks/stores.2a5d2c72.js";import{e as Wt,s as Xt,t as Zt,j as hs,p as bs,a as ls,d as ws,g as xs,L as Os}from"../chunks/Layout.b983af79.js";import{m as Us}from"../chunks/manager-store.5e9e5c1f.js";import{B as Ls}from"../chunks/BadgeIcon.de5ce3c9.js";import{M as qs}from"../chunks/manager-gameweeks.436f6390.js";import{L as Js}from"../chunks/LoadingIcon.64dacd79.js";function ys(s,t,a){const l=s.slice();l[21]=t[a];const c=l[8](l[21].player.id);l[22]=c;const p=l[9](l[21].player.teamId);return l[23]=p,l}function ks(s,t,a){const l=s.slice();return l[26]=t[a],l}function Es(s){let t,a,l=s[26]+"",c;return{c(){t=n("option"),a=k("Gameweek "),c=k(l),this.h()},l(p){t=o(p,"OPTION",{});var w=d(t);a=E(w,"Gameweek "),c=E(w,l),w.forEach(i),this.h()},h(){t.__value=s[26],Ms(t,t.__value)},m(p,w){Vt(p,t,w),e(t,a),e(t,c)},p:Tt,d(p){p&&i(t)}}}function Cs(s){let t,a,l=ws(s[21].player.position)+"",c,p,w,P,x,L=s[22]&&s[22].firstName.length>2?s[22].firstName.substring(0,1)+"."+s[22].lastName:"",$,q,j,N,O,G=s[23]?.friendlyName+"",B,U,C,H,ee=s[21].appearance+"",J,z,_,T,I=(s[21].highestScoringPlayerId===s[22]?.id?1:0)+"",K,u,y,f,A=s[21].goals+"",ce,b,W,te,ae=s[21].assists+"",se,Q,de,re,et=s[21].penaltySaves+"",tt,ue,Ue,be,qe=s[21].cleanSheets+"",fe,st,Je,we,ze=s[21].saves+"",lt,xe,bt,Ie,me=s[21].yellowCards+"",at,ne,Fe,ve,Le=s[21].ownGoals+"",rt,_e,Re,ye,Ye=s[21].goalsConceded+"",pe,nt,Ke,ke,We=s[21].redCards+"",ot,Ee,wt,Pe,ge=s[21].bonusPoints+"",it,oe,He,Me,Qe=s[21].points+"",he,Xe,D;var Ae=xs(s[22]?.nationality??"");function $e(m,v){return{props:{class:"w-4 h-4 mr-1",size:"100"}}}return Ae&&(P=_s(Ae,$e())),N=new Ls({props:{primaryColour:s[23]?.primaryColourHex,secondaryColour:s[23]?.secondaryColourHex,thirdColour:s[23]?.thirdColourHex,className:"w-6 h-6 mr-2"}}),{c(){t=n("div"),a=n("div"),c=k(l),p=g(),w=n("div"),P&&ut(P.$$.fragment),x=g(),$=k(L),q=g(),j=n("div"),ut(N.$$.fragment),O=g(),B=k(G),U=g(),C=n("div"),H=n("div"),J=k(ee),_=g(),T=n("div"),K=k(I),y=g(),f=n("div"),ce=k(A),W=g(),te=n("div"),se=k(ae),de=g(),re=n("div"),tt=k(et),Ue=g(),be=n("div"),fe=k(qe),Je=g(),we=n("div"),lt=k(ze),bt=g(),Ie=n("div"),at=k(me),Fe=g(),ve=n("div"),rt=k(Le),Re=g(),ye=n("div"),pe=k(Ye),Ke=g(),ke=n("div"),ot=k(We),wt=g(),Pe=n("div"),it=k(ge),He=g(),Me=n("div"),he=k(Qe),Xe=g(),this.h()},l(m){t=o(m,"DIV",{class:!0});var v=d(t);a=o(v,"DIV",{class:!0});var Ce=d(a);c=E(Ce,l),Ce.forEach(i),p=h(v),w=o(v,"DIV",{class:!0});var De=d(w);P&&ht(P.$$.fragment,De),x=h(De),$=E(De,L),De.forEach(i),q=h(v),j=o(v,"DIV",{class:!0});var ct=d(j);ht(N.$$.fragment,ct),O=h(ct),B=E(ct,G),ct.forEach(i),U=h(v),C=o(v,"DIV",{class:!0});var V=d(C);H=o(V,"DIV",{class:!0});var Nt=d(H);J=E(Nt,ee),Nt.forEach(i),_=h(V),T=o(V,"DIV",{class:!0});var xt=d(T);K=E(xt,I),xt.forEach(i),y=h(V),f=o(V,"DIV",{class:!0});var Se=d(f);ce=E(Se,A),Se.forEach(i),W=h(V),te=o(V,"DIV",{class:!0});var Te=d(te);se=E(Te,ae),Te.forEach(i),de=h(V),re=o(V,"DIV",{class:!0});var Ve=d(re);tt=E(Ve,et),Ve.forEach(i),Ue=h(V),be=o(V,"DIV",{class:!0});var Ne=d(be);fe=E(Ne,qe),Ne.forEach(i),Je=h(V),we=o(V,"DIV",{class:!0});var yt=d(we);lt=E(yt,ze),yt.forEach(i),bt=h(V),Ie=o(V,"DIV",{class:!0});var vt=d(Ie);at=E(vt,me),vt.forEach(i),Fe=h(V),ve=o(V,"DIV",{class:!0});var kt=d(ve);rt=E(kt,Le),kt.forEach(i),Re=h(V),ye=o(V,"DIV",{class:!0});var Ge=d(ye);pe=E(Ge,Ye),Ge.forEach(i),Ke=h(V),ke=o(V,"DIV",{class:!0});var Et=d(ke);ot=E(Et,We),Et.forEach(i),wt=h(V),Pe=o(V,"DIV",{class:!0});var _t=d(Pe);it=E(_t,ge),_t.forEach(i),V.forEach(i),He=h(v),Me=o(v,"DIV",{class:!0});var Ct=d(Me);he=E(Ct,Qe),Ct.forEach(i),Xe=h(v),v.forEach(i),this.h()},h(){r(a,"class","w-1/12 text-center mx-4"),r(w,"class","w-2/12"),r(j,"class","w-2/12 text-center flex items-center"),r(H,"class",z=`w-1/12 text-center ${s[21].appearance>0?"":"text-gray-500"}`),r(T,"class",u=`w-1/12 text-center ${s[21].highestScoringPlayerId===s[22]?.id?"":"text-gray-500"}`),r(f,"class",b=`w-1/12 text-center ${s[21].goals>0?"":"text-gray-500"}`),r(te,"class",Q=`w-1/12 text-center ${s[21].assists>0?"":"text-gray-500"}`),r(re,"class",ue=`w-1/12 text-center ${s[21].penaltySaves>0?"":"text-gray-500"}`),r(be,"class",st=`w-1/12 text-center ${s[21].cleanSheets>0?"":"text-gray-500"}`),r(we,"class",xe=`w-1/12 text-center ${s[21].saves>0?"":"text-gray-500"}`),r(Ie,"class",ne=`w-1/12 text-center ${s[21].yellowCards>0?"":"text-gray-500"}`),r(ve,"class",_e=`w-1/12 text-center ${s[21].ownGoals>0?"":"text-gray-500"}`),r(ye,"class",nt=`w-1/12 text-center ${s[21].goalsConceded>0?"":"text-gray-500"}`),r(ke,"class",Ee=`w-1/12 text-center ${s[21].redCards>0?"":"text-gray-500"}`),r(Pe,"class",oe=`w-1/12 text-center ${s[21].bonusPoints>0?"":"text-gray-500"}`),r(C,"class","w-1/2 flex"),r(Me,"class","w-1/12 text-center"),r(t,"class","flex items-center justify-between py-4 border-b border-gray-700 cursor-pointer")},m(m,v){Vt(m,t,v),e(t,a),e(a,c),e(t,p),e(t,w),P&&ft(P,w,null),e(w,x),e(w,$),e(t,q),e(t,j),ft(N,j,null),e(j,O),e(j,B),e(t,U),e(t,C),e(C,H),e(H,J),e(C,_),e(C,T),e(T,K),e(C,y),e(C,f),e(f,ce),e(C,W),e(C,te),e(te,se),e(C,de),e(C,re),e(re,tt),e(C,Ue),e(C,be),e(be,fe),e(C,Je),e(C,we),e(we,lt),e(C,bt),e(C,Ie),e(Ie,at),e(C,Fe),e(C,ve),e(ve,rt),e(C,Re),e(C,ye),e(ye,pe),e(C,Ke),e(C,ke),e(ke,ot),e(C,wt),e(C,Pe),e(Pe,it),e(t,He),e(t,Me),e(Me,he),e(t,Xe),D=!0},p(m,v){if((!D||v&32)&&l!==(l=ws(m[21].player.position)+"")&&M(c,l),v&32&&Ae!==(Ae=xs(m[22]?.nationality??""))){if(P){Ft();const De=P;le(De.$$.fragment,1,0,()=>{mt(De,1)}),Lt()}Ae?(P=_s(Ae,$e()),ut(P.$$.fragment),Z(P.$$.fragment,1),ft(P,w,x)):P=null}(!D||v&32)&&L!==(L=m[22]&&m[22].firstName.length>2?m[22].firstName.substring(0,1)+"."+m[22].lastName:"")&&M($,L);const Ce={};v&32&&(Ce.primaryColour=m[23]?.primaryColourHex),v&32&&(Ce.secondaryColour=m[23]?.secondaryColourHex),v&32&&(Ce.thirdColour=m[23]?.thirdColourHex),N.$set(Ce),(!D||v&32)&&G!==(G=m[23]?.friendlyName+"")&&M(B,G),(!D||v&32)&&ee!==(ee=m[21].appearance+"")&&M(J,ee),(!D||v&32&&z!==(z=`w-1/12 text-center ${m[21].appearance>0?"":"text-gray-500"}`))&&r(H,"class",z),(!D||v&32)&&I!==(I=(m[21].highestScoringPlayerId===m[22]?.id?1:0)+"")&&M(K,I),(!D||v&32&&u!==(u=`w-1/12 text-center ${m[21].highestScoringPlayerId===m[22]?.id?"":"text-gray-500"}`))&&r(T,"class",u),(!D||v&32)&&A!==(A=m[21].goals+"")&&M(ce,A),(!D||v&32&&b!==(b=`w-1/12 text-center ${m[21].goals>0?"":"text-gray-500"}`))&&r(f,"class",b),(!D||v&32)&&ae!==(ae=m[21].assists+"")&&M(se,ae),(!D||v&32&&Q!==(Q=`w-1/12 text-center ${m[21].assists>0?"":"text-gray-500"}`))&&r(te,"class",Q),(!D||v&32)&&et!==(et=m[21].penaltySaves+"")&&M(tt,et),(!D||v&32&&ue!==(ue=`w-1/12 text-center ${m[21].penaltySaves>0?"":"text-gray-500"}`))&&r(re,"class",ue),(!D||v&32)&&qe!==(qe=m[21].cleanSheets+"")&&M(fe,qe),(!D||v&32&&st!==(st=`w-1/12 text-center ${m[21].cleanSheets>0?"":"text-gray-500"}`))&&r(be,"class",st),(!D||v&32)&&ze!==(ze=m[21].saves+"")&&M(lt,ze),(!D||v&32&&xe!==(xe=`w-1/12 text-center ${m[21].saves>0?"":"text-gray-500"}`))&&r(we,"class",xe),(!D||v&32)&&me!==(me=m[21].yellowCards+"")&&M(at,me),(!D||v&32&&ne!==(ne=`w-1/12 text-center ${m[21].yellowCards>0?"":"text-gray-500"}`))&&r(Ie,"class",ne),(!D||v&32)&&Le!==(Le=m[21].ownGoals+"")&&M(rt,Le),(!D||v&32&&_e!==(_e=`w-1/12 text-center ${m[21].ownGoals>0?"":"text-gray-500"}`))&&r(ve,"class",_e),(!D||v&32)&&Ye!==(Ye=m[21].goalsConceded+"")&&M(pe,Ye),(!D||v&32&&nt!==(nt=`w-1/12 text-center ${m[21].goalsConceded>0?"":"text-gray-500"}`))&&r(ye,"class",nt),(!D||v&32)&&We!==(We=m[21].redCards+"")&&M(ot,We),(!D||v&32&&Ee!==(Ee=`w-1/12 text-center ${m[21].redCards>0?"":"text-gray-500"}`))&&r(ke,"class",Ee),(!D||v&32)&&ge!==(ge=m[21].bonusPoints+"")&&M(it,ge),(!D||v&32&&oe!==(oe=`w-1/12 text-center ${m[21].bonusPoints>0?"":"text-gray-500"}`))&&r(Pe,"class",oe),(!D||v&32)&&Qe!==(Qe=m[21].points+"")&&M(he,Qe)},i(m){D||(P&&Z(P.$$.fragment,m),Z(N.$$.fragment,m),D=!0)},o(m){P&&le(P.$$.fragment,m),le(N.$$.fragment,m),D=!1},d(m){m&&i(t),P&&mt(P),mt(N)}}}function zs(s){let t,a,l,c,p,w,P,x,L,$,q,j,N,O,G,B,U='<div class="w-1/12 text-center mx-4">Position</div> <div class="w-2/12">Player</div> <div class="w-2/12 text-center">Team</div> <div class="w-1/2 flex"><div class="w-1/12 text-center">A</div> <div class="w-1/12 text-center">HSP</div> <div class="w-1/12 text-center">GS</div> <div class="w-1/12 text-center">GA</div> <div class="w-1/12 text-center">PS</div> <div class="w-1/12 text-center">CS</div> <div class="w-1/12 text-center">KS</div> <div class="w-1/12 text-center">YC</div> <div class="w-1/12 text-center">OG</div> <div class="w-1/12 text-center">GC</div> <div class="w-1/12 text-center">RC</div> <div class="w-1/12 text-center">B</div></div> <div class="w-1/12 text-center">PTS</div>',C,H,ee,J,z=Wt(s[6]),_=[];for(let u=0;u<z.length;u+=1)_[u]=Es(ks(s,z,u));let T=Wt(s[5]),I=[];for(let u=0;u<T.length;u+=1)I[u]=Cs(ys(s,T,u));const K=u=>le(I[u],1,1,()=>{I[u]=null});return{c(){t=n("div"),a=n("div"),l=n("div"),c=n("button"),p=k("<"),P=g(),x=n("select");for(let u=0;u<_.length;u+=1)_[u].c();L=g(),$=n("button"),q=k(">"),N=g(),O=n("div"),G=n("div"),B=n("div"),B.innerHTML=U,C=g();for(let u=0;u<I.length;u+=1)I[u].c();this.h()},l(u){t=o(u,"DIV",{class:!0});var y=d(t);a=o(y,"DIV",{class:!0});var f=d(a);l=o(f,"DIV",{class:!0});var A=d(l);c=o(A,"BUTTON",{class:!0});var ce=d(c);p=E(ce,"<"),ce.forEach(i),P=h(A),x=o(A,"SELECT",{class:!0});var b=d(x);for(let se=0;se<_.length;se+=1)_[se].l(b);b.forEach(i),L=h(A),$=o(A,"BUTTON",{class:!0});var W=d($);q=E(W,">"),W.forEach(i),A.forEach(i),f.forEach(i),N=h(y),O=o(y,"DIV",{class:!0});var te=d(O);G=o(te,"DIV",{class:!0});var ae=d(G);B=o(ae,"DIV",{class:!0,"data-svelte-h":!0}),gt(B)!=="svelte-1wos48o"&&(B.innerHTML=U),C=h(ae);for(let se=0;se<I.length;se+=1)I[se].l(ae);ae.forEach(i),te.forEach(i),y.forEach(i),this.h()},h(){r(c,"class","text-base sm:text-xs md:text-base rounded fpl-button px-3 sm:px-2 px-3 py-1"),c.disabled=w=s[0]===1,r(x,"class","p-2 fpl-dropdown text-xs md:text-base text-center mx-0 md:mx-2 min-w-[150px] sm:min-w-[100px]"),s[0]===void 0&&Hs(()=>s[13].call(x)),r($,"class","text-base sm:text-xs md:text-base rounded fpl-button px-3 sm:px-2 px-3 py-1 ml-1"),$.disabled=j=s[0]===38,r(l,"class","flex items-center space-x-2"),r(a,"class","flex flex-col sm:flex-row gap-4 sm:gap-8"),r(B,"class","flex justify-between p-2 border border-gray-700 py-4 bg-light-gray"),r(G,"class","overflow-x-auto flex-1"),r(O,"class","flex flex-col space-y-4 mt-4 text-lg"),r(t,"class","mx-5 my-4")},m(u,y){Vt(u,t,y),e(t,a),e(a,l),e(l,c),e(c,p),e(l,P),e(l,x);for(let f=0;f<_.length;f+=1)_[f]&&_[f].m(x,null);ms(x,s[0],!0),e(l,L),e(l,$),e($,q),e(t,N),e(t,O),e(O,G),e(G,B),e(G,C);for(let f=0;f<I.length;f+=1)I[f]&&I[f].m(G,null);H=!0,ee||(J=[Gt(c,"click",s[12]),Gt(x,"change",s[13]),Gt($,"click",s[14])],ee=!0)},p(u,[y]){if((!H||y&65&&w!==(w=u[0]===1))&&(c.disabled=w),y&64){z=Wt(u[6]);let f;for(f=0;f<z.length;f+=1){const A=ks(u,z,f);_[f]?_[f].p(A,y):(_[f]=Es(A),_[f].c(),_[f].m(x,null))}for(;f<_.length;f+=1)_[f].d(1);_.length=z.length}if(y&65&&ms(x,u[0]),(!H||y&65&&j!==(j=u[0]===38))&&($.disabled=j),y&800){T=Wt(u[5]);let f;for(f=0;f<T.length;f+=1){const A=ys(u,T,f);I[f]?(I[f].p(A,y),Z(I[f],1)):(I[f]=Cs(A),I[f].c(),Z(I[f],1),I[f].m(G,null))}for(Ft(),f=T.length;f<I.length;f+=1)K(f);Lt()}},i(u){if(!H){for(let y=0;y<T.length;y+=1)Z(I[y]);H=!0}},o(u){I=I.filter(Boolean);for(let y=0;y<I.length;y+=1)le(I[y]);H=!1},d(u){u&&i(t),vs(_,u),vs(I,u),ee=!1,Ts(J)}}}function Rs(s,t,a){let l,c=Tt,p=()=>(c(),c=Kt(G,b=>a(18,l=b)),G),w,P=Tt,x=()=>(P(),P=Kt(B,b=>a(19,w=b)),B),L,$=Tt,q=()=>($(),$=Kt(T,b=>a(10,L=b)),T),j,N=Tt,O=()=>(N(),N=Kt(U,b=>a(11,j=b)),U);s.$$.on_destroy.push(()=>c()),s.$$.on_destroy.push(()=>P()),s.$$.on_destroy.push(()=>$()),s.$$.on_destroy.push(()=>N());let{teams:G=Qt([])}=t;p();let{players:B=Qt([])}=t;x();let{systemState:U=Qt(null)}=t;O();let C,H,ee,J=[],z=Array.from({length:38},(b,W)=>W+1),{selectedGameweek:_}=t,{fantasyTeam:T}=t;q(),Vs(async()=>{try{await Xt.sync(),await Zt.sync(),await hs.sync(),await bs.sync(),C=Xt.subscribe(b=>{U.set(b)}),H=Zt.subscribe(b=>{G.set(b)}),ee=hs.subscribe(b=>{B.set(b)})}catch(b){ls({msg:{text:"Error fetching manager gameweek detail."},err:b}),console.error("Error fetching manager gameweek detail:",b)}});async function I(){try{a(5,J=await bs.getGameweekPlayers(L,_))}catch(b){ls({msg:{text:"Error updating gameweek players."},err:b}),console.error("Error updating gameweek players:",b)}}Ns(()=>{H?.(),ee?.(),C?.()});const K=b=>{a(0,_=Math.max(1,Math.min(38,_+b)))};function u(b){return w.find(W=>W.id===b)??null}function y(b){return l.find(W=>W.id===b)??null}const f=()=>K(-1);function A(){_=As(this),a(0,_),a(11,j),a(6,z)}const ce=()=>K(1);return s.$$set=b=>{"teams"in b&&p(a(1,G=b.teams)),"players"in b&&x(a(2,B=b.players)),"systemState"in b&&O(a(3,U=b.systemState)),"selectedGameweek"in b&&a(0,_=b.selectedGameweek),"fantasyTeam"in b&&q(a(4,T=b.fantasyTeam))},s.$$.update=()=>{s.$$.dirty&2049&&j&&a(0,_=j?.activeGameweek??_),s.$$.dirty&1024&&L&&I()},[_,G,B,U,T,J,z,K,u,y,L,j,f,A,ce]}class Ys extends Gs{constructor(t){super(),Fs(this,t,Rs,zs,Ss,{teams:1,players:2,systemState:3,selectedGameweek:0,fantasyTeam:4})}}function Ks(s){let t,a,l,c,p,w,P,x,L,$,q,j="Manager",N,O,G,B,U,C,H,ee,J,z,_,T,I="Favourite Team",K,u,y,f,A=(s[3]?.abbreviatedName??"-")+"",ce,b,W,te=(s[3]?.name??"Not Set")+"",ae,se,Q,de,re,et="Leaderboards",tt,ue,Ue=s[1].weeklyPositionText+"",be,qe,fe,st,Je=s[1].weeklyPoints.toLocaleString()+"",we,ze,lt,xe,bt="Weekly",Ie,me,at,ne,Fe,ve=(s[3]?.friendlyName??"Not Entered")+"",Le,rt,_e,Re=s[1].monthlyPositionText+"",ye,Ye,pe,nt,Ke=(s[3]?s[1].monthlyPoints.toLocaleString():"-")+"",ke,We,ot,Ee,wt="Club",Pe,ge,it,oe,He,Me,Qe,he,Xe=s[1].seasonPositionText+"",D,Ae,$e,m,v=s[1].seasonPoints.toLocaleString()+"",Ce,De,ct,V,Nt="Season",xt,Se,Te,Ve,Ne,yt,vt,kt,Ge,Et,_t,Ct,pt,es,je,Ht,X,ts,as;y=new Ls({props:{className:"w-7 mr-2",primaryColour:s[3]?.primaryColourHex??"#2CE3A6",secondaryColour:s[3]?.secondaryColourHex??"#FFFFFF",thirdColour:s[3]?.thirdColourHex??"#000000"}});let ie=s[0]==="details"&&Is(),R=s[0]==="details"&&Ps(s),Y=s[0]==="gameweeks"&&$s(s);return{c(){t=n("div"),a=n("div"),l=n("div"),c=n("div"),p=n("img"),P=g(),x=n("div"),L=g(),$=n("div"),q=n("p"),q.textContent=j,N=g(),O=n("p"),G=k(s[2]),B=g(),U=n("p"),C=k("Joined: "),H=k(s[4]),ee=g(),J=n("div"),z=g(),_=n("div"),T=n("p"),T.textContent=I,K=g(),u=n("p"),ut(y.$$.fragment),f=g(),ce=k(A),b=g(),W=n("p"),ae=k(te),se=g(),Q=n("div"),de=n("div"),re=n("p"),re.textContent=et,tt=g(),ue=n("p"),be=k(Ue),qe=g(),fe=n("span"),st=k("("),we=k(Je),ze=k(")"),lt=g(),xe=n("p"),xe.textContent=bt,Ie=g(),me=n("div"),at=g(),ne=n("div"),Fe=n("p"),Le=k(ve),rt=g(),_e=n("p"),ye=k(Re),Ye=g(),pe=n("span"),nt=k("("),ke=k(Ke),We=k(")"),ot=g(),Ee=n("p"),Ee.textContent=wt,Pe=g(),ge=n("div"),it=g(),oe=n("div"),He=n("p"),Me=k(Ds),Qe=g(),he=n("p"),D=k(Xe),Ae=g(),$e=n("span"),m=k("("),Ce=k(v),De=k(")"),ct=g(),V=n("p"),V.textContent=Nt,xt=g(),Se=n("div"),Te=n("div"),Ve=n("div"),Ne=n("button"),yt=k("Details"),kt=g(),Ge=n("button"),Et=k("Gameweeks"),Ct=g(),pt=n("div"),ie&&ie.c(),es=g(),je=n("div"),R&&R.c(),Ht=g(),Y&&Y.c(),this.h()},l(S){t=o(S,"DIV",{class:!0});var F=d(t);a=o(F,"DIV",{class:!0});var Ze=d(a);l=o(Ze,"DIV",{class:!0});var Be=d(l);c=o(Be,"DIV",{class:!0});var rs=d(c);p=o(rs,"IMG",{class:!0,src:!0,alt:!0}),rs.forEach(i),P=h(Be),x=o(Be,"DIV",{class:!0,style:!0}),d(x).forEach(i),L=h(Be),$=o(Be,"DIV",{class:!0});var It=d($);q=o(It,"P",{class:!0,"data-svelte-h":!0}),gt(q)!=="svelte-196qejk"&&(q.textContent=j),N=h(It),O=o(It,"P",{class:!0});var ns=d(O);G=E(ns,s[2]),ns.forEach(i),B=h(It),U=o(It,"P",{class:!0});var ss=d(U);C=E(ss,"Joined: "),H=E(ss,s[4]),ss.forEach(i),It.forEach(i),ee=h(Be),J=o(Be,"DIV",{class:!0,style:!0}),d(J).forEach(i),z=h(Be),_=o(Be,"DIV",{class:!0});var Pt=d(_);T=o(Pt,"P",{class:!0,"data-svelte-h":!0}),gt(T)!=="svelte-1ow2hgj"&&(T.textContent=I),K=h(Pt),u=o(Pt,"P",{class:!0});var Mt=d(u);ht(y.$$.fragment,Mt),f=h(Mt),ce=E(Mt,A),Mt.forEach(i),b=h(Pt),W=o(Pt,"P",{class:!0});var os=d(W);ae=E(os,te),os.forEach(i),Pt.forEach(i),Be.forEach(i),se=h(Ze),Q=o(Ze,"DIV",{class:!0});var Oe=d(Q);de=o(Oe,"DIV",{class:!0});var $t=d(de);re=o($t,"P",{class:!0,"data-svelte-h":!0}),gt(re)!=="svelte-zi1obj"&&(re.textContent=et),tt=h($t),ue=o($t,"P",{class:!0});var At=d(ue);be=E(At,Ue),qe=h(At),fe=o(At,"SPAN",{class:!0});var jt=d(fe);st=E(jt,"("),we=E(jt,Je),ze=E(jt,")"),jt.forEach(i),At.forEach(i),lt=h($t),xe=o($t,"P",{class:!0,"data-svelte-h":!0}),gt(xe)!=="svelte-kckbx6"&&(xe.textContent=bt),$t.forEach(i),Ie=h(Oe),me=o(Oe,"DIV",{class:!0,style:!0}),d(me).forEach(i),at=h(Oe),ne=o(Oe,"DIV",{class:!0});var Dt=d(ne);Fe=o(Dt,"P",{class:!0});var is=d(Fe);Le=E(is,ve),is.forEach(i),rt=h(Dt),_e=o(Dt,"P",{class:!0});var Bt=d(_e);ye=E(Bt,Re),Ye=h(Bt),pe=o(Bt,"SPAN",{class:!0});var Ot=d(pe);nt=E(Ot,"("),ke=E(Ot,Ke),We=E(Ot,")"),Ot.forEach(i),Bt.forEach(i),ot=h(Dt),Ee=o(Dt,"P",{class:!0,"data-svelte-h":!0}),gt(Ee)!=="svelte-16wz1qn"&&(Ee.textContent=wt),Dt.forEach(i),Pe=h(Oe),ge=o(Oe,"DIV",{class:!0,style:!0}),d(ge).forEach(i),it=h(Oe),oe=o(Oe,"DIV",{class:!0});var St=d(oe);He=o(St,"P",{class:!0});var cs=d(He);Me=E(cs,Ds),cs.forEach(i),Qe=h(St),he=o(St,"P",{class:!0});var Ut=d(he);D=E(Ut,Xe),Ae=h(Ut),$e=o(Ut,"SPAN",{class:!0});var qt=d($e);m=E(qt,"("),Ce=E(qt,v),De=E(qt,")"),qt.forEach(i),Ut.forEach(i),ct=h(St),V=o(St,"P",{class:!0,"data-svelte-h":!0}),gt(V)!=="svelte-6ylamg"&&(V.textContent=Nt),St.forEach(i),Oe.forEach(i),Ze.forEach(i),xt=h(F),Se=o(F,"DIV",{class:!0});var Jt=d(Se);Te=o(Jt,"DIV",{class:!0});var zt=d(Te);Ve=o(zt,"DIV",{class:!0});var Rt=d(Ve);Ne=o(Rt,"BUTTON",{class:!0});var ds=d(Ne);yt=E(ds,"Details"),ds.forEach(i),kt=h(Rt),Ge=o(Rt,"BUTTON",{class:!0});var us=d(Ge);Et=E(us,"Gameweeks"),us.forEach(i),Rt.forEach(i),Ct=h(zt),pt=o(zt,"DIV",{class:!0});var fs=d(pt);ie&&ie.l(fs),fs.forEach(i),zt.forEach(i),es=h(Jt),je=o(Jt,"DIV",{class:!0});var Yt=d(je);R&&R.l(Yt),Ht=h(Yt),Y&&Y.l(Yt),Yt.forEach(i),Jt.forEach(i),F.forEach(i),this.h()},h(){r(p,"class","w-20"),gs(p.src,w=s[5])||r(p,"src",w),r(p,"alt",s[2]),r(c,"class","flex"),r(x,"class","flex-shrink-0 w-px bg-gray-400 self-stretch"),dt(x,"min-width","2px"),dt(x,"min-height","50px"),r(q,"class","text-gray-300 text-xs"),r(O,"class","text-2xl sm:text-3xl md:text-4xl mt-2 mb-2 font-bold"),r(U,"class","text-gray-300 text-xs"),r($,"class","flex-grow"),r(J,"class","flex-shrink-0 w-px bg-gray-400 self-stretch"),dt(J,"min-width","2px"),dt(J,"min-height","50px"),r(T,"class","text-gray-300 text-xs"),r(u,"class","text-2xl sm:text-3xl md:text-4xl mt-2 mb-2 font-bold flex items-center"),r(W,"class","text-gray-300 text-xs"),r(_,"class","flex-grow"),r(l,"class","flex justify-start items-center text-white space-x-4 flex-grow m-4 bg-panel p-4 rounded-md"),r(re,"class","text-gray-300 text-xs"),r(fe,"class","text-xs"),r(ue,"class","text-2xl sm:text-3xl md:text-4xl mt-2 mb-2 font-bold"),r(xe,"class","text-gray-300 text-xs"),r(de,"class","flex-grow"),r(me,"class","flex-shrink-0 w-px bg-gray-400 self-stretch"),dt(me,"min-width","2px"),dt(me,"min-height","50px"),r(Fe,"class","text-gray-300 text-xs"),r(pe,"class","text-xs"),r(_e,"class","text-2xl sm:text-3xl md:text-4xl mt-2 mb-2 font-bold"),r(Ee,"class","text-gray-300 text-xs"),r(ne,"class","flex-grow"),r(ge,"class","flex-shrink-0 w-px bg-gray-400 self-stretch"),dt(ge,"min-width","2px"),dt(ge,"min-height","50px"),r(He,"class","text-gray-300 text-xs"),r($e,"class","text-xs"),r(he,"class","text-2xl sm:text-3xl md:text-4xl mt-2 mb-2 font-bold"),r(V,"class","text-gray-300 text-xs"),r(oe,"class","flex-grow"),r(Q,"class","flex justify-start items-center text-white space-x-4 flex-grow m-4 bg-panel p-4 rounded-md"),r(a,"class","flex flex-col md:flex-row"),r(Ne,"class",vt=`btn ${s[0]==="details"?"fpl-button":"inactive-btn"} px-4 py-2 rounded-l-md font-bold text-md min-w-[125px]`),r(Ge,"class",_t=`btn ${s[0]==="gameweeks"?"fpl-button":"inactive-btn"} px-4 py-2 rounded-r-md font-bold text-md min-w-[125px]`),r(Ve,"class","flex"),r(pt,"class","px-4"),r(Te,"class","flex justify-between items-center text-white px-4 pt-4 rounded-md w-full"),r(je,"class","w-full"),r(Se,"class","flex flex-col bg-panel m-4 rounded-md"),r(t,"class","m-4")},m(S,F){Vt(S,t,F),e(t,a),e(a,l),e(l,c),e(c,p),e(l,P),e(l,x),e(l,L),e(l,$),e($,q),e($,N),e($,O),e(O,G),e($,B),e($,U),e(U,C),e(U,H),e(l,ee),e(l,J),e(l,z),e(l,_),e(_,T),e(_,K),e(_,u),ft(y,u,null),e(u,f),e(u,ce),e(_,b),e(_,W),e(W,ae),e(a,se),e(a,Q),e(Q,de),e(de,re),e(de,tt),e(de,ue),e(ue,be),e(ue,qe),e(ue,fe),e(fe,st),e(fe,we),e(fe,ze),e(de,lt),e(de,xe),e(Q,Ie),e(Q,me),e(Q,at),e(Q,ne),e(ne,Fe),e(Fe,Le),e(ne,rt),e(ne,_e),e(_e,ye),e(_e,Ye),e(_e,pe),e(pe,nt),e(pe,ke),e(pe,We),e(ne,ot),e(ne,Ee),e(Q,Pe),e(Q,ge),e(Q,it),e(Q,oe),e(oe,He),e(He,Me),e(oe,Qe),e(oe,he),e(he,D),e(he,Ae),e(he,$e),e($e,m),e($e,Ce),e($e,De),e(oe,ct),e(oe,V),e(t,xt),e(t,Se),e(Se,Te),e(Te,Ve),e(Ve,Ne),e(Ne,yt),e(Ve,kt),e(Ve,Ge),e(Ge,Et),e(Te,Ct),e(Te,pt),ie&&ie.m(pt,null),e(Se,es),e(Se,je),R&&R.m(je,null),e(je,Ht),Y&&Y.m(je,null),X=!0,ts||(as=[Gt(Ne,"click",s[13]),Gt(Ge,"click",s[14])],ts=!0)},p(S,F){(!X||F&32&&!gs(p.src,w=S[5]))&&r(p,"src",w),(!X||F&4)&&r(p,"alt",S[2]),(!X||F&4)&&M(G,S[2]),(!X||F&16)&&M(H,S[4]);const Ze={};F&8&&(Ze.primaryColour=S[3]?.primaryColourHex??"#2CE3A6"),F&8&&(Ze.secondaryColour=S[3]?.secondaryColourHex??"#FFFFFF"),F&8&&(Ze.thirdColour=S[3]?.thirdColourHex??"#000000"),y.$set(Ze),(!X||F&8)&&A!==(A=(S[3]?.abbreviatedName??"-")+"")&&M(ce,A),(!X||F&8)&&te!==(te=(S[3]?.name??"Not Set")+"")&&M(ae,te),(!X||F&2)&&Ue!==(Ue=S[1].weeklyPositionText+"")&&M(be,Ue),(!X||F&2)&&Je!==(Je=S[1].weeklyPoints.toLocaleString()+"")&&M(we,Je),(!X||F&8)&&ve!==(ve=(S[3]?.friendlyName??"Not Entered")+"")&&M(Le,ve),(!X||F&2)&&Re!==(Re=S[1].monthlyPositionText+"")&&M(ye,Re),(!X||F&10)&&Ke!==(Ke=(S[3]?S[1].monthlyPoints.toLocaleString():"-")+"")&&M(ke,Ke),(!X||F&2)&&Xe!==(Xe=S[1].seasonPositionText+"")&&M(D,Xe),(!X||F&2)&&v!==(v=S[1].seasonPoints.toLocaleString()+"")&&M(Ce,v),(!X||F&1&&vt!==(vt=`btn ${S[0]==="details"?"fpl-button":"inactive-btn"} px-4 py-2 rounded-l-md font-bold text-md min-w-[125px]`))&&r(Ne,"class",vt),(!X||F&1&&_t!==(_t=`btn ${S[0]==="gameweeks"?"fpl-button":"inactive-btn"} px-4 py-2 rounded-r-md font-bold text-md min-w-[125px]`))&&r(Ge,"class",_t),S[0]==="details"?ie||(ie=Is(),ie.c(),ie.m(pt,null)):ie&&(ie.d(1),ie=null),S[0]==="details"?R?(R.p(S,F),F&1&&Z(R,1)):(R=Ps(S),R.c(),Z(R,1),R.m(je,Ht)):R&&(Ft(),le(R,1,1,()=>{R=null}),Lt()),S[0]==="gameweeks"?Y?(Y.p(S,F),F&1&&Z(Y,1)):(Y=$s(S),Y.c(),Z(Y,1),Y.m(je,null)):Y&&(Ft(),le(Y,1,1,()=>{Y=null}),Lt())},i(S){X||(Z(y.$$.fragment,S),Z(R),Z(Y),X=!0)},o(S){le(y.$$.fragment,S),le(R),le(Y),X=!1},d(S){S&&i(t),mt(y),ie&&ie.d(),R&&R.d(),Y&&Y.d(),ts=!1,Ts(as)}}}function Ws(s){let t,a;return t=new Js({}),{c(){ut(t.$$.fragment)},l(l){ht(t.$$.fragment,l)},m(l,c){ft(t,l,c),a=!0},p:Tt,i(l){a||(Z(t.$$.fragment,l),a=!0)},o(l){le(t.$$.fragment,l),a=!1},d(l){mt(t,l)}}}function Is(s){let t,a,l="0",c;return{c(){t=n("span"),a=k("Total Points: "),c=k(l),this.h()},l(p){t=o(p,"SPAN",{class:!0});var w=d(t);a=E(w,"Total Points: "),c=E(w,l),w.forEach(i),this.h()},h(){r(t,"class","text-2xl")},m(p,w){Vt(p,t,w),e(t,a),e(t,c)},d(p){p&&i(t)}}}function Ps(s){let t,a;return t=new Ys({props:{selectedGameweek:s[7],fantasyTeam:s[8]}}),{c(){ut(t.$$.fragment)},l(l){ht(t.$$.fragment,l)},m(l,c){ft(t,l,c),a=!0},p(l,c){const p={};c&128&&(p.selectedGameweek=l[7]),t.$set(p)},i(l){a||(Z(t.$$.fragment,l),a=!0)},o(l){le(t.$$.fragment,l),a=!1},d(l){mt(t,l)}}}function $s(s){let t,a;return t=new qs({props:{viewGameweekDetail:s[10],principalId:s[1].principalId}}),{c(){ut(t.$$.fragment)},l(l){ht(t.$$.fragment,l)},m(l,c){ft(t,l,c),a=!0},p(l,c){const p={};c&2&&(p.principalId=l[1].principalId),t.$set(p)},i(l){a||(Z(t.$$.fragment,l),a=!0)},o(l){le(t.$$.fragment,l),a=!1},d(l){mt(t,l)}}}function Qs(s){let t,a,l,c;const p=[Ws,Ks],w=[];function P(x,L){return x[6]?0:1}return t=P(s),a=w[t]=p[t](s),{c(){a.c(),l=ps()},l(x){a.l(x),l=ps()},m(x,L){w[t].m(x,L),Vt(x,l,L),c=!0},p(x,L){let $=t;t=P(x),t===$?w[t].p(x,L):(Ft(),le(w[$],1,1,()=>{w[$]=null}),Lt(),a=w[t],a?a.p(x,L):(a=w[t]=p[t](x),a.c()),Z(a,1),a.m(l.parentNode,l))},i(x){c||(Z(a),c=!0)},o(x){le(a),c=!1},d(x){x&&i(l),w[t].d(x)}}}function Xs(s){let t,a;return t=new Os({props:{$$slots:{default:[Qs]},$$scope:{ctx:s}}}),{c(){ut(t.$$.fragment)},l(l){ht(t.$$.fragment,l)},m(l,c){ft(t,l,c),a=!0},p(l,[c]){const p={};c&1048831&&(p.$$scope={dirty:c,ctx:l}),t.$set(p)},i(l){a||(Z(t.$$.fragment,l),a=!0)},o(l){le(t.$$.fragment,l),a=!1},d(l){mt(t,l)}}}let Ds="";function Zs(s,t,a){let l,c,p,w;js(s,Bs,_=>a(12,w=_));let P="details",x,L=Qt(null),$,q,j,N,O="",G=null,B="",U,C=!0;Vs(async()=>{try{await Xt.sync(),await Zt.sync(),q=Xt.subscribe(y=>{$=y}),j=Zt.subscribe(y=>{x=y}),a(1,N=await Us.getManager(l??"",$?.activeSeason.id??1,c&&c>0?c:$?.activeGameweek??1)),a(2,O=N.displayName);const _=new Blob([new Uint8Array(N.profilePicture)]),T=N.profilePicture.length>0?URL.createObjectURL(_):"profile_placeholder.png";a(5,U=T);const I=Number(N.createDate/1000000n),K=new Date(I);a(4,B=`${["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][K.getUTCMonth()]} ${K.getUTCFullYear()}`),a(3,G=N.favouriteTeamId>0?x.find(y=>y.id==N.favouriteTeamId)??null:null)}catch(_){ls({msg:{text:"Error fetching manager details."},err:_}),console.error("Error fetching manager details:",_)}finally{a(6,C=!1)}}),Ns(()=>{j?.(),q?.()});function H(_){a(0,P=_)}function ee(_,T){let I=N.gameweeks.find(K=>K.gameweek===T);L.set(I),H("details")}const J=()=>H("details"),z=()=>H("gameweeks");return s.$$.update=()=>{s.$$.dirty&4096&&(l=w.url.searchParams.get("id")),s.$$.dirty&4096&&a(11,c=Number(w.url.searchParams.get("gw"))??0),s.$$.dirty&2048&&a(7,p=c)},[P,N,O,G,B,U,C,p,L,H,ee,c,w,J,z]}class cl extends Gs{constructor(t){super(),Fs(this,t,Zs,Xs,Ss,{})}}export{cl as component};
