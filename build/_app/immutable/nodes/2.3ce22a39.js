var Xl=Object.defineProperty;var Ql=(s,a,t)=>a in s?Xl(s,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[a]=t;var Ht=(s,a,t)=>(Ql(s,typeof a!="symbol"?a+"":a,t),t);import{S as qa,i as Ba,s as Ua,k as o,q as b,a as T,l as n,m as i,r as E,h as r,c as k,n as c,J as ja,b as be,G as e,K as Ve,L as ye,g as he,v as $a,f as Ga,d as ge,M as ca,N as ya,o as _t,H as Ke,u as ue,O as Fa,y as Re,z as Fe,A as je,B as $e,e as ft,p as na,P as Le}from"../chunks/index.dab0e011.js";import{L as Zl}from"../chunks/Layout.9d799e1b.js";import{S as ia,r as Mt,T as mt,f as Wt,B as Wa,u as es,a as as,g as ts}from"../chunks/BadgeIcon.1a82ba04.js";import{F as qt}from"../chunks/FixtureService.688b7589.js";import{A as ls,i as ss,L as Jl}from"../chunks/LoadingIcon.c6bc274d.js";import{M as rs}from"../chunks/ManagerService.84376201.js";class Yl{constructor(){Ht(this,"actor");Ht(this,"itemsPerPage",25);this.actor=ls.createActor(ss,"bkyz2-fmaaa-aaaaa-qaaaq-cai")}async updateWeeklyLeaderboardData(){let a="weekly_leaderboard",l=(await this.actor.getDataHashes()).find(u=>u.category==a)??null;const d=localStorage.getItem(a);if(l?.hash!=d){let u=new ia;await u.updateSystemStateData();let f=await u.getSystemState(),I=await this.actor.getWeeklyLeaderboardCache(f?.activeSeason.id,f?.focusGameweek);localStorage.setItem("weekly_leaderboard_data",JSON.stringify(I,Mt)),localStorage.setItem(a,l?.hash??"")}}async updateMonthlyLeaderboardData(){let a="monthly_leaderboards",l=(await this.actor.getDataHashes()).find(u=>u.category==a)??null;const d=localStorage.getItem(a);if(l?.hash!=d){let u=new ia;await u.updateSystemStateData();let f=await u.getSystemState(),I=await this.actor.getClubLeaderboardsCache(f?.activeSeason.id,f?.activeMonth);localStorage.setItem("monthly_leaderboard_data",JSON.stringify(I,Mt)),localStorage.setItem(a,l?.hash??"")}}async updateSeasonLeaderboardData(){let a="season_leaderboard",l=(await this.actor.getDataHashes()).find(u=>u.category==a)??null;const d=localStorage.getItem(a);if(l?.hash!=d){let u=new ia;await u.updateSystemStateData();let f=await u.getSystemState(),I=await this.actor.getSeasonLeaderboardCache(f?.activeSeason.id);localStorage.setItem("season_leaderboard_data",JSON.stringify(I,Mt)),localStorage.setItem(a,l?.hash??"")}}async getWeeklyLeaderboard(){const a=localStorage.getItem("weekly_leaderboard_data");let t;try{t=JSON.parse(a||"{entries: [], gameweek: 0, seasonId: 0, totalEntries: 0n }")}catch{t={entries:[],gameweek:0,seasonId:0,totalEntries:0n}}return t}async getWeeklyLeaderboardPage(a,t){const l=this.itemsPerPage,d=(t-1)*l;let u=new ia;await u.updateSystemStateData();let f=await u.getSystemState();return await this.actor.getWeeklyLeaderboard(f?.activeSeason.id,a,l,d)}async getMonthlyLeaderboard(a){const t=localStorage.getItem("monthly_leaderboards_data");let l;try{l=JSON.parse(t||"[]")}catch{l=[]}return l.find(u=>u.clubId===a)??null}async getSeasonLeaderboard(){const a=localStorage.getItem("season_leaderboard_data");let t;try{t=JSON.parse(a||"{entries: [], gameweek: 0, seasonId: 0, totalEntries: 0n }")}catch{t={entries:[],gameweek:0,seasonId:0,totalEntries:0n}}return t}async getLeadingWeeklyTeam(){return(await this.getWeeklyLeaderboard()).entries[0]}}function Cl(s,a,t){const l=s.slice();return l[14]=a[t][0],l[1]=a[t][1],l}function Ol(s,a,t){const l=s.slice();return l[17]=a[t].fixture,l[18]=a[t].homeTeam,l[19]=a[t].awayTeam,l}function Al(s,a,t){const l=s.slice();return l[22]=a[t],l}function Ll(s){let a,t,l=s[22]+"",d;return{c(){a=o("option"),t=b("Gameweek "),d=b(l),this.h()},l(u){a=n(u,"OPTION",{});var f=i(a);t=E(f,"Gameweek "),d=E(f,l),f.forEach(r),this.h()},h(){a.__value=s[22],a.value=a.__value},m(u,f){be(u,a,f),e(a,t),e(a,d)},p:Ke,d(u){u&&r(a)}}}function Vl(s){let a,t,l,d,u,f,I,_,g,p,L,S,w,m,y,v,h,N,A=Wt(Number(s[17].kickOff))+"",D,M,R,G,P,H=(s[18]?s[18].friendlyName:"")+"",C,ae,Z,q,ne=(s[19]?s[19].friendlyName:"")+"",ee,Q,te,fe,ie,le=(s[17].status===0?"-":s[17].homeGoals)+"",K,se,B,J=(s[17].status===0?"-":s[17].awayGoals)+"",z,de,re;return f=new Wa({props:{primaryColour:s[18]?s[18].primaryColourHex:"",secondaryColour:s[18]?s[18].secondaryColourHex:"",thirdColour:s[18]?s[18].thirdColourHex:""}}),m=new Wa({props:{primaryColour:s[19]?s[19].primaryColourHex:"",secondaryColour:s[19]?s[19].secondaryColourHex:"",thirdColour:s[19]?s[19].thirdColourHex:""}}),{c(){a=o("div"),t=o("div"),l=o("div"),d=o("div"),u=o("a"),Re(f.$$.fragment),_=T(),g=o("span"),p=b("v"),L=T(),S=o("div"),w=o("a"),Re(m.$$.fragment),v=T(),h=o("div"),N=o("span"),D=b(A),M=T(),R=o("div"),G=o("div"),P=o("a"),C=b(H),Z=T(),q=o("a"),ee=b(ne),te=T(),fe=o("div"),ie=o("span"),K=b(le),se=T(),B=o("span"),z=b(J),this.h()},l(F){a=n(F,"DIV",{class:!0});var V=i(a);t=n(V,"DIV",{class:!0});var O=i(t);l=n(O,"DIV",{class:!0});var x=i(l);d=n(x,"DIV",{class:!0});var Y=i(d);u=n(Y,"A",{href:!0});var Ee=i(u);Fe(f.$$.fragment,Ee),Ee.forEach(r),Y.forEach(r),_=k(x),g=n(x,"SPAN",{class:!0});var ve=i(g);p=E(ve,"v"),ve.forEach(r),L=k(x),S=n(x,"DIV",{class:!0});var oe=i(S);w=n(oe,"A",{href:!0});var Ie=i(w);Fe(m.$$.fragment,Ie),Ie.forEach(r),oe.forEach(r),x.forEach(r),v=k(O),h=n(O,"DIV",{class:!0});var U=i(h);N=n(U,"SPAN",{class:!0});var Se=i(N);D=E(Se,A),Se.forEach(r),U.forEach(r),O.forEach(r),M=k(V),R=n(V,"DIV",{class:!0});var $=i(R);G=n($,"DIV",{class:!0});var X=i(G);P=n(X,"A",{href:!0});var W=i(P);C=E(W,H),W.forEach(r),Z=k(X),q=n(X,"A",{href:!0});var pe=i(q);ee=E(pe,ne),pe.forEach(r),X.forEach(r),te=k($),fe=n($,"DIV",{class:!0});var we=i(fe);ie=n(we,"SPAN",{});var De=i(ie);K=E(De,le),De.forEach(r),se=k(we),B=n(we,"SPAN",{});var Ne=i(B);z=E(Ne,J),Ne.forEach(r),we.forEach(r),$.forEach(r),V.forEach(r),this.h()},h(){c(u,"href",I=`/club?id=${s[17].homeTeamId}`),c(d,"class","w-10 items-center justify-center"),c(g,"class","font-bold text-lg"),c(w,"href",y=`/club?id=${s[17].awayTeamId}`),c(S,"class","w-10 items-center justify-center"),c(l,"class","flex w-1/2 space-x-4 justify-center"),c(N,"class","text-sm md:text-lg ml-4 md:ml-0 text-left"),c(h,"class","flex w-1/2 md:justify-center"),c(t,"class","flex items-center w-1/2 ml-4"),c(P,"href",ae=`/club?id=${s[17].homeTeamId}`),c(q,"href",Q=`/club?id=${s[17].awayTeamId}`),c(G,"class","flex flex-col min-w-[120px] md:min-w-[300px] text-xs md:text-lg"),c(fe,"class","flex flex-col min-w-[120px] md:min-w-[300px] text-xs md:text-lg"),c(R,"class","flex items-center space-x-10 w-1/2 md:justify-center"),c(a,"class",de=`flex items-center justify-between py-2 border-b border-gray-700  ${s[17].status===0?"text-gray-400":"text-white"}`)},m(F,V){be(F,a,V),e(a,t),e(t,l),e(l,d),e(d,u),je(f,u,null),e(l,_),e(l,g),e(g,p),e(l,L),e(l,S),e(S,w),je(m,w,null),e(t,v),e(t,h),e(h,N),e(N,D),e(a,M),e(a,R),e(R,G),e(G,P),e(P,C),e(G,Z),e(G,q),e(q,ee),e(R,te),e(R,fe),e(fe,ie),e(ie,K),e(fe,se),e(fe,B),e(B,z),re=!0},p(F,V){const O={};V&4&&(O.primaryColour=F[18]?F[18].primaryColourHex:""),V&4&&(O.secondaryColour=F[18]?F[18].secondaryColourHex:""),V&4&&(O.thirdColour=F[18]?F[18].thirdColourHex:""),f.$set(O),(!re||V&4&&I!==(I=`/club?id=${F[17].homeTeamId}`))&&c(u,"href",I);const x={};V&4&&(x.primaryColour=F[19]?F[19].primaryColourHex:""),V&4&&(x.secondaryColour=F[19]?F[19].secondaryColourHex:""),V&4&&(x.thirdColour=F[19]?F[19].thirdColourHex:""),m.$set(x),(!re||V&4&&y!==(y=`/club?id=${F[17].awayTeamId}`))&&c(w,"href",y),(!re||V&4)&&A!==(A=Wt(Number(F[17].kickOff))+"")&&ue(D,A),(!re||V&4)&&H!==(H=(F[18]?F[18].friendlyName:"")+"")&&ue(C,H),(!re||V&4&&ae!==(ae=`/club?id=${F[17].homeTeamId}`))&&c(P,"href",ae),(!re||V&4)&&ne!==(ne=(F[19]?F[19].friendlyName:"")+"")&&ue(ee,ne),(!re||V&4&&Q!==(Q=`/club?id=${F[17].awayTeamId}`))&&c(q,"href",Q),(!re||V&4)&&le!==(le=(F[17].status===0?"-":F[17].homeGoals)+"")&&ue(K,le),(!re||V&4)&&J!==(J=(F[17].status===0?"-":F[17].awayGoals)+"")&&ue(z,J),(!re||V&4&&de!==(de=`flex items-center justify-between py-2 border-b border-gray-700  ${F[17].status===0?"text-gray-400":"text-white"}`))&&c(a,"class",de)},i(F){re||(he(f.$$.fragment,F),he(m.$$.fragment,F),re=!0)},o(F){ge(f.$$.fragment,F),ge(m.$$.fragment,F),re=!1},d(F){F&&r(a),$e(f),$e(m)}}}function Rl(s){let a,t,l,d=s[14]+"",u,f,I,_,g=s[1],p=[];for(let S=0;S<g.length;S+=1)p[S]=Vl(Ol(s,g,S));const L=S=>ge(p[S],1,1,()=>{p[S]=null});return{c(){a=o("div"),t=o("div"),l=o("h2"),u=b(d),f=T();for(let S=0;S<p.length;S+=1)p[S].c();I=T(),this.h()},l(S){a=n(S,"DIV",{});var w=i(a);t=n(w,"DIV",{class:!0});var m=i(t);l=n(m,"H2",{class:!0});var y=i(l);u=E(y,d),y.forEach(r),m.forEach(r),f=k(w);for(let v=0;v<p.length;v+=1)p[v].l(w);I=k(w),w.forEach(r),this.h()},h(){c(l,"class","date-header ml-4 text-xs md:text-lg"),c(t,"class","flex items-center justify-between border border-gray-700 py-4 bg-light-gray")},m(S,w){be(S,a,w),e(a,t),e(t,l),e(l,u),e(a,f);for(let m=0;m<p.length;m+=1)p[m]&&p[m].m(a,null);e(a,I),_=!0},p(S,w){if((!_||w&4)&&d!==(d=S[14]+"")&&ue(u,d),w&4){g=S[1];let m;for(m=0;m<g.length;m+=1){const y=Ol(S,g,m);p[m]?(p[m].p(y,w),he(p[m],1)):(p[m]=Vl(y),p[m].c(),he(p[m],1),p[m].m(a,I))}for($a(),m=g.length;m<p.length;m+=1)L(m);Ga()}},i(S){if(!_){for(let w=0;w<g.length;w+=1)he(p[w]);_=!0}},o(S){p=p.filter(Boolean);for(let w=0;w<p.length;w+=1)ge(p[w]);_=!1},d(S){S&&r(a),ca(p,S)}}}function os(s){let a,t,l,d,u,f,I,_,g,p,L,S,w,m,y,v,h,N,A=s[3],D=[];for(let P=0;P<A.length;P+=1)D[P]=Ll(Al(s,A,P));let M=Object.entries(s[2]),R=[];for(let P=0;P<M.length;P+=1)R[P]=Rl(Cl(s,M,P));const G=P=>ge(R[P],1,1,()=>{R[P]=null});return{c(){a=o("div"),t=o("div"),l=o("div"),d=o("div"),u=o("button"),f=b("<"),_=T(),g=o("select");for(let P=0;P<D.length;P+=1)D[P].c();p=T(),L=o("button"),S=b(">"),m=T(),y=o("div");for(let P=0;P<R.length;P+=1)R[P].c();this.h()},l(P){a=n(P,"DIV",{class:!0});var H=i(a);t=n(H,"DIV",{class:!0});var C=i(t);l=n(C,"DIV",{class:!0});var ae=i(l);d=n(ae,"DIV",{class:!0});var Z=i(d);u=n(Z,"BUTTON",{class:!0});var q=i(u);f=E(q,"<"),q.forEach(r),_=k(Z),g=n(Z,"SELECT",{class:!0});var ne=i(g);for(let te=0;te<D.length;te+=1)D[te].l(ne);ne.forEach(r),p=k(Z),L=n(Z,"BUTTON",{class:!0});var ee=i(L);S=E(ee,">"),ee.forEach(r),Z.forEach(r),ae.forEach(r),m=k(C),y=n(C,"DIV",{});var Q=i(y);for(let te=0;te<R.length;te+=1)R[te].l(Q);Q.forEach(r),C.forEach(r),H.forEach(r),this.h()},h(){c(u,"class","text-2xl rounded fpl-button px-3 py-1"),u.disabled=I=s[0]===1,c(g,"class","p-2 fpl-dropdown text-sm md:text-xl text-center"),s[0]===void 0&&ja(()=>s[7].call(g)),c(L,"class","text-2xl rounded fpl-button px-3 py-1 ml-1"),L.disabled=w=s[0]===38,c(d,"class","flex items-center space-x-2 ml-4"),c(l,"class","flex flex-col sm:flex-row gap-4 sm:gap-8"),c(t,"class","flex flex-col space-y-4"),c(a,"class","container-fluid mt-4")},m(P,H){be(P,a,H),e(a,t),e(t,l),e(l,d),e(d,u),e(u,f),e(d,_),e(d,g);for(let C=0;C<D.length;C+=1)D[C]&&D[C].m(g,null);Ve(g,s[0],!0),e(d,p),e(d,L),e(L,S),e(t,m),e(t,y);for(let C=0;C<R.length;C+=1)R[C]&&R[C].m(y,null);v=!0,h||(N=[ye(u,"click",s[6]),ye(g,"change",s[7]),ye(L,"click",s[8])],h=!0)},p(P,[H]){if((!v||H&9&&I!==(I=P[0]===1))&&(u.disabled=I),H&8){A=P[3];let C;for(C=0;C<A.length;C+=1){const ae=Al(P,A,C);D[C]?D[C].p(ae,H):(D[C]=Ll(ae),D[C].c(),D[C].m(g,null))}for(;C<D.length;C+=1)D[C].d(1);D.length=A.length}if(H&9&&Ve(g,P[0]),(!v||H&9&&w!==(w=P[0]===38))&&(L.disabled=w),H&4){M=Object.entries(P[2]);let C;for(C=0;C<M.length;C+=1){const ae=Cl(P,M,C);R[C]?(R[C].p(ae,H),he(R[C],1)):(R[C]=Rl(ae),R[C].c(),he(R[C],1),R[C].m(y,null))}for($a(),C=M.length;C<R.length;C+=1)G(C);Ga()}},i(P){if(!v){for(let H=0;H<M.length;H+=1)he(R[H]);v=!0}},o(P){R=R.filter(Boolean);for(let H=0;H<R.length;H+=1)ge(R[H]);v=!1},d(P){P&&r(a),ca(D,P),ca(R,P),h=!1,ya(N)}}}function ns(s,a,t){let l,d;const u=new qt,f=new mt,I=new ia;let _=1,g=[],p=[],L=Array.from({length:38},(h,N)=>N+1);_t(async()=>{try{await I.updateSystemStateData(),await u.updateFixturesData(),await f.updateTeamsData();const h=await u.getFixtures();p=await f.getTeams(),t(1,g=h.map(D=>({fixture:D,homeTeam:w(D.homeTeamId),awayTeam:w(D.awayTeamId)})));let A=await I.getSystemState();t(0,_=A?.activeGameweek??_)}catch(h){console.error("Error fetching data:",h)}});const S=h=>{t(0,_=Math.max(1,Math.min(38,_+h)))};function w(h){return p.find(N=>N.id===h)}const m=()=>S(-1);function y(){_=Fa(this),t(0,_),t(3,L)}const v=()=>S(1);return s.$$.update=()=>{s.$$.dirty&3&&t(5,l=g.filter(({fixture:h})=>h.gameweek===_)),s.$$.dirty&32&&t(2,d=l.reduce((h,N)=>{const A=new Date(Number(N.fixture.kickOff)/1e6),M=new Intl.DateTimeFormat("en-GB",{weekday:"long",day:"numeric",month:"long",year:"numeric"}).format(A);return h[M]||(h[M]=[]),h[M].push(N),h},{}))},[_,g,d,L,S,l,m,y,v]}class is extends qa{constructor(a){super(),Ba(this,a,ns,os,Ua,{})}}function cs(s){let a,t,l;return{c(){a=o("div"),t=o("h1"),l=b("Points"),this.h()},l(d){a=n(d,"DIV",{class:!0});var u=i(a);t=n(u,"H1",{});var f=i(t);l=E(f,"Points"),f.forEach(r),u.forEach(r),this.h()},h(){c(a,"class","container mx-auto mt-4")},m(d,u){be(d,a,u),e(a,t),e(t,l)},p:Ke,i:Ke,o:Ke,d(d){d&&r(a)}}}class ds extends qa{constructor(a){super(),Ba(this,a,null,cs,Ua,{})}}function Fl(s,a,t){const l=s.slice();return l[36]=a[t],l}function jl(s,a,t){const l=s.slice();return l[39]=a[t],l}function $l(s,a,t){const l=s.slice();return l[42]=a[t],l}function us(s){let a,t,l,d,u,f,I,_,g,p,L,S,w,m,y,v,h,N,A,D,M,R,G,P,H,C,ae,Z,q,ne,ee,Q,te,fe,ie,le=s[0]==1&&Gl(s),K=s[0]==2&&Ml(s);function se(z,de){return z[5]&&z[5].entries.length>0?ms:_s}let B=se(s),J=B(s);return{c(){a=o("div"),t=o("div"),l=o("div"),d=o("div"),u=o("div"),f=o("button"),I=b("<"),_=T(),g=o("select"),p=o("option"),L=b("Weekly"),S=o("option"),w=b("Monthly"),m=o("option"),y=b("Season"),v=T(),h=o("button"),N=b(">"),A=T(),le&&le.c(),D=T(),K&&K.c(),M=T(),R=o("div"),G=o("div"),P=o("div"),H=o("div"),C=b("Pos"),ae=T(),Z=o("div"),q=b("Manager"),ne=T(),ee=o("div"),Q=b("Points"),te=T(),J.c(),this.h()},l(z){a=n(z,"DIV",{class:!0});var de=i(a);t=n(de,"DIV",{class:!0});var re=i(t);l=n(re,"DIV",{class:!0});var F=i(l);d=n(F,"DIV",{class:!0});var V=i(d);u=n(V,"DIV",{class:!0});var O=i(u);f=n(O,"BUTTON",{class:!0});var x=i(f);I=E(x,"<"),x.forEach(r),_=k(O),g=n(O,"SELECT",{class:!0});var Y=i(g);p=n(Y,"OPTION",{});var Ee=i(p);L=E(Ee,"Weekly"),Ee.forEach(r),S=n(Y,"OPTION",{});var ve=i(S);w=E(ve,"Monthly"),ve.forEach(r),m=n(Y,"OPTION",{});var oe=i(m);y=E(oe,"Season"),oe.forEach(r),Y.forEach(r),v=k(O),h=n(O,"BUTTON",{class:!0});var Ie=i(h);N=E(Ie,">"),Ie.forEach(r),O.forEach(r),A=k(V),le&&le.l(V),D=k(V),K&&K.l(V),V.forEach(r),F.forEach(r),M=k(re),R=n(re,"DIV",{class:!0});var U=i(R);G=n(U,"DIV",{class:!0});var Se=i(G);P=n(Se,"DIV",{class:!0});var $=i(P);H=n($,"DIV",{class:!0});var X=i(H);C=E(X,"Pos"),X.forEach(r),ae=k($),Z=n($,"DIV",{class:!0});var W=i(Z);q=E(W,"Manager"),W.forEach(r),ne=k($),ee=n($,"DIV",{class:!0});var pe=i(ee);Q=E(pe,"Points"),pe.forEach(r),$.forEach(r),te=k(Se),J.l(Se),Se.forEach(r),U.forEach(r),re.forEach(r),de.forEach(r),this.h()},h(){c(f,"class","text-2xl rounded fpl-button px-3 py-1"),p.__value=1,p.value=p.__value,S.__value=2,S.value=S.__value,m.__value=3,m.value=m.__value,c(g,"class","p-2 fpl-dropdown text-sm md:text-xl text-center mx-2"),s[0]===void 0&&ja(()=>s[16].call(g)),c(h,"class","text-2xl rounded fpl-button px-3 py-1 ml-1"),c(u,"class","flex items-center mr-8"),c(d,"class","flex items-center ml-4"),c(l,"class","flex flex-col sm:flex-row gap-4 sm:gap-8"),c(H,"class","w-1/6 text-center mx-4"),c(Z,"class","w-1/3 px-4"),c(ee,"class","w-1/2 text-center"),c(P,"class","flex justify-between p-2 border border-gray-700 py-4 bg-light-gray"),c(G,"class","overflow-x-auto flex-1"),c(R,"class","flex flex-col space-y-4 mt-4 text-lg"),c(t,"class","flex flex-col space-y-4"),c(a,"class","container-fluid mt-4")},m(z,de){be(z,a,de),e(a,t),e(t,l),e(l,d),e(d,u),e(u,f),e(f,I),e(u,_),e(u,g),e(g,p),e(p,L),e(g,S),e(S,w),e(g,m),e(m,y),Ve(g,s[0],!0),e(u,v),e(u,h),e(h,N),e(d,A),le&&le.m(d,null),e(d,D),K&&K.m(d,null),e(t,M),e(t,R),e(R,G),e(G,P),e(P,H),e(H,C),e(P,ae),e(P,Z),e(Z,q),e(P,ne),e(P,ee),e(ee,Q),e(G,te),J.m(G,null),fe||(ie=[ye(f,"click",s[15]),ye(g,"change",s[16]),ye(h,"click",s[17])],fe=!0)},p(z,de){de[0]&1&&Ve(g,z[0]),z[0]==1?le?le.p(z,de):(le=Gl(z),le.c(),le.m(d,D)):le&&(le.d(1),le=null),z[0]==2?K?K.p(z,de):(K=Ml(z),K.c(),K.m(d,null)):K&&(K.d(1),K=null),B===(B=se(z))&&J?J.p(z,de):(J.d(1),J=B(z),J&&(J.c(),J.m(G,null)))},i:Ke,o:Ke,d(z){z&&r(a),le&&le.d(),K&&K.d(),J.d(),fe=!1,ya(ie)}}}function fs(s){let a,t;return a=new Jl({props:{progress:ps}}),{c(){Re(a.$$.fragment)},l(l){Fe(a.$$.fragment,l)},m(l,d){je(a,l,d),t=!0},p:Ke,i(l){t||(he(a.$$.fragment,l),t=!0)},o(l){ge(a.$$.fragment,l),t=!1},d(l){$e(a,l)}}}function Gl(s){let a,t,l,d,u,f,I,_,g,p,L,S,w=s[9],m=[];for(let y=0;y<w.length;y+=1)m[y]=Hl($l(s,w,y));return{c(){a=o("div"),t=o("button"),l=b("<"),u=T(),f=o("select");for(let y=0;y<m.length;y+=1)m[y].c();I=T(),_=o("button"),g=b(">"),this.h()},l(y){a=n(y,"DIV",{class:!0});var v=i(a);t=n(v,"BUTTON",{class:!0});var h=i(t);l=E(h,"<"),h.forEach(r),u=k(v),f=n(v,"SELECT",{class:!0});var N=i(f);for(let D=0;D<m.length;D+=1)m[D].l(N);N.forEach(r),I=k(v),_=n(v,"BUTTON",{class:!0});var A=i(_);g=E(A,">"),A.forEach(r),v.forEach(r),this.h()},h(){c(t,"class","text-2xl rounded fpl-button px-3 py-1"),t.disabled=d=s[1]===1,c(f,"class","p-2 fpl-dropdown text-sm md:text-xl text-center"),s[1]===void 0&&ja(()=>s[19].call(f)),c(_,"class","text-2xl rounded fpl-button px-3 py-1 ml-1"),_.disabled=p=s[1]===38,c(a,"class","flex items-center mr-8")},m(y,v){be(y,a,v),e(a,t),e(t,l),e(a,u),e(a,f);for(let h=0;h<m.length;h+=1)m[h]&&m[h].m(f,null);Ve(f,s[1],!0),e(a,I),e(a,_),e(_,g),L||(S=[ye(t,"click",s[18]),ye(f,"change",s[19]),ye(_,"click",s[20])],L=!0)},p(y,v){if(v[0]&514&&d!==(d=y[1]===1)&&(t.disabled=d),v[0]&512){w=y[9];let h;for(h=0;h<w.length;h+=1){const N=$l(y,w,h);m[h]?m[h].p(N,v):(m[h]=Hl(N),m[h].c(),m[h].m(f,null))}for(;h<m.length;h+=1)m[h].d(1);m.length=w.length}v[0]&514&&Ve(f,y[1]),v[0]&514&&p!==(p=y[1]===38)&&(_.disabled=p)},d(y){y&&r(a),ca(m,y),L=!1,ya(S)}}}function Hl(s){let a,t,l=s[42]+"",d;return{c(){a=o("option"),t=b("Gameweek "),d=b(l),this.h()},l(u){a=n(u,"OPTION",{});var f=i(a);t=E(f,"Gameweek "),d=E(f,l),f.forEach(r),this.h()},h(){a.__value=s[42],a.value=a.__value},m(u,f){be(u,a,f),e(a,t),e(a,d)},p:Ke,d(u){u&&r(a)}}}function Ml(s){let a,t,l,d,u,f,I,_,g,p,L,S,w,m,y,v,h,N,A,D,M,R,G,P,H,C,ae,Z,q,ne,ee,Q,te,fe,ie,le,K,se,B,J,z,de,re,F=s[4],V=[];for(let O=0;O<F.length;O+=1)V[O]=Wl(jl(s,F,O));return{c(){a=o("div"),t=o("button"),l=b("<"),d=T(),u=o("select");for(let O=0;O<V.length;O+=1)V[O].c();f=T(),I=o("button"),_=b(">"),g=T(),p=o("div"),L=o("button"),S=b("<"),w=T(),m=o("select"),y=o("option"),v=b("January"),h=o("option"),N=b("February"),A=o("option"),D=b("March"),M=o("option"),R=b("April"),G=o("option"),P=b("May"),H=o("option"),C=b("June"),ae=o("option"),Z=b("July"),q=o("option"),ne=b("August"),ee=o("option"),Q=b("September"),te=o("option"),fe=b("October"),ie=o("option"),le=b("November"),K=o("option"),se=b("December"),B=T(),J=o("button"),z=b(">"),this.h()},l(O){a=n(O,"DIV",{class:!0});var x=i(a);t=n(x,"BUTTON",{class:!0});var Y=i(t);l=E(Y,"<"),Y.forEach(r),d=k(x),u=n(x,"SELECT",{class:!0});var Ee=i(u);for(let Ae=0;Ae<V.length;Ae+=1)V[Ae].l(Ee);Ee.forEach(r),f=k(x),I=n(x,"BUTTON",{class:!0});var ve=i(I);_=E(ve,">"),ve.forEach(r),x.forEach(r),g=k(O),p=n(O,"DIV",{class:!0});var oe=i(p);L=n(oe,"BUTTON",{class:!0});var Ie=i(L);S=E(Ie,"<"),Ie.forEach(r),w=k(oe),m=n(oe,"SELECT",{class:!0});var U=i(m);y=n(U,"OPTION",{});var Se=i(y);v=E(Se,"January"),Se.forEach(r),h=n(U,"OPTION",{});var $=i(h);N=E($,"February"),$.forEach(r),A=n(U,"OPTION",{});var X=i(A);D=E(X,"March"),X.forEach(r),M=n(U,"OPTION",{});var W=i(M);R=E(W,"April"),W.forEach(r),G=n(U,"OPTION",{});var pe=i(G);P=E(pe,"May"),pe.forEach(r),H=n(U,"OPTION",{});var we=i(H);C=E(we,"June"),we.forEach(r),ae=n(U,"OPTION",{});var De=i(ae);Z=E(De,"July"),De.forEach(r),q=n(U,"OPTION",{});var Ne=i(q);ne=E(Ne,"August"),Ne.forEach(r),ee=n(U,"OPTION",{});var xe=i(ee);Q=E(xe,"September"),xe.forEach(r),te=n(U,"OPTION",{});var Ce=i(te);fe=E(Ce,"October"),Ce.forEach(r),ie=n(U,"OPTION",{});var _e=i(ie);le=E(_e,"November"),_e.forEach(r),K=n(U,"OPTION",{});var We=i(K);se=E(We,"December"),We.forEach(r),U.forEach(r),B=k(oe),J=n(oe,"BUTTON",{class:!0});var Je=i(J);z=E(Je,">"),Je.forEach(r),oe.forEach(r),this.h()},h(){c(t,"class","text-2xl rounded fpl-button px-3 py-1"),c(u,"class","p-2 fpl-dropdown text-sm md:text-xl text-center"),s[3]===void 0&&ja(()=>s[22].call(u)),c(I,"class","text-2xl rounded fpl-button px-3 py-1 ml-1"),c(a,"class","flex items-center mr-8"),c(L,"class","text-2xl rounded fpl-button px-3 py-1"),y.__value=1,y.value=y.__value,h.__value=2,h.value=h.__value,A.__value=3,A.value=A.__value,M.__value=4,M.value=M.__value,G.__value=5,G.value=G.__value,H.__value=6,H.value=H.__value,ae.__value=7,ae.value=ae.__value,q.__value=8,q.value=q.__value,ee.__value=9,ee.value=ee.__value,te.__value=10,te.value=te.__value,ie.__value=11,ie.value=ie.__value,K.__value=12,K.value=K.__value,c(m,"class","p-2 fpl-dropdown text-sm md:text-xl text-center"),s[2]===void 0&&ja(()=>s[25].call(m)),c(J,"class","text-2xl rounded fpl-button px-3 py-1 ml-1"),c(p,"class","flex items-center")},m(O,x){be(O,a,x),e(a,t),e(t,l),e(a,d),e(a,u);for(let Y=0;Y<V.length;Y+=1)V[Y]&&V[Y].m(u,null);Ve(u,s[3],!0),e(a,f),e(a,I),e(I,_),be(O,g,x),be(O,p,x),e(p,L),e(L,S),e(p,w),e(p,m),e(m,y),e(y,v),e(m,h),e(h,N),e(m,A),e(A,D),e(m,M),e(M,R),e(m,G),e(G,P),e(m,H),e(H,C),e(m,ae),e(ae,Z),e(m,q),e(q,ne),e(m,ee),e(ee,Q),e(m,te),e(te,fe),e(m,ie),e(ie,le),e(m,K),e(K,se),Ve(m,s[2],!0),e(p,B),e(p,J),e(J,z),de||(re=[ye(t,"click",s[21]),ye(u,"change",s[22]),ye(I,"click",s[23]),ye(L,"click",s[24]),ye(m,"change",s[25]),ye(J,"click",s[26])],de=!0)},p(O,x){if(x[0]&16){F=O[4];let Y;for(Y=0;Y<F.length;Y+=1){const Ee=jl(O,F,Y);V[Y]?V[Y].p(Ee,x):(V[Y]=Wl(Ee),V[Y].c(),V[Y].m(u,null))}for(;Y<V.length;Y+=1)V[Y].d(1);V.length=F.length}x[0]&24&&Ve(u,O[3]),x[0]&4&&Ve(m,O[2])},d(O){O&&r(a),ca(V,O),O&&r(g),O&&r(p),de=!1,ya(re)}}}function Wl(s){let a,t=s[39].friendlyName+"",l,d;return{c(){a=o("option"),l=b(t),this.h()},l(u){a=n(u,"OPTION",{});var f=i(a);l=E(f,t),f.forEach(r),this.h()},h(){a.__value=d=s[39].id,a.value=a.__value},m(u,f){be(u,a,f),e(a,l)},p(u,f){f[0]&16&&t!==(t=u[39].friendlyName+"")&&ue(l,t),f[0]&16&&d!==(d=u[39].id)&&(a.__value=d,a.value=a.__value)},d(u){u&&r(a)}}}function _s(s){let a,t;return{c(){a=o("p"),t=b("No leaderboard data."),this.h()},l(l){a=n(l,"P",{class:!0});var d=i(a);t=E(d,"No leaderboard data."),d.forEach(r),this.h()},h(){c(a,"class","w-100 p-4")},m(l,d){be(l,a,d),e(a,t)},p:Ke,d(l){l&&r(a)}}}function ms(s){let a,t,l,d,u,f,I,_,g,p,L,S,w,m,y,v=s[5].entries,h=[];for(let N=0;N<v.length;N+=1)h[N]=ql(Fl(s,v,N));return{c(){for(let N=0;N<h.length;N+=1)h[N].c();a=T(),t=o("div"),l=o("button"),d=b("Previous"),f=T(),I=o("span"),_=b("Page "),g=b(s[6]),p=T(),L=o("button"),S=b("Next"),this.h()},l(N){for(let G=0;G<h.length;G+=1)h[G].l(N);a=k(N),t=n(N,"DIV",{class:!0});var A=i(t);l=n(A,"BUTTON",{class:!0});var D=i(l);d=E(D,"Previous"),D.forEach(r),f=k(A),I=n(A,"SPAN",{class:!0});var M=i(I);_=E(M,"Page "),g=E(M,s[6]),M.forEach(r),p=k(A),L=n(A,"BUTTON",{class:!0});var R=i(L);S=E(R,"Next"),R.forEach(r),A.forEach(r),this.h()},h(){l.disabled=u=s[6]===1,c(l,"class","px-4 py-2 mx-2 bg-blue-500 text-white rounded hover:bg-blue-600 disabled:bg-gray-400 disabled:cursor-not-allowed"),c(I,"class","px-4"),L.disabled=w=s[6]>=s[8],c(L,"class","px-4 py-2 mx-2 bg-blue-500 text-white rounded hover:bg-blue-600 disabled:bg-gray-400 disabled:cursor-not-allowed"),c(t,"class","flex justify-center items-center mt-4 mb-4")},m(N,A){for(let D=0;D<h.length;D+=1)h[D]&&h[D].m(N,A);be(N,a,A),be(N,t,A),e(t,l),e(l,d),e(t,f),e(t,I),e(I,_),e(I,g),e(t,p),e(t,L),e(L,S),m||(y=[ye(l,"click",s[27]),ye(L,"click",s[28])],m=!0)},p(N,A){if(A[0]&32){v=N[5].entries;let D;for(D=0;D<v.length;D+=1){const M=Fl(N,v,D);h[D]?h[D].p(M,A):(h[D]=ql(M),h[D].c(),h[D].m(a.parentNode,a))}for(;D<h.length;D+=1)h[D].d(1);h.length=v.length}A[0]&64&&u!==(u=N[6]===1)&&(l.disabled=u),A[0]&64&&ue(g,N[6]),A[0]&320&&w!==(w=N[6]>=N[8])&&(L.disabled=w)},d(N){ca(h,N),N&&r(a),N&&r(t),m=!1,ya(y)}}}function ql(s){let a,t,l=s[36].positionText+"",d,u,f,I,_=s[36].username+"",g,p,L,S,w=s[36].points+"",m;return{c(){a=o("div"),t=o("div"),d=b(l),u=T(),f=o("div"),I=o("a"),g=b(_),L=T(),S=o("div"),m=b(w),this.h()},l(y){a=n(y,"DIV",{class:!0});var v=i(a);t=n(v,"DIV",{class:!0});var h=i(t);d=E(h,l),h.forEach(r),u=k(v),f=n(v,"DIV",{class:!0});var N=i(f);I=n(N,"A",{href:!0});var A=i(I);g=E(A,_),A.forEach(r),N.forEach(r),L=k(v),S=n(v,"DIV",{class:!0});var D=i(S);m=E(D,w),D.forEach(r),v.forEach(r),this.h()},h(){c(t,"class","w-1/12 text-center"),c(I,"href",p=`/manager/${s[36].principalId}`),c(f,"class","w-1/12 text-center"),c(S,"class","w-1/12 text-center"),c(a,"class","flex items-center justify-between py-4 border-b border-gray-700 cursor-pointer")},m(y,v){be(y,a,v),e(a,t),e(t,d),e(a,u),e(a,f),e(f,I),e(I,g),e(a,L),e(a,S),e(S,m)},p(y,v){v[0]&32&&l!==(l=y[36].positionText+"")&&ue(d,l),v[0]&32&&_!==(_=y[36].username+"")&&ue(g,_),v[0]&32&&p!==(p=`/manager/${y[36].principalId}`)&&c(I,"href",p),v[0]&32&&w!==(w=y[36].points+"")&&ue(m,w)},d(y){y&&r(a)}}}function hs(s){let a,t,l,d;const u=[fs,us],f=[];function I(_,g){return _[7]?0:1}return a=I(s),t=f[a]=u[a](s),{c(){t.c(),l=ft()},l(_){t.l(_),l=ft()},m(_,g){f[a].m(_,g),be(_,l,g),d=!0},p(_,g){let p=a;a=I(_),a===p?f[a].p(_,g):($a(),ge(f[p],1,1,()=>{f[p]=null}),Ga(),t=f[a],t?t.p(_,g):(t=f[a]=u[a](_),t.c()),he(t,1),t.m(l.parentNode,l))},i(_){d||(he(t),d=!0)},o(_){ge(t),d=!1},d(_){f[a].d(_),_&&r(l)}}}let vs=25,ps=0;function gs(s,a,t){const l=new mt,d=new ia,u=new Yl;let f=1,I=1,_=1,g,p=[],L=Array.from({length:38},(B,J)=>J+1),S=1,w,m=!0,y,v,h=0,N=0;_t(async()=>{try{await d.updateSystemStateData(),await u.updateWeeklyLeaderboardData(),await u.updateMonthlyLeaderboardData(),await u.updateSeasonLeaderboardData(),await l.updateTeamsData();const B=await l.getTeams();t(4,p=B.sort((de,re)=>de.friendlyName.localeCompare(re.friendlyName))),t(3,g=B[0].id);let J=await d.getSystemState();y=J?.activeGameweek??1,v=J?.focusGameweek??1,t(1,I=J?.focusGameweek??I),t(2,_=J?.activeMonth??_);let z=await u.getWeeklyLeaderboard();t(5,w=z),t(7,m=!1)}catch(B){console.error("Error fetching data:",B)}});async function A(){try{t(7,m=!0),f===1?I===v&&S<=4?t(5,w=await u.getWeeklyLeaderboard()):I<v||I===v&&S>4?t(5,w=await u.getWeeklyLeaderboardPage(I,S)):I>y&&t(5,w=null):f===2?t(5,w=await u.getMonthlyLeaderboard(g)):f===3&&t(5,w=await u.getSeasonLeaderboard())}catch(B){console.error("Error fetching leaderboard data:",B)}finally{t(7,m=!1)}}const D=B=>{t(1,I=Math.max(1,Math.min(38,I+B)))};function M(B){t(2,_+=B),_>12?t(2,_=1):_<1&&t(2,_=12),A()}function R(B){t(6,S=Math.max(1,Math.min(h,S+B))),A()}function G(B){t(0,f+=B),f>3?t(0,f=1):f<1&&t(0,f=3),A()}function P(B){N=(N+B+p.length)%p.length,t(3,g=p[N].id),A()}const H=()=>G(-1);function C(){f=Fa(this),t(0,f)}const ae=()=>G(1),Z=()=>D(-1);function q(){I=Fa(this),t(1,I),t(9,L)}const ne=()=>D(1),ee=()=>P(-1);function Q(){g=Fa(this),t(3,g),t(4,p)}const te=()=>P(1),fe=()=>M(-1);function ie(){_=Fa(this),t(2,_)}const le=()=>M(1),K=()=>R(-1),se=()=>R(1);return s.$$.update=()=>{s.$$.dirty[0]&24&&(N=p.findIndex(B=>B.id===g)),s.$$.dirty[0]&32&&w&&w.totalEntries&&t(8,h=Math.ceil(Number(w.totalEntries)/vs)),s.$$.dirty[0]&15&&A()},[f,I,_,g,p,w,S,m,h,L,D,M,R,G,P,H,C,ae,Z,q,ne,ee,Q,te,fe,ie,le,K,se]}class bs extends qa{constructor(a){super(),Ba(this,a,gs,hs,Ua,{},null,[-1,-1])}}function Bl(s,a,t){const l=s.slice();return l[13]=a[t],l[15]=t,l}function Ul(s,a,t){const l=s.slice();return l[16]=a[t],l}function zl(s){let a,t,l=s[16]+"",d;return{c(){a=o("option"),t=b("Gameweek "),d=b(l),this.h()},l(u){a=n(u,"OPTION",{});var f=i(a);t=E(f,"Gameweek "),d=E(f,l),f.forEach(r),this.h()},h(){a.__value=s[16],a.value=a.__value},m(u,f){be(u,a,f),e(a,t),e(a,d)},p:Ke,d(u){u&&r(a)}}}function Kl(s){let a,t,l=s[15]+1+"",d,u,f,I,_,g=s[13].friendlyName+"",p,L,S,w,m=s[13].played+"",y,v,h,N=s[13].wins+"",A,D,M,R=s[13].draws+"",G,P,H,C=s[13].losses+"",ae,Z,q,ne=s[13].goalsFor+"",ee,Q,te,fe=s[13].goalsAgainst+"",ie,le,K,se=s[13].goalsFor-s[13].goalsAgainst+"",B,J,z,de=s[13].points+"",re,F,V;return I=new Wa({props:{primaryColour:s[13].primaryColourHex,secondaryColour:s[13].secondaryColourHex,thirdColour:s[13].thirdColourHex,className:"w-6 h-6 mr-2"}}),{c(){a=o("div"),t=o("div"),d=b(l),u=T(),f=o("a"),Re(I.$$.fragment),_=T(),p=b(g),S=T(),w=o("div"),y=b(m),v=T(),h=o("div"),A=b(N),D=T(),M=o("div"),G=b(R),P=T(),H=o("div"),ae=b(C),Z=T(),q=o("div"),ee=b(ne),Q=T(),te=o("div"),ie=b(fe),le=T(),K=o("div"),B=b(se),J=T(),z=o("div"),re=b(de),F=T(),this.h()},l(O){a=n(O,"DIV",{class:!0});var x=i(a);t=n(x,"DIV",{class:!0});var Y=i(t);d=E(Y,l),Y.forEach(r),u=k(x),f=n(x,"A",{class:!0,href:!0});var Ee=i(f);Fe(I.$$.fragment,Ee),_=k(Ee),p=E(Ee,g),Ee.forEach(r),S=k(x),w=n(x,"DIV",{class:!0});var ve=i(w);y=E(ve,m),ve.forEach(r),v=k(x),h=n(x,"DIV",{class:!0});var oe=i(h);A=E(oe,N),oe.forEach(r),D=k(x),M=n(x,"DIV",{class:!0});var Ie=i(M);G=E(Ie,R),Ie.forEach(r),P=k(x),H=n(x,"DIV",{class:!0});var U=i(H);ae=E(U,C),U.forEach(r),Z=k(x),q=n(x,"DIV",{class:!0});var Se=i(q);ee=E(Se,ne),Se.forEach(r),Q=k(x),te=n(x,"DIV",{class:!0});var $=i(te);ie=E($,fe),$.forEach(r),le=k(x),K=n(x,"DIV",{class:!0});var X=i(K);B=E(X,se),X.forEach(r),J=k(x),z=n(x,"DIV",{class:!0});var W=i(z);re=E(W,de),W.forEach(r),F=k(x),x.forEach(r),this.h()},h(){c(t,"class","w-1/12 text-center mx-4"),c(f,"class","flex-grow flex items-center justify-start space-x-2 px-4 min-w-[200px] max-w-[300px]"),c(f,"href",L=`/club?id=${s[13].id}`),c(w,"class","w-1/12 text-center"),c(h,"class","w-1/12 text-center"),c(M,"class","w-1/12 text-center"),c(H,"class","w-1/12 text-center"),c(q,"class","w-1/12 text-center"),c(te,"class","w-1/12 text-center"),c(K,"class","w-1/12 text-center"),c(z,"class","w-1/12 text-center"),c(a,"class","flex items-center justify-between py-4 border-b border-gray-700 cursor-pointer")},m(O,x){be(O,a,x),e(a,t),e(t,d),e(a,u),e(a,f),je(I,f,null),e(f,_),e(f,p),e(a,S),e(a,w),e(w,y),e(a,v),e(a,h),e(h,A),e(a,D),e(a,M),e(M,G),e(a,P),e(a,H),e(H,ae),e(a,Z),e(a,q),e(q,ee),e(a,Q),e(a,te),e(te,ie),e(a,le),e(a,K),e(K,B),e(a,J),e(a,z),e(z,re),e(a,F),V=!0},p(O,x){const Y={};x&2&&(Y.primaryColour=O[13].primaryColourHex),x&2&&(Y.secondaryColour=O[13].secondaryColourHex),x&2&&(Y.thirdColour=O[13].thirdColourHex),I.$set(Y),(!V||x&2)&&g!==(g=O[13].friendlyName+"")&&ue(p,g),(!V||x&2&&L!==(L=`/club?id=${O[13].id}`))&&c(f,"href",L),(!V||x&2)&&m!==(m=O[13].played+"")&&ue(y,m),(!V||x&2)&&N!==(N=O[13].wins+"")&&ue(A,N),(!V||x&2)&&R!==(R=O[13].draws+"")&&ue(G,R),(!V||x&2)&&C!==(C=O[13].losses+"")&&ue(ae,C),(!V||x&2)&&ne!==(ne=O[13].goalsFor+"")&&ue(ee,ne),(!V||x&2)&&fe!==(fe=O[13].goalsAgainst+"")&&ue(ie,fe),(!V||x&2)&&se!==(se=O[13].goalsFor-O[13].goalsAgainst+"")&&ue(B,se),(!V||x&2)&&de!==(de=O[13].points+"")&&ue(re,de)},i(O){V||(he(I.$$.fragment,O),V=!0)},o(O){ge(I.$$.fragment,O),V=!1},d(O){O&&r(a),$e(I)}}}function Es(s){let a,t,l,d,u,f,I,_,g,p,L,S,w,m,y,v,h,N,A,D,M,R,G,P,H,C,ae,Z,q,ne,ee,Q,te,fe,ie,le,K,se,B,J,z,de,re,F,V,O,x,Y,Ee,ve=s[2],oe=[];for(let $=0;$<ve.length;$+=1)oe[$]=zl(Ul(s,ve,$));let Ie=s[1],U=[];for(let $=0;$<Ie.length;$+=1)U[$]=Kl(Bl(s,Ie,$));const Se=$=>ge(U[$],1,1,()=>{U[$]=null});return{c(){a=o("div"),t=o("div"),l=o("div"),d=o("button"),u=b("<"),I=T(),_=o("select");for(let $=0;$<oe.length;$+=1)oe[$].c();g=T(),p=o("button"),L=b(">"),w=T(),m=o("div"),y=o("div"),v=o("div"),h=o("div"),N=b("Pos"),A=T(),D=o("div"),M=b("Team"),R=T(),G=o("div"),P=b("P"),H=T(),C=o("div"),ae=b("W"),Z=T(),q=o("div"),ne=b("D"),ee=T(),Q=o("div"),te=b("L"),fe=T(),ie=o("div"),le=b("GF"),K=T(),se=o("div"),B=b("GA"),J=T(),z=o("div"),de=b("GD"),re=T(),F=o("div"),V=b("PTS"),O=T();for(let $=0;$<U.length;$+=1)U[$].c();this.h()},l($){a=n($,"DIV",{class:!0});var X=i(a);t=n(X,"DIV",{class:!0});var W=i(t);l=n(W,"DIV",{class:!0});var pe=i(l);d=n(pe,"BUTTON",{class:!0});var we=i(d);u=E(we,"<"),we.forEach(r),I=k(pe),_=n(pe,"SELECT",{class:!0});var De=i(_);for(let He=0;He<oe.length;He+=1)oe[He].l(De);De.forEach(r),g=k(pe),p=n(pe,"BUTTON",{class:!0});var Ne=i(p);L=E(Ne,">"),Ne.forEach(r),pe.forEach(r),W.forEach(r),w=k(X),m=n(X,"DIV",{class:!0});var xe=i(m);y=n(xe,"DIV",{class:!0});var Ce=i(y);v=n(Ce,"DIV",{class:!0});var _e=i(v);h=n(_e,"DIV",{class:!0});var We=i(h);N=E(We,"Pos"),We.forEach(r),A=k(_e),D=n(_e,"DIV",{class:!0});var Je=i(D);M=E(Je,"Team"),Je.forEach(r),R=k(_e),G=n(_e,"DIV",{class:!0});var Ae=i(G);P=E(Ae,"P"),Ae.forEach(r),H=k(_e),C=n(_e,"DIV",{class:!0});var Sa=i(C);ae=E(Sa,"W"),Sa.forEach(r),Z=k(_e),q=n(_e,"DIV",{class:!0});var Ye=i(q);ne=E(Ye,"D"),Ye.forEach(r),ee=k(_e),Q=n(_e,"DIV",{class:!0});var Xe=i(Q);te=E(Xe,"L"),Xe.forEach(r),fe=k(_e),ie=n(_e,"DIV",{class:!0});var Ge=i(ie);le=E(Ge,"GF"),Ge.forEach(r),K=k(_e),se=n(_e,"DIV",{class:!0});var aa=i(se);B=E(aa,"GA"),aa.forEach(r),J=k(_e),z=n(_e,"DIV",{class:!0});var da=i(z);de=E(da,"GD"),da.forEach(r),re=k(_e),F=n(_e,"DIV",{class:!0});var ua=i(F);V=E(ua,"PTS"),ua.forEach(r),_e.forEach(r),O=k(Ce);for(let He=0;He<U.length;He+=1)U[He].l(Ce);Ce.forEach(r),xe.forEach(r),X.forEach(r),this.h()},h(){c(d,"class","text-2xl rounded fpl-button px-3 py-1"),d.disabled=f=s[0]===1,c(_,"class","p-2 fpl-dropdown text-sm md:text-xl text-center"),s[0]===void 0&&ja(()=>s[7].call(_)),c(p,"class","text-2xl rounded fpl-button px-3 py-1 ml-1"),p.disabled=S=s[0]===38,c(l,"class","flex items-center space-x-2 ml-4"),c(t,"class","flex flex-col sm:flex-row gap-4 sm:gap-8"),c(h,"class","w-1/12 text-center mx-4"),c(D,"class","flex-grow px-4"),c(G,"class","w-1/12 text-center"),c(C,"class","w-1/12 text-center"),c(q,"class","w-1/12 text-center"),c(Q,"class","w-1/12 text-center"),c(ie,"class","w-1/12 text-center"),c(se,"class","w-1/12 text-center"),c(z,"class","w-1/12 text-center"),c(F,"class","w-1/12 text-center"),c(v,"class","flex justify-between p-2 border border-gray-700 py-4 bg-light-gray"),c(y,"class","overflow-x-auto flex-1"),c(m,"class","flex flex-col space-y-4 mt-4 text-lg"),c(a,"class","container-fluid mt-4")},m($,X){be($,a,X),e(a,t),e(t,l),e(l,d),e(d,u),e(l,I),e(l,_);for(let W=0;W<oe.length;W+=1)oe[W]&&oe[W].m(_,null);Ve(_,s[0],!0),e(l,g),e(l,p),e(p,L),e(a,w),e(a,m),e(m,y),e(y,v),e(v,h),e(h,N),e(v,A),e(v,D),e(D,M),e(v,R),e(v,G),e(G,P),e(v,H),e(v,C),e(C,ae),e(v,Z),e(v,q),e(q,ne),e(v,ee),e(v,Q),e(Q,te),e(v,fe),e(v,ie),e(ie,le),e(v,K),e(v,se),e(se,B),e(v,J),e(v,z),e(z,de),e(v,re),e(v,F),e(F,V),e(y,O);for(let W=0;W<U.length;W+=1)U[W]&&U[W].m(y,null);x=!0,Y||(Ee=[ye(d,"click",s[6]),ye(_,"change",s[7]),ye(p,"click",s[8])],Y=!0)},p($,[X]){if((!x||X&5&&f!==(f=$[0]===1))&&(d.disabled=f),X&4){ve=$[2];let W;for(W=0;W<ve.length;W+=1){const pe=Ul($,ve,W);oe[W]?oe[W].p(pe,X):(oe[W]=zl(pe),oe[W].c(),oe[W].m(_,null))}for(;W<oe.length;W+=1)oe[W].d(1);oe.length=ve.length}if(X&5&&Ve(_,$[0]),(!x||X&5&&S!==(S=$[0]===38))&&(p.disabled=S),X&2){Ie=$[1];let W;for(W=0;W<Ie.length;W+=1){const pe=Bl($,Ie,W);U[W]?(U[W].p(pe,X),he(U[W],1)):(U[W]=Kl(pe),U[W].c(),he(U[W],1),U[W].m(y,null))}for($a(),W=Ie.length;W<U.length;W+=1)Se(W);Ga()}},i($){if(!x){for(let X=0;X<Ie.length;X+=1)he(U[X]);x=!0}},o($){U=U.filter(Boolean);for(let X=0;X<U.length;X+=1)ge(U[X]);x=!1},d($){$&&r(a),ca(oe,$),ca(U,$),Y=!1,ya(Ee)}}}function Is(s,a,t){const l=new qt,d=new mt,u=new ia;let f=1,I=[],_=[],g=Array.from({length:38},(v,h)=>h+1),p=[];_t(async()=>{try{await u.updateSystemStateData(),await l.updateFixturesData(),await d.updateTeamsData();const v=await l.getFixtures(),h=await d.getTeams();t(5,_=h),t(4,I=v.map(A=>({fixture:A,homeTeam:S(A.homeTeamId),awayTeam:S(A.awayTeamId)})));let N=await u.getSystemState();t(0,f=N?.activeGameweek??f)}catch(v){console.error("Error fetching data:",v)}});const L=v=>{t(0,f=Math.max(1,Math.min(38,f+v)))};function S(v){return _.find(h=>h.id===v)}const w=()=>L(-1);function m(){f=Fa(this),t(0,f),t(2,g)}const y=()=>L(1);return s.$$.update=()=>{s.$$.dirty&49&&I.length>0&&_.length>0&&t(1,p=es(I,_,f))},[f,p,g,L,I,_,w,m,y]}class ys extends qa{constructor(a){super(),Ba(this,a,Is,Es,Ua,{})}}function Ss(s){let a,t,l,d,u,f,I,_,g,p,L,S,w,m,y,v,h,N,A,D,M,R,G,P,H,C,ae,Z,q,ne,ee,Q,te,fe,ie,le,K,se,B,J,z,de,re,F,V,O,x,Y,Ee,ve,oe,Ie,U,Se,$,X,W,pe,we,De,Ne,xe,Ce=(s[11]?s[11].abbreviatedName:"")+"",_e,We,Je,Ae,Sa,Ye,Xe,Ge,aa=(s[12]?s[12].abbreviatedName:"")+"",da,ua,He,fa,ht,qe,wa,vt,pt,Da,Oe,za,Na,gt,bt,Ka,Ta,Et,It,Ja,ka,yt,St,ta,Ya,wt,Xa,Dt,_a,Nt,Be,la,Tt,Qa,kt,xt,xa,ma,Ha=s[10].username+"",Za,et,Pt,ha,Ma=s[10].points+"",at,Ct,tt,va,Qe,Me,pa,sa,Ot,lt,st,At,Lt,ga,ra,Vt,rt,ot,Rt,ba,oa,Ft,nt,it,jt,Pe,Te,me,$t,Bt;x=new Wa({props:{primaryColour:s[11]?s[11].primaryColourHex:"",secondaryColour:s[11]?s[11].secondaryColourHex:"",thirdColour:s[11]?s[11].thirdColourHex:""}}),X=new Wa({props:{primaryColour:s[12]?s[12].primaryColourHex:"",secondaryColour:s[12]?s[12].secondaryColourHex:"",thirdColour:s[12]?s[12].thirdColourHex:""}});const Ut=[ks,Ts,Ns,Ds],Ea=[];function zt(j,ce){return j[0]==="fixtures"?0:j[0]==="points"?1:j[0]==="leaderboards"?2:j[0]==="league-table"?3:-1}return~(Pe=zt(s))&&(Te=Ea[Pe]=Ut[Pe](s)),{c(){a=o("div"),t=o("div"),l=o("div"),d=o("div"),u=o("p"),f=b("Gameweek"),I=T(),_=o("p"),g=b(s[1]),p=T(),L=o("p"),S=b(s[2]),w=T(),m=o("div"),y=T(),v=o("div"),h=o("p"),N=b("Managers"),A=T(),D=o("p"),M=b(s[3]),R=T(),G=o("p"),P=b("Total"),H=T(),C=o("div"),ae=T(),Z=o("div"),q=o("p"),ne=b("Weekly Prize Pool"),ee=T(),Q=o("p"),te=b("0"),fe=T(),ie=o("p"),le=b("$FPL"),K=T(),se=o("div"),B=o("div"),J=o("p"),z=b("Next Game:"),de=T(),re=o("div"),F=o("div"),V=o("div"),O=o("a"),Re(x.$$.fragment),Ee=T(),ve=o("div"),oe=o("p"),Ie=b("v"),U=T(),Se=o("div"),$=o("a"),Re(X.$$.fragment),pe=T(),we=o("div"),De=o("div"),Ne=o("p"),xe=o("a"),_e=b(Ce),Je=T(),Ae=o("div"),Sa=T(),Ye=o("div"),Xe=o("p"),Ge=o("a"),da=b(aa),He=T(),fa=o("div"),ht=T(),qe=o("div"),wa=o("p"),vt=b("Kick Off:"),pt=T(),Da=o("div"),Oe=o("p"),za=b(s[4]),Na=o("span"),gt=b("d"),bt=b(`
                : `),Ka=b(s[5]),Ta=o("span"),Et=b("h"),It=b(`
                : `),Ja=b(s[6]),ka=o("span"),yt=b("m"),St=T(),ta=o("p"),Ya=b(s[7]),wt=b(" | "),Xa=b(s[8]),Dt=T(),_a=o("div"),Nt=T(),Be=o("div"),la=o("p"),Tt=b("GW "),Qa=b(s[9]),kt=b(" High Score"),xt=T(),xa=o("p"),ma=o("a"),Za=b(Ha),Pt=T(),ha=o("p"),at=b(Ma),Ct=b(" points"),tt=T(),va=o("div"),Qe=o("div"),Me=o("ul"),pa=o("li"),sa=o("button"),Ot=b("Fixtures"),At=T(),Lt=T(),ga=o("li"),ra=o("button"),Vt=b("Leaderboards"),Rt=T(),ba=o("li"),oa=o("button"),Ft=b("Table"),jt=T(),Te&&Te.c(),this.h()},l(j){a=n(j,"DIV",{class:!0});var ce=i(a);t=n(ce,"DIV",{class:!0});var Ze=i(t);l=n(Ze,"DIV",{class:!0});var ke=i(l);d=n(ke,"DIV",{class:!0});var Ue=i(d);u=n(Ue,"P",{class:!0});var Kt=i(u);f=E(Kt,"Gameweek"),Kt.forEach(r),I=k(Ue),_=n(Ue,"P",{class:!0});var Jt=i(_);g=E(Jt,s[1]),Jt.forEach(r),p=k(Ue),L=n(Ue,"P",{class:!0});var Yt=i(L);S=E(Yt,s[2]),Yt.forEach(r),Ue.forEach(r),w=k(ke),m=n(ke,"DIV",{class:!0,style:!0}),i(m).forEach(r),y=k(ke),v=n(ke,"DIV",{class:!0});var Pa=i(v);h=n(Pa,"P",{class:!0});var Xt=i(h);N=E(Xt,"Managers"),Xt.forEach(r),A=k(Pa),D=n(Pa,"P",{class:!0});var Qt=i(D);M=E(Qt,s[3]),Qt.forEach(r),R=k(Pa),G=n(Pa,"P",{class:!0});var Zt=i(G);P=E(Zt,"Total"),Zt.forEach(r),Pa.forEach(r),H=k(ke),C=n(ke,"DIV",{class:!0,style:!0}),i(C).forEach(r),ae=k(ke),Z=n(ke,"DIV",{class:!0});var Ca=i(Z);q=n(Ca,"P",{class:!0});var el=i(q);ne=E(el,"Weekly Prize Pool"),el.forEach(r),ee=k(Ca),Q=n(Ca,"P",{class:!0});var al=i(Q);te=E(al,"0"),al.forEach(r),fe=k(Ca),ie=n(Ca,"P",{class:!0});var tl=i(ie);le=E(tl,"$FPL"),tl.forEach(r),Ca.forEach(r),ke.forEach(r),K=k(Ze),se=n(Ze,"DIV",{class:!0});var ze=i(se);B=n(ze,"DIV",{class:!0});var Oa=i(B);J=n(Oa,"P",{class:!0});var ll=i(J);z=E(ll,"Next Game:"),ll.forEach(r),de=k(Oa),re=n(Oa,"DIV",{class:!0});var sl=i(re);F=n(sl,"DIV",{class:!0});var Aa=i(F);V=n(Aa,"DIV",{class:!0});var rl=i(V);O=n(rl,"A",{href:!0});var ol=i(O);Fe(x.$$.fragment,ol),ol.forEach(r),rl.forEach(r),Ee=k(Aa),ve=n(Aa,"DIV",{class:!0});var nl=i(ve);oe=n(nl,"P",{class:!0});var il=i(oe);Ie=E(il,"v"),il.forEach(r),nl.forEach(r),U=k(Aa),Se=n(Aa,"DIV",{class:!0});var cl=i(Se);$=n(cl,"A",{href:!0});var dl=i($);Fe(X.$$.fragment,dl),dl.forEach(r),cl.forEach(r),Aa.forEach(r),sl.forEach(r),pe=k(Oa),we=n(Oa,"DIV",{class:!0});var La=i(we);De=n(La,"DIV",{class:!0});var ul=i(De);Ne=n(ul,"P",{class:!0});var fl=i(Ne);xe=n(fl,"A",{class:!0,href:!0});var _l=i(xe);_e=E(_l,Ce),_l.forEach(r),fl.forEach(r),ul.forEach(r),Je=k(La),Ae=n(La,"DIV",{class:!0}),i(Ae).forEach(r),Sa=k(La),Ye=n(La,"DIV",{class:!0});var ml=i(Ye);Xe=n(ml,"P",{class:!0});var hl=i(Xe);Ge=n(hl,"A",{class:!0,href:!0});var vl=i(Ge);da=E(vl,aa),vl.forEach(r),hl.forEach(r),ml.forEach(r),La.forEach(r),Oa.forEach(r),He=k(ze),fa=n(ze,"DIV",{class:!0,style:!0}),i(fa).forEach(r),ht=k(ze),qe=n(ze,"DIV",{class:!0});var Va=i(qe);wa=n(Va,"P",{class:!0});var pl=i(wa);vt=E(pl,"Kick Off:"),pl.forEach(r),pt=k(Va),Da=n(Va,"DIV",{class:!0});var gl=i(Da);Oe=n(gl,"P",{class:!0});var ea=i(Oe);za=E(ea,s[4]),Na=n(ea,"SPAN",{class:!0});var bl=i(Na);gt=E(bl,"d"),bl.forEach(r),bt=E(ea,`
                : `),Ka=E(ea,s[5]),Ta=n(ea,"SPAN",{class:!0});var El=i(Ta);Et=E(El,"h"),El.forEach(r),It=E(ea,`
                : `),Ja=E(ea,s[6]),ka=n(ea,"SPAN",{class:!0});var Il=i(ka);yt=E(Il,"m"),Il.forEach(r),ea.forEach(r),gl.forEach(r),St=k(Va),ta=n(Va,"P",{class:!0});var ct=i(ta);Ya=E(ct,s[7]),wt=E(ct," | "),Xa=E(ct,s[8]),ct.forEach(r),Va.forEach(r),Dt=k(ze),_a=n(ze,"DIV",{class:!0,style:!0}),i(_a).forEach(r),Nt=k(ze),Be=n(ze,"DIV",{class:!0});var Ra=i(Be);la=n(Ra,"P",{class:!0});var dt=i(la);Tt=E(dt,"GW "),Qa=E(dt,s[9]),kt=E(dt," High Score"),dt.forEach(r),xt=k(Ra),xa=n(Ra,"P",{class:!0});var yl=i(xa);ma=n(yl,"A",{href:!0});var Sl=i(ma);Za=E(Sl,Ha),Sl.forEach(r),yl.forEach(r),Pt=k(Ra),ha=n(Ra,"P",{class:!0});var Gt=i(ha);at=E(Gt,Ma),Ct=E(Gt," points"),Gt.forEach(r),Ra.forEach(r),ze.forEach(r),Ze.forEach(r),ce.forEach(r),tt=k(j),va=n(j,"DIV",{class:!0});var wl=i(va);Qe=n(wl,"DIV",{class:!0});var ut=i(Qe);Me=n(ut,"UL",{class:!0});var Ia=i(Me);pa=n(Ia,"LI",{class:!0});var Dl=i(pa);sa=n(Dl,"BUTTON",{class:!0});var Nl=i(sa);Ot=E(Nl,"Fixtures"),Nl.forEach(r),Dl.forEach(r),At=k(Ia),Lt=k(Ia),ga=n(Ia,"LI",{class:!0});var Tl=i(ga);ra=n(Tl,"BUTTON",{class:!0});var kl=i(ra);Vt=E(kl,"Leaderboards"),kl.forEach(r),Tl.forEach(r),Rt=k(Ia),ba=n(Ia,"LI",{class:!0});var xl=i(ba);oa=n(xl,"BUTTON",{class:!0});var Pl=i(oa);Ft=E(Pl,"Table"),Pl.forEach(r),xl.forEach(r),Ia.forEach(r),jt=k(ut),Te&&Te.l(ut),ut.forEach(r),wl.forEach(r),this.h()},h(){c(u,"class","text-gray-300 text-xs"),c(_,"class","text-2xl sm:text-3xl md:text-4xl mt-2 mb-2 font-bold"),c(L,"class","text-gray-300 text-xs"),c(d,"class","flex-grow"),c(m,"class","flex-shrink-0 w-px bg-gray-400 self-stretch"),na(m,"min-width","2px"),na(m,"min-height","50px"),c(h,"class","text-gray-300 text-xs"),c(D,"class","text-2xl sm:text-3xl md:text-4xl mt-2 mb-2 font-bold"),c(G,"class","text-gray-300 text-xs"),c(v,"class","flex-grow"),c(C,"class","flex-shrink-0 w-px bg-gray-400 self-stretch"),na(C,"min-width","2px"),na(C,"min-height","50px"),c(q,"class","text-gray-300 text-xs"),c(Q,"class","text-2xl sm:text-3xl md:text-4xl mt-2 mb-2 font-bold"),c(ie,"class","text-gray-300 text-xs"),c(Z,"class","flex-grow"),c(l,"class","flex justify-start items-center text-white space-x-4 flex-grow m-4 bg-panel p-4 rounded-md"),c(J,"class","text-gray-300 text-xs"),c(O,"href",Y=`/club?id=${s[11]?s[11].id:-1}`),c(V,"class","w-10 ml-4 mr-4"),c(oe,"class","text-xs mt-2 mb-2 font-bold"),c(ve,"class","w-v ml-1 mr-1 flex justify-center svelte-1ylya66"),c($,"href",W=`/club?id=${s[12]?s[12].id:-1}`),c(Se,"class","w-10 ml-4"),c(F,"class","flex justify-center items-center"),c(re,"class","flex justify-center mb-2 mt-2"),c(xe,"class","text-gray-300 text-xs text-center"),c(xe,"href",We=`/club?id=${s[11]?s[11].id:-1}`),c(Ne,"class","text-gray-300 text-xs text-center"),c(De,"class","w-10 ml-4 mr-4"),c(Ae,"class","w-v ml-1 mr-1 svelte-1ylya66"),c(Ge,"class","text-gray-300 text-xs text-center"),c(Ge,"href",ua=`/club?id=${s[12]?s[12].id:-1}`),c(Xe,"class","text-gray-300 text-xs text-center"),c(Ye,"class","w-10 ml-4"),c(we,"class","flex justify-center"),c(B,"class","flex-grow mb-4 md:mb-0"),c(fa,"class","h-px bg-gray-400 w-full md:w-px md:h-full md:self-stretch"),na(fa,"min-height","2px"),na(fa,"min-width","2px"),c(wa,"class","text-gray-300 text-xs mt-4 md:mt-0"),c(Na,"class","text-gray-300 text-xs ml-1"),c(Ta,"class","text-gray-300 text-xs ml-1"),c(ka,"class","text-gray-300 text-xs ml-1"),c(Oe,"class","text-2xl sm:text-3xl md:text-4xl mt-2 mb-2 font-bold"),c(Da,"class","flex"),c(ta,"class","text-gray-300 text-xs"),c(qe,"class","flex-grow mb-4 md:mb-0"),c(_a,"class","h-px bg-gray-400 w-full md:w-px md:h-full md:self-stretch"),na(_a,"min-height","2px"),na(_a,"min-width","2px"),c(la,"class","text-gray-300 text-xs mt-4 md:mt-0"),c(ma,"href",et=`/manager?id=${s[10].principalId}`),c(xa,"class","text-2xl sm:text-3xl md:text-4xl mt-2 mb-2 font-bold"),c(ha,"class","text-gray-300 text-xs"),c(Be,"class","flex-grow"),c(se,"class","flex flex-col md:flex-row justify-start md:items-center text-white space-x-0 md:space-x-4 flex-grow m-4 bg-panel p-4 rounded-md"),c(t,"class","flex flex-col md:flex-row"),c(a,"class","m-4"),c(sa,"class",lt=Le(`p-2 ${s[0]==="fixtures"?"text-white":"text-gray-400"}`)+" svelte-1ylya66"),c(pa,"class",st=Le(`mr-4 text-xs md:text-lg ${s[0]==="fixtures"?"active-tab":""}`)+" svelte-1ylya66"),c(ra,"class",rt=Le(`p-2 ${s[0]==="leaderboards"?"text-white":"text-gray-400"}`)+" svelte-1ylya66"),c(ga,"class",ot=Le(`mr-4 text-xs md:text-lg ${s[0]==="leaderboards"?"active-tab":""}`)+" svelte-1ylya66"),c(oa,"class",nt=Le(`p-2 ${s[0]==="league-table"?"text-white":"text-gray-400"}`)+" svelte-1ylya66"),c(ba,"class",it=Le(`mr-4 text-xs md:text-lg ${s[0]==="league-table"?"active-tab":""}`)+" svelte-1ylya66"),c(Me,"class","flex bg-light-gray px-4 pt-2"),c(Qe,"class","bg-panel rounded-md m-4"),c(va,"class","m-4")},m(j,ce){be(j,a,ce),e(a,t),e(t,l),e(l,d),e(d,u),e(u,f),e(d,I),e(d,_),e(_,g),e(d,p),e(d,L),e(L,S),e(l,w),e(l,m),e(l,y),e(l,v),e(v,h),e(h,N),e(v,A),e(v,D),e(D,M),e(v,R),e(v,G),e(G,P),e(l,H),e(l,C),e(l,ae),e(l,Z),e(Z,q),e(q,ne),e(Z,ee),e(Z,Q),e(Q,te),e(Z,fe),e(Z,ie),e(ie,le),e(t,K),e(t,se),e(se,B),e(B,J),e(J,z),e(B,de),e(B,re),e(re,F),e(F,V),e(V,O),je(x,O,null),e(F,Ee),e(F,ve),e(ve,oe),e(oe,Ie),e(F,U),e(F,Se),e(Se,$),je(X,$,null),e(B,pe),e(B,we),e(we,De),e(De,Ne),e(Ne,xe),e(xe,_e),e(we,Je),e(we,Ae),e(we,Sa),e(we,Ye),e(Ye,Xe),e(Xe,Ge),e(Ge,da),e(se,He),e(se,fa),e(se,ht),e(se,qe),e(qe,wa),e(wa,vt),e(qe,pt),e(qe,Da),e(Da,Oe),e(Oe,za),e(Oe,Na),e(Na,gt),e(Oe,bt),e(Oe,Ka),e(Oe,Ta),e(Ta,Et),e(Oe,It),e(Oe,Ja),e(Oe,ka),e(ka,yt),e(qe,St),e(qe,ta),e(ta,Ya),e(ta,wt),e(ta,Xa),e(se,Dt),e(se,_a),e(se,Nt),e(se,Be),e(Be,la),e(la,Tt),e(la,Qa),e(la,kt),e(Be,xt),e(Be,xa),e(xa,ma),e(ma,Za),e(Be,Pt),e(Be,ha),e(ha,at),e(ha,Ct),be(j,tt,ce),be(j,va,ce),e(va,Qe),e(Qe,Me),e(Me,pa),e(pa,sa),e(sa,Ot),e(Me,At),e(Me,Lt),e(Me,ga),e(ga,ra),e(ra,Vt),e(Me,Rt),e(Me,ba),e(ba,oa),e(oa,Ft),e(Qe,jt),~Pe&&Ea[Pe].m(Qe,null),me=!0,$t||(Bt=[ye(sa,"click",s[16]),ye(ra,"click",s[18]),ye(oa,"click",s[19])],$t=!0)},p(j,ce){(!me||ce&2)&&ue(g,j[1]),(!me||ce&4)&&ue(S,j[2]),(!me||ce&8)&&ue(M,j[3]);const Ze={};ce&2048&&(Ze.primaryColour=j[11]?j[11].primaryColourHex:""),ce&2048&&(Ze.secondaryColour=j[11]?j[11].secondaryColourHex:""),ce&2048&&(Ze.thirdColour=j[11]?j[11].thirdColourHex:""),x.$set(Ze),(!me||ce&2048&&Y!==(Y=`/club?id=${j[11]?j[11].id:-1}`))&&c(O,"href",Y);const ke={};ce&4096&&(ke.primaryColour=j[12]?j[12].primaryColourHex:""),ce&4096&&(ke.secondaryColour=j[12]?j[12].secondaryColourHex:""),ce&4096&&(ke.thirdColour=j[12]?j[12].thirdColourHex:""),X.$set(ke),(!me||ce&4096&&W!==(W=`/club?id=${j[12]?j[12].id:-1}`))&&c($,"href",W),(!me||ce&2048)&&Ce!==(Ce=(j[11]?j[11].abbreviatedName:"")+"")&&ue(_e,Ce),(!me||ce&2048&&We!==(We=`/club?id=${j[11]?j[11].id:-1}`))&&c(xe,"href",We),(!me||ce&4096)&&aa!==(aa=(j[12]?j[12].abbreviatedName:"")+"")&&ue(da,aa),(!me||ce&4096&&ua!==(ua=`/club?id=${j[12]?j[12].id:-1}`))&&c(Ge,"href",ua),(!me||ce&16)&&ue(za,j[4]),(!me||ce&32)&&ue(Ka,j[5]),(!me||ce&64)&&ue(Ja,j[6]),(!me||ce&128)&&ue(Ya,j[7]),(!me||ce&256)&&ue(Xa,j[8]),(!me||ce&512)&&ue(Qa,j[9]),(!me||ce&1024)&&Ha!==(Ha=j[10].username+"")&&ue(Za,Ha),(!me||ce&1024&&et!==(et=`/manager?id=${j[10].principalId}`))&&c(ma,"href",et),(!me||ce&1024)&&Ma!==(Ma=j[10].points+"")&&ue(at,Ma),(!me||ce&1&&lt!==(lt=Le(`p-2 ${j[0]==="fixtures"?"text-white":"text-gray-400"}`)+" svelte-1ylya66"))&&c(sa,"class",lt),(!me||ce&1&&st!==(st=Le(`mr-4 text-xs md:text-lg ${j[0]==="fixtures"?"active-tab":""}`)+" svelte-1ylya66"))&&c(pa,"class",st),(!me||ce&1&&rt!==(rt=Le(`p-2 ${j[0]==="leaderboards"?"text-white":"text-gray-400"}`)+" svelte-1ylya66"))&&c(ra,"class",rt),(!me||ce&1&&ot!==(ot=Le(`mr-4 text-xs md:text-lg ${j[0]==="leaderboards"?"active-tab":""}`)+" svelte-1ylya66"))&&c(ga,"class",ot),(!me||ce&1&&nt!==(nt=Le(`p-2 ${j[0]==="league-table"?"text-white":"text-gray-400"}`)+" svelte-1ylya66"))&&c(oa,"class",nt),(!me||ce&1&&it!==(it=Le(`mr-4 text-xs md:text-lg ${j[0]==="league-table"?"active-tab":""}`)+" svelte-1ylya66"))&&c(ba,"class",it);let Ue=Pe;Pe=zt(j),Pe!==Ue&&(Te&&($a(),ge(Ea[Ue],1,1,()=>{Ea[Ue]=null}),Ga()),~Pe?(Te=Ea[Pe],Te||(Te=Ea[Pe]=Ut[Pe](j),Te.c()),he(Te,1),Te.m(Qe,null)):Te=null)},i(j){me||(he(x.$$.fragment,j),he(X.$$.fragment,j),he(Te),me=!0)},o(j){ge(x.$$.fragment,j),ge(X.$$.fragment,j),ge(Te),me=!1},d(j){j&&r(a),$e(x),$e(X),j&&r(tt),j&&r(va),~Pe&&Ea[Pe].d(),$t=!1,ya(Bt)}}}function ws(s){let a,t;return a=new Jl({props:{progress:s[13]}}),{c(){Re(a.$$.fragment)},l(l){Fe(a.$$.fragment,l)},m(l,d){je(a,l,d),t=!0},p(l,d){const u={};d&8192&&(u.progress=l[13]),a.$set(u)},i(l){t||(he(a.$$.fragment,l),t=!0)},o(l){ge(a.$$.fragment,l),t=!1},d(l){$e(a,l)}}}function Ds(s){let a,t;return a=new ys({}),{c(){Re(a.$$.fragment)},l(l){Fe(a.$$.fragment,l)},m(l,d){je(a,l,d),t=!0},i(l){t||(he(a.$$.fragment,l),t=!0)},o(l){ge(a.$$.fragment,l),t=!1},d(l){$e(a,l)}}}function Ns(s){let a,t;return a=new bs({}),{c(){Re(a.$$.fragment)},l(l){Fe(a.$$.fragment,l)},m(l,d){je(a,l,d),t=!0},i(l){t||(he(a.$$.fragment,l),t=!0)},o(l){ge(a.$$.fragment,l),t=!1},d(l){$e(a,l)}}}function Ts(s){let a,t;return a=new ds({}),{c(){Re(a.$$.fragment)},l(l){Fe(a.$$.fragment,l)},m(l,d){je(a,l,d),t=!0},i(l){t||(he(a.$$.fragment,l),t=!0)},o(l){ge(a.$$.fragment,l),t=!1},d(l){$e(a,l)}}}function ks(s){let a,t;return a=new is({}),{c(){Re(a.$$.fragment)},l(l){Fe(a.$$.fragment,l)},m(l,d){je(a,l,d),t=!0},i(l){t||(he(a.$$.fragment,l),t=!0)},o(l){ge(a.$$.fragment,l),t=!1},d(l){$e(a,l)}}}function xs(s){let a,t,l,d;const u=[ws,Ss],f=[];function I(_,g){return _[14]?0:1}return a=I(s),t=f[a]=u[a](s),{c(){t.c(),l=ft()},l(_){t.l(_),l=ft()},m(_,g){f[a].m(_,g),be(_,l,g),d=!0},p(_,g){let p=a;a=I(_),a===p?f[a].p(_,g):($a(),ge(f[p],1,1,()=>{f[p]=null}),Ga(),t=f[a],t?t.p(_,g):(t=f[a]=u[a](_),t.c()),he(t,1),t.m(l.parentNode,l))},i(_){d||(he(t),d=!0)},o(_){ge(t),d=!1},d(_){f[a].d(_),_&&r(l)}}}function Ps(s){let a,t;return a=new Zl({props:{$$slots:{default:[xs]},$$scope:{ctx:s}}}),{c(){Re(a.$$.fragment)},l(l){Fe(a.$$.fragment,l)},m(l,d){je(a,l,d),t=!0},p(l,[d]){const u={};d&67141631&&(u.$$scope={dirty:d,ctx:l}),a.$set(u)},i(l){t||(he(a.$$.fragment,l),t=!0)},o(l){ge(a.$$.fragment,l),t=!1},d(l){$e(a,l)}}}function Cs(s,a,t){const l=new ia,d=new qt,u=new mt,f=new Yl,I=new rs;let _="fixtures",g=-1,p="-",L=-1,S="00",w="00",m="00",y="-",v="-",h=-1,N,A,D,M=0,R=!0;_t(async()=>{t(14,R=!0);try{await l.updateSystemStateData(),await d.updateFixturesData(),await u.updateTeamsData(),await f.updateWeeklyLeaderboardData(),await f.updateMonthlyLeaderboardData(),await f.updateSeasonLeaderboardData(),t(3,L=await I.getTotalManagers());let q=await l.getSystemState();t(1,g=q?.activeGameweek??g),t(2,p=q?.activeSeason.name??p),t(9,h=q?.focusGameweek??g),G(40),await new Promise(Q=>setTimeout(Q,1e3));let ne=await d.getNextFixture();t(11,A=await u.getTeamById(ne.homeTeamId)),t(12,D=await u.getTeamById(ne.awayTeamId)),t(7,y=as(Number(ne.kickOff))),t(8,v=Wt(Number(ne.kickOff)));let ee=ts(Number(ne.kickOff));t(4,S=ee.days.toString()),t(5,w=ee.hours.toString()),t(6,m=ee.minutes.toString()),G(80),await new Promise(Q=>setTimeout(Q,1e3)),t(10,N=await f.getLeadingWeeklyTeam()),G(100),await new Promise(Q=>setTimeout(Q,1e3)),t(14,R=!1)}catch(q){console.error("Error fetching homepage data:",q),t(14,R=!1)}});function G(q){function Q(){M<q&&(t(13,M+=1),setTimeout(Q,25))}Q()}function P(q){t(0,_=q)}return[_,g,p,L,S,w,m,y,v,h,N,A,D,M,R,P,()=>P("fixtures"),()=>P("points"),()=>P("leaderboards"),()=>P("league-table")]}class $s extends qa{constructor(a){super(),Ba(this,a,Cs,Ps,Ua,{})}}export{$s as component};
