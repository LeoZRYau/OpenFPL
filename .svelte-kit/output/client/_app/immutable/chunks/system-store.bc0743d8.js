import{w as l}from"./index.8caf67b2.js";import"./toast-store.ddf69d4c.js";import{A as p,i as S,r as d}from"./team-store.38ee0fd3.js";function b(){const{subscribe:o,set:n}=l(null);let m=p.createActor(S,"bboqb-jiaaa-aaaal-qb6ea-cai");async function r(){let a="system_state",i=(await m.getDataHashes()).find(e=>e.category===a)??null;const _=localStorage.getItem(a);if(i?.hash!=_){let e=await m.getSystemState();localStorage.setItem("system_state_data",JSON.stringify(e,d)),localStorage.setItem(a,i?.hash??""),n(e)}else{const e=localStorage.getItem("system_state_data");let s=null;try{s=JSON.parse(e||"{}")}catch{s=null}n(s)}}async function c(){let a;return o(t=>{a=t})(),a}return{subscribe:o,sync:r,getSystemState:c}}const N=b();export{N as s};
