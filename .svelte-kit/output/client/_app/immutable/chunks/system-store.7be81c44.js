import{w as S}from"./index.8caf67b2.js";import"./toast-store.6633d9f4.js";import{A as l,i as I,r as N}from"./team-store.5723d493.js";function p(){const{subscribe:s,set:o}=S(null);let i=l.createActor(I,"bboqb-jiaaa-aaaal-qb6ea-cai");async function t(){let a="system_state",r=(await i.getDataHashes()).find(e=>e.category===a)??null;const _=localStorage.getItem(a);if(r?.hash!=_){let e=await i.getSystemState();localStorage.setItem("system_state_data",JSON.stringify(e,N)),localStorage.setItem(a,r?.hash??""),o(e)}else{const e=localStorage.getItem("system_state_data");let n=null;try{n=JSON.parse(e||"{}")}catch{n=null}o(n)}}async function c(){let a;return s(m=>{a=m})(),a}return{subscribe:s,sync:t,getSystemState:c}}const A=p();export{A as s};
