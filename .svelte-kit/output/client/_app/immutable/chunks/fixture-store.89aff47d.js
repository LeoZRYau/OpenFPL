import{w as _}from"./index.c203a7c8.js";import{A as N,i as I,r as f}from"./Helpers.c6feb0fc.js";function D(){const{subscribe:c,set:s}=_([]),i=N.createActor(I,"bkyz2-fmaaa-aaaaa-qaaaq-cai");async function o(){let a="fixtures",t=(await i.getDataHashes()).find(e=>e.category===a)??null;const u=localStorage.getItem(a);if(t?.hash!=u){let e=await i.getFixtures();localStorage.setItem("fixtures_data",JSON.stringify(e,f)),localStorage.setItem(a,t?.hash??""),s(e)}else{const e=localStorage.getItem("fixtures_data");let r=[];try{r=JSON.parse(e||"[]")}catch{r=[]}s(r)}}async function n(){let a=[];await o(),await c(t=>{a=t})();const l=new Date;return a.find(t=>new Date(Number(t.kickOff)/1e6)>l)}return{subscribe:c,sync:o,getNextFixture:n}}const g=D();export{g as f};
