import{b}from"./Layout.226466cf.js";import{s as A,A as m,i as c}from"./team-store.fa9fd22b.js";import{w as T}from"./index.b378d913.js";import"./toast-store.55f7539f.js";function g(){const{subscribe:t,set:C}=T(null);let r;A.subscribe(a=>{r=a});const s=m.createActor(c,"bkyz2-fmaaa-aaaaa-qaaaq-cai");async function i(){let a;return new Promise((n,e)=>{a=b.subscribe(o=>{o.identity&&n(o.identity)})}).then(n=>(a(),m.createActor(c,"bkyz2-fmaaa-aaaaa-qaaaq-cai",n)))}async function _(a,n,e){try{return await s.getManager(a,n,e)}catch(o){throw console.error("Error fetching fantasy team for gameweek:",o),o}}async function I(){try{const a=await s.getTotalManagers();return Number(a)}catch(a){throw console.error("Error fetching total managers:",a),a}}async function S(a,n){try{return await s.getFantasyTeamForGameweek(a,r?.activeSeason.id,n)}catch(e){throw console.error("Error fetching fantasy team for gameweek:",e),e}}async function N(){try{return await(await i()).getFantasyTeam()}catch(a){throw console.error("Error fetching fantasy team:",a),a}}async function l(a,n){try{let e=p(a,n),o=E(a,n),D=d(a,n);return await(await i()).saveFantasyTeam(a.playerIds,a.captainId,e,o,D)}catch(e){throw console.error("Error saving fantasy team:",e),e}}function p(a,n){let e=0;return a.goalGetterGameweek===n&&(e=1),a.passMasterGameweek===n&&(e=2),a.noEntryGameweek===n&&(e=3),a.teamBoostGameweek===n&&(e=4),a.safeHandsGameweek===n&&(e=5),a.captainFantasticGameweek===n&&(e=6),a.hatTrickHeroGameweek===n&&(e=7),a.hatTrickHeroGameweek===n&&(e=8),e}function E(a,n){let e=0;return a.goalGetterGameweek===n&&(e=a.goalGetterPlayerId),a.passMasterGameweek===n&&(e=a.passMasterPlayerId),a.noEntryGameweek===n&&(e=a.noEntryPlayerId),a.safeHandsGameweek===n&&(e=a.safeHandsPlayerId),a.captainFantasticGameweek===n&&(e=a.captainId),e}function d(a,n){let e=0;return a.teamBoostGameweek===n&&(e=a.teamBoostTeamId),e}return{subscribe:t,getManager:_,getTotalManagers:I,getFantasyTeamForGameweek:S,getFantasyTeam:N,saveFantasyTeam:l}}const h=g();export{h as m};
