import{w as l}from"./index.8caf67b2.js";import"./toast-store.ddf69d4c.js";import{A as p,i as S,r as d}from"./team-store.38ee0fd3.js";function b(){const{subscribe:n,set:m}=l([]),i=p.createActor(S,"bboqb-jiaaa-aaaal-qb6ea-cai");async function t(){let a="fixtures",e=(await i.getDataHashes()).find(o=>o.category===a)??null;const _=localStorage.getItem(a);if(e?.hash!=_){let o=await i.getFixtures();localStorage.setItem("fixtures_data",JSON.stringify(o,d)),localStorage.setItem(a,e?.hash??""),m(o)}else{const o=localStorage.getItem("fixtures_data");let s=[];try{s=JSON.parse(o||"[]")}catch{s=[]}m(s)}}async function c(){let a=[];await t(),await n(e=>{a=e})();const r=new Date;return a.find(e=>new Date(Number(e.kickOff)/1e6)>r)}return{subscribe:n,sync:t,getNextFixture:c}}const E=b();export{E as f};
