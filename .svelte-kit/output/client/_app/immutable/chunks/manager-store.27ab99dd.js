import{a as i}from"./toast-store.ddf69d4c.js";import{s as D}from"./system-store.bc0743d8.js";import{w as E}from"./index.8caf67b2.js";import{A as m,i as N}from"./team-store.38ee0fd3.js";function v(){const{subscribe:t,set:P}=E(null);let r;D.subscribe(a=>{r=a});const s=m.createActor(N,"bboqb-jiaaa-aaaal-qb6ea-cai");async function c(a,o,e){try{return await s.getManager(a,o,e)}catch(n){throw console.error("Error fetching fantasy team for gameweek:",n),n}}async function _(){try{const a=await s.getTotalManagers();return Number(a)}catch(a){throw console.error("Error fetching total managers:",a),a}}async function l(a,o){try{return await s.getFantasyTeamForGameweek(a,r?.activeSeason.id,o)}catch(e){throw console.error("Error fetching fantasy team for gameweek:",e),e}}async function p(){try{return await(await m.createIdentityActor(i,"bboqb-jiaaa-aaaal-qb6ea-cai")).getFantasyTeam()}catch(a){throw console.error("Error fetching fantasy team:",a),a}}async function d(a,o){try{let e=S(a,o),n=b(a,o),g=I(a,o);return await(await m.createIdentityActor(i,"bboqb-jiaaa-aaaal-qb6ea-cai")).saveFantasyTeam(a.playerIds,a.captainId,e,n,g)}catch(e){throw console.error("Error saving fantasy team:",e),e}}function S(a,o){let e=0;return a.goalGetterGameweek===o&&(e=1),a.passMasterGameweek===o&&(e=2),a.noEntryGameweek===o&&(e=3),a.teamBoostGameweek===o&&(e=4),a.safeHandsGameweek===o&&(e=5),a.captainFantasticGameweek===o&&(e=6),a.hatTrickHeroGameweek===o&&(e=7),a.hatTrickHeroGameweek===o&&(e=8),e}function b(a,o){let e=0;return a.goalGetterGameweek===o&&(e=a.goalGetterPlayerId),a.passMasterGameweek===o&&(e=a.passMasterPlayerId),a.noEntryGameweek===o&&(e=a.noEntryPlayerId),a.safeHandsGameweek===o&&(e=a.safeHandsPlayerId),a.captainFantasticGameweek===o&&(e=a.captainId),e}function I(a,o){let e=0;return a.teamBoostGameweek===o&&(e=a.teamBoostTeamId),e}return{subscribe:t,getManager:c,getTotalManagers:_,getFantasyTeamForGameweek:l,getFantasyTeam:p,saveFantasyTeam:d}}const R=v();export{R as m};
