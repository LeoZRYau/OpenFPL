import{S as W,i as X,s as Y,e as C,b as T,v as $,d as B,f as F,g as G,h as g,I as Z,o as ee,k as y,q as M,a as L,l as I,m as D,r as N,c as P,n as V,G as u,M as te,y as J,z as K,A as Q,H as ae,B as R,L as re,u as H}from"./index.85206748.js";import{p as le}from"./stores.8ae7c18f.js";import{s as se}from"./team-store.fa9fd22b.js";import{m as ne}from"./manager-store.87b95992.js";import{t as ie}from"./toast-store.55f7539f.js";import{V as oe}from"./ViewDetailsIcon.c54530f9.js";import{L as ce}from"./Layout.226466cf.js";function O(o,e,t){const a=o.slice();return a[11]=e[t],a}function fe(o){let e,t,a,c,w,f,_,r,v,d,k,b,i,E=o[2].gameweeks,l=[];for(let s=0;s<E.length;s+=1)l[s]=U(O(o,E,s));const x=s=>B(l[s],1,1,()=>{l[s]=null});return{c(){e=y("div"),t=y("div"),a=y("div"),c=y("div"),w=M("Gameweek"),f=L(),_=y("div"),r=M("Points"),v=L(),d=y("div"),k=M(" "),b=L();for(let s=0;s<l.length;s+=1)l[s].c();this.h()},l(s){e=I(s,"DIV",{class:!0});var p=D(e);t=I(p,"DIV",{class:!0});var n=D(t);a=I(n,"DIV",{class:!0});var m=D(a);c=I(m,"DIV",{class:!0});var h=D(c);w=N(h,"Gameweek"),h.forEach(g),f=P(m),_=I(m,"DIV",{class:!0});var j=D(_);r=N(j,"Points"),j.forEach(g),v=P(m),d=I(m,"DIV",{class:!0});var q=D(d);k=N(q," "),q.forEach(g),m.forEach(g),b=P(n);for(let S=0;S<l.length;S+=1)l[S].l(n);n.forEach(g),p.forEach(g),this.h()},h(){V(c,"class","w-1/4 px-4"),V(_,"class","w-1/4 px-4"),V(d,"class","w-1/4 px-4"),V(a,"class","flex justify-between p-2 border border-gray-700 py-4 bg-light-gray"),V(t,"class","overflow-x-auto flex-1"),V(e,"class","flex flex-col space-y-4 text-lg mt-4")},m(s,p){T(s,e,p),u(e,t),u(t,a),u(a,c),u(c,w),u(a,f),u(a,_),u(_,r),u(a,v),u(a,d),u(d,k),u(t,b);for(let n=0;n<l.length;n+=1)l[n]&&l[n].m(t,null);i=!0},p(s,p){if(p&5){E=s[2].gameweeks;let n;for(n=0;n<E.length;n+=1){const m=O(s,E,n);l[n]?(l[n].p(m,p),G(l[n],1)):(l[n]=U(m),l[n].c(),G(l[n],1),l[n].m(t,null))}for($(),n=E.length;n<l.length;n+=1)x(n);F()}},i(s){if(!i){for(let p=0;p<E.length;p+=1)G(l[p]);i=!0}},o(s){l=l.filter(Boolean);for(let p=0;p<l.length;p+=1)B(l[p]);i=!1},d(s){s&&g(e),te(l,s)}}}function ue(o){let e,t;return e=new ce({}),{c(){J(e.$$.fragment)},l(a){K(e.$$.fragment,a)},m(a,c){Q(e,a,c),t=!0},p:ae,i(a){t||(G(e.$$.fragment,a),t=!0)},o(a){B(e.$$.fragment,a),t=!1},d(a){R(e,a)}}}function U(o){let e,t,a=o[11].gameweek+"",c,w,f,_=o[11].points+"",r,v,d,k,b,i,E,l,x,s,p;i=new oe({props:{className:"w-6 mr-2"}});function n(){return o[5](o[11])}return{c(){e=y("div"),t=y("div"),c=M(a),w=L(),f=y("div"),r=M(_),v=L(),d=y("div"),k=y("button"),b=y("span"),J(i.$$.fragment),E=M("View Details"),l=L(),this.h()},l(m){e=I(m,"DIV",{class:!0});var h=D(e);t=I(h,"DIV",{class:!0});var j=D(t);c=N(j,a),j.forEach(g),w=P(h),f=I(h,"DIV",{class:!0});var q=D(f);r=N(q,_),q.forEach(g),v=P(h),d=I(h,"DIV",{class:!0});var S=D(d);k=I(S,"BUTTON",{});var z=D(k);b=I(z,"SPAN",{class:!0});var A=D(b);K(i.$$.fragment,A),E=N(A,"View Details"),A.forEach(g),z.forEach(g),S.forEach(g),l=P(h),h.forEach(g),this.h()},h(){V(t,"class","w-1/4 px-4"),V(f,"class","w-1/4 px-4"),V(b,"class","flex items-center"),V(d,"class","w-1/4 px-4 flex items-center"),V(e,"class","flex items-center justify-between p-2 py-4 border-b border-gray-700 cursor-pointer")},m(m,h){T(m,e,h),u(e,t),u(t,c),u(e,w),u(e,f),u(f,r),u(e,v),u(e,d),u(d,k),u(k,b),Q(i,b,null),u(b,E),u(e,l),x=!0,s||(p=re(k,"click",n),s=!0)},p(m,h){o=m,(!x||h&4)&&a!==(a=o[11].gameweek+"")&&H(c,a),(!x||h&4)&&_!==(_=o[11].points+"")&&H(r,_)},i(m){x||(G(i.$$.fragment,m),x=!0)},o(m){B(i.$$.fragment,m),x=!1},d(m){m&&g(e),R(i),s=!1,p()}}}function de(o){let e,t,a,c;const w=[ue,fe],f=[];function _(r,v){return r[1]?0:1}return e=_(o),t=f[e]=w[e](o),{c(){t.c(),a=C()},l(r){t.l(r),a=C()},m(r,v){f[e].m(r,v),T(r,a,v),c=!0},p(r,[v]){let d=e;e=_(r),e===d?f[e].p(r,v):($(),B(f[d],1,1,()=>{f[d]=null}),F(),t=f[e],t?t.p(r,v):(t=f[e]=w[e](r),t.c()),G(t,1),t.m(a.parentNode,a))},i(r){c||(G(t),c=!0)},o(r){B(t),c=!1},d(r){f[e].d(r),r&&g(a)}}}function me(o,e,t){let a,c;Z(o,le,i=>t(4,c=i));let w,f=!0,{principalId:_=""}=e,{viewGameweekDetail:r}=e,v,d=1,k=null;se.subscribe(i=>{w=i}),ee(async()=>{try{d=w?.activeGameweek??d,k=w?.activeSeason??k,t(2,v=await ne.getManager(a??"",k?.id??1,d))}catch(i){ie.show("Error fetching manager gameweeks.","error"),console.error("Error fetching manager gameweeks:",i)}finally{t(1,f=!1)}});const b=i=>r(i.principalId,i.gameweek);return o.$$set=i=>{"principalId"in i&&t(3,_=i.principalId),"viewGameweekDetail"in i&&t(0,r=i.viewGameweekDetail)},o.$$.update=()=>{o.$$.dirty&24&&(a=c.url.searchParams.get("id")??_)},[r,f,v,_,c,b]}class be extends W{constructor(e){super(),X(this,e,me,de,Y,{principalId:3,viewGameweekDetail:0})}}export{be as M};
