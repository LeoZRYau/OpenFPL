import{S as el,i as tl,s as ll,y as Ne,z as Ce,A as Ve,g as I,d as S,B as Me,I as al,o as rl,e as Qt,b as sl,v as Dt,f as Tt,h as r,k as o,a as d,q as _,l as n,m as i,c as m,r as x,n as a,Q as Yt,p as K,G as e,L as Kt,u as X,N as ol,H as nl}from"../chunks/index.dab0e011.js";import{L as il}from"../chunks/Layout.9d799e1b.js";import{L as cl}from"../chunks/LoadingIcon.c6bc274d.js";import{p as fl}from"../chunks/stores.1c99ebdd.js";import{M as ul}from"../chunks/manager-gameweeks.0fc5ef05.js";import{M as dl}from"../chunks/ManagerService.84376201.js";import{S as ml,T as pl,B as vl}from"../chunks/BadgeIcon.1a82ba04.js";class _l extends el{constructor(t){super(),tl(this,t,null,null,ll,{})}}function xl(c){let t,s,l,p,g,y,k,v,w,N,P,A,se,Z,G,ee=c[2].displayName+"",D,ke,j,ae,re,Ee,H,oe,T,J,Qe,Ye,F,O,Ke,Pe=c[6]?.abbreviatedName+"",Le,Xe,ne,Ie=c[6]?.name+"",Ue,Ze,E,C,ie,et,tt,q,De=c[2].weeklyPositionText+"",Ae,lt,ce,st,at,fe,rt,ot,te,nt,V,ue,it,ct,R,Te=c[2].monthlyPositionText+"",je,ft,de,ut,dt,me,mt,pt,le,vt,M,pe,He,_t,W,Se=c[2].seasonPositionText+"",Be,xt,ve,gt,ht,_e,bt,wt,xe,ge,z,Q,yt,Ge,$t,Y,kt,Je,Et,Fe,$,Pt,St;O=new vl({props:{className:"w-7 mr-2",primaryColour:c[6]?.primaryColourHex,secondaryColour:c[6]?.secondaryColourHex,thirdColour:c[6]?.thirdColourHex}});let h=c[1]==="details"&&Xt(),b=c[1]==="gameweeks"&&Zt();return{c(){t=o("div"),s=o("div"),l=o("div"),p=o("div"),g=o("img"),v=d(),w=o("div"),N=d(),P=o("div"),A=o("p"),se=_("Manager"),Z=d(),G=o("p"),D=_(ee),ke=d(),j=o("p"),ae=_("Joined: "),re=_(c[4]),Ee=d(),H=o("div"),oe=d(),T=o("div"),J=o("p"),Qe=_("Favourite Team"),Ye=d(),F=o("p"),Ne(O.$$.fragment),Ke=d(),Le=_(Pe),Xe=d(),ne=o("p"),Ue=_(Ie),Ze=d(),E=o("div"),C=o("div"),ie=o("p"),et=_("Leaderboards"),tt=d(),q=o("p"),Ae=_(De),lt=d(),ce=o("span"),st=_("(200)"),at=d(),fe=o("p"),rt=_("Weekly"),ot=d(),te=o("div"),nt=d(),V=o("div"),ue=o("p"),it=_("Man United"),ct=d(),R=o("p"),je=_(Te),ft=d(),de=o("span"),ut=_("(400)"),dt=d(),me=o("p"),mt=_("Club"),pt=d(),le=o("div"),vt=d(),M=o("div"),pe=o("p"),He=_(c[3]),_t=d(),W=o("p"),Be=_(Se),xt=d(),ve=o("span"),gt=_("(2,000)"),ht=d(),_e=o("p"),bt=_("Season"),wt=d(),xe=o("div"),ge=o("div"),z=o("div"),Q=o("button"),yt=_("Details"),$t=d(),Y=o("button"),kt=_("Gameweeks"),Et=d(),h&&h.c(),Fe=d(),b&&b.c(),this.h()},l(u){t=n(u,"DIV",{class:!0});var f=i(t);s=n(f,"DIV",{class:!0});var B=i(s);l=n(B,"DIV",{class:!0});var L=i(l);p=n(L,"DIV",{class:!0});var Nt=i(p);g=n(Nt,"IMG",{class:!0,src:!0,alt:!0}),Nt.forEach(r),v=m(L),w=n(L,"DIV",{class:!0,style:!0}),i(w).forEach(r),N=m(L),P=n(L,"DIV",{class:!0});var he=i(P);A=n(he,"P",{class:!0});var Ct=i(A);se=x(Ct,"Manager"),Ct.forEach(r),Z=m(he),G=n(he,"P",{class:!0});var Vt=i(G);D=x(Vt,ee),Vt.forEach(r),ke=m(he),j=n(he,"P",{class:!0});var It=i(j);ae=x(It,"Joined: "),re=x(It,c[4]),It.forEach(r),he.forEach(r),Ee=m(L),H=n(L,"DIV",{class:!0,style:!0}),i(H).forEach(r),oe=m(L),T=n(L,"DIV",{class:!0});var be=i(T);J=n(be,"P",{class:!0});var Mt=i(J);Qe=x(Mt,"Favourite Team"),Mt.forEach(r),Ye=m(be),F=n(be,"P",{class:!0});var Oe=i(F);Ce(O.$$.fragment,Oe),Ke=m(Oe),Le=x(Oe,Pe),Oe.forEach(r),Xe=m(be),ne=n(be,"P",{class:!0});var Lt=i(ne);Ue=x(Lt,Ie),Lt.forEach(r),be.forEach(r),L.forEach(r),Ze=m(B),E=n(B,"DIV",{class:!0});var U=i(E);C=n(U,"DIV",{class:!0});var we=i(C);ie=n(we,"P",{class:!0});var Ut=i(ie);et=x(Ut,"Leaderboards"),Ut.forEach(r),tt=m(we),q=n(we,"P",{class:!0});var qe=i(q);Ae=x(qe,De),lt=m(qe),ce=n(qe,"SPAN",{class:!0});var At=i(ce);st=x(At,"(200)"),At.forEach(r),qe.forEach(r),at=m(we),fe=n(we,"P",{class:!0});var jt=i(fe);rt=x(jt,"Weekly"),jt.forEach(r),we.forEach(r),ot=m(U),te=n(U,"DIV",{class:!0,style:!0}),i(te).forEach(r),nt=m(U),V=n(U,"DIV",{class:!0});var ye=i(V);ue=n(ye,"P",{class:!0});var Ht=i(ue);it=x(Ht,"Man United"),Ht.forEach(r),ct=m(ye),R=n(ye,"P",{class:!0});var Re=i(R);je=x(Re,Te),ft=m(Re),de=n(Re,"SPAN",{class:!0});var Bt=i(de);ut=x(Bt,"(400)"),Bt.forEach(r),Re.forEach(r),dt=m(ye),me=n(ye,"P",{class:!0});var Gt=i(me);mt=x(Gt,"Club"),Gt.forEach(r),ye.forEach(r),pt=m(U),le=n(U,"DIV",{class:!0,style:!0}),i(le).forEach(r),vt=m(U),M=n(U,"DIV",{class:!0});var $e=i(M);pe=n($e,"P",{class:!0});var Jt=i(pe);He=x(Jt,c[3]),Jt.forEach(r),_t=m($e),W=n($e,"P",{class:!0});var We=i(W);Be=x(We,Se),xt=m(We),ve=n(We,"SPAN",{class:!0});var Ft=i(ve);gt=x(Ft,"(2,000)"),Ft.forEach(r),We.forEach(r),ht=m($e),_e=n($e,"P",{class:!0});var Ot=i(_e);bt=x(Ot,"Season"),Ot.forEach(r),$e.forEach(r),U.forEach(r),B.forEach(r),wt=m(f),xe=n(f,"DIV",{class:!0});var qt=i(xe);ge=n(qt,"DIV",{class:!0});var Rt=i(ge);z=n(Rt,"DIV",{class:!0});var ze=i(z);Q=n(ze,"BUTTON",{class:!0});var Wt=i(Q);yt=x(Wt,"Details"),Wt.forEach(r),$t=m(ze),Y=n(ze,"BUTTON",{class:!0});var zt=i(Y);kt=x(zt,"Gameweeks"),zt.forEach(r),ze.forEach(r),Rt.forEach(r),qt.forEach(r),Et=m(f),h&&h.l(f),Fe=m(f),b&&b.l(f),f.forEach(r),this.h()},h(){a(g,"class","w-20"),Yt(g.src,y=c[5])||a(g,"src",y),a(g,"alt",k=c[2].displayName),a(p,"class","flex"),a(w,"class","flex-shrink-0 w-px bg-gray-400 self-stretch"),K(w,"min-width","2px"),K(w,"min-height","50px"),a(A,"class","text-gray-300 text-xs"),a(G,"class","text-2xl sm:text-3xl md:text-4xl mt-2 mb-2 font-bold"),a(j,"class","text-gray-300 text-xs"),a(P,"class","flex-grow"),a(H,"class","flex-shrink-0 w-px bg-gray-400 self-stretch"),K(H,"min-width","2px"),K(H,"min-height","50px"),a(J,"class","text-gray-300 text-xs"),a(F,"class","text-2xl sm:text-3xl md:text-4xl mt-2 mb-2 font-bold flex items-center"),a(ne,"class","text-gray-300 text-xs"),a(T,"class","flex-grow"),a(l,"class","flex justify-start items-center text-white space-x-4 flex-grow m-4 bg-panel p-4 rounded-md"),a(ie,"class","text-gray-300 text-xs"),a(ce,"class","text-xs"),a(q,"class","text-2xl sm:text-3xl md:text-4xl mt-2 mb-2 font-bold"),a(fe,"class","text-gray-300 text-xs"),a(C,"class","flex-grow"),a(te,"class","flex-shrink-0 w-px bg-gray-400 self-stretch"),K(te,"min-width","2px"),K(te,"min-height","50px"),a(ue,"class","text-gray-300 text-xs"),a(de,"class","text-xs"),a(R,"class","text-2xl sm:text-3xl md:text-4xl mt-2 mb-2 font-bold"),a(me,"class","text-gray-300 text-xs"),a(V,"class","flex-grow"),a(le,"class","flex-shrink-0 w-px bg-gray-400 self-stretch"),K(le,"min-width","2px"),K(le,"min-height","50px"),a(pe,"class","text-gray-300 text-xs"),a(ve,"class","text-xs"),a(W,"class","text-2xl sm:text-3xl md:text-4xl mt-2 mb-2 font-bold"),a(_e,"class","text-gray-300 text-xs"),a(M,"class","flex-grow"),a(E,"class","flex justify-start items-center text-white space-x-4 flex-grow m-4 bg-panel p-4 rounded-md"),a(s,"class","flex flex-col md:flex-row"),a(Q,"class",Ge=`btn ${c[1]=="details"?"fpl-button":"inactive-btn"} px-4 py-2 rounded-l-md font-bold text-md min-w-[125px] my-4`),a(Y,"class",Je=`btn ${c[1]=="gameweeks"?"fpl-button":"inactive-btn"} px-4 py-2 rounded-r-md font-bold text-md min-w-[125px] my-4`),a(z,"class","flex flex-row justify-between md:justify-start flex-grow mb-2 md:mb-0 ml-4 order-3 md:order-1"),a(ge,"class","flex flex-col md:flex-row justify-between items-center text-white m-4 bg-panel p-4 rounded-md md:w-full"),a(xe,"class","flex flex-col md:flex-row"),a(t,"class","m-4")},m(u,f){sl(u,t,f),e(t,s),e(s,l),e(l,p),e(p,g),e(l,v),e(l,w),e(l,N),e(l,P),e(P,A),e(A,se),e(P,Z),e(P,G),e(G,D),e(P,ke),e(P,j),e(j,ae),e(j,re),e(l,Ee),e(l,H),e(l,oe),e(l,T),e(T,J),e(J,Qe),e(T,Ye),e(T,F),Ve(O,F,null),e(F,Ke),e(F,Le),e(T,Xe),e(T,ne),e(ne,Ue),e(s,Ze),e(s,E),e(E,C),e(C,ie),e(ie,et),e(C,tt),e(C,q),e(q,Ae),e(q,lt),e(q,ce),e(ce,st),e(C,at),e(C,fe),e(fe,rt),e(E,ot),e(E,te),e(E,nt),e(E,V),e(V,ue),e(ue,it),e(V,ct),e(V,R),e(R,je),e(R,ft),e(R,de),e(de,ut),e(V,dt),e(V,me),e(me,mt),e(E,pt),e(E,le),e(E,vt),e(E,M),e(M,pe),e(pe,He),e(M,_t),e(M,W),e(W,Be),e(W,xt),e(W,ve),e(ve,gt),e(M,ht),e(M,_e),e(_e,bt),e(t,wt),e(t,xe),e(xe,ge),e(ge,z),e(z,Q),e(Q,yt),e(z,$t),e(z,Y),e(Y,kt),e(t,Et),h&&h.m(t,null),e(t,Fe),b&&b.m(t,null),$=!0,Pt||(St=[Kt(Q,"click",c[9]),Kt(Y,"click",c[10])],Pt=!0)},p(u,f){(!$||f&32&&!Yt(g.src,y=u[5]))&&a(g,"src",y),(!$||f&4&&k!==(k=u[2].displayName))&&a(g,"alt",k),(!$||f&4)&&ee!==(ee=u[2].displayName+"")&&X(D,ee),(!$||f&16)&&X(re,u[4]);const B={};f&64&&(B.primaryColour=u[6]?.primaryColourHex),f&64&&(B.secondaryColour=u[6]?.secondaryColourHex),f&64&&(B.thirdColour=u[6]?.thirdColourHex),O.$set(B),(!$||f&64)&&Pe!==(Pe=u[6]?.abbreviatedName+"")&&X(Le,Pe),(!$||f&64)&&Ie!==(Ie=u[6]?.name+"")&&X(Ue,Ie),(!$||f&4)&&De!==(De=u[2].weeklyPositionText+"")&&X(Ae,De),(!$||f&4)&&Te!==(Te=u[2].monthlyPositionText+"")&&X(je,Te),(!$||f&8)&&X(He,u[3]),(!$||f&4)&&Se!==(Se=u[2].seasonPositionText+"")&&X(Be,Se),(!$||f&2&&Ge!==(Ge=`btn ${u[1]=="details"?"fpl-button":"inactive-btn"} px-4 py-2 rounded-l-md font-bold text-md min-w-[125px] my-4`))&&a(Q,"class",Ge),(!$||f&2&&Je!==(Je=`btn ${u[1]=="gameweeks"?"fpl-button":"inactive-btn"} px-4 py-2 rounded-r-md font-bold text-md min-w-[125px] my-4`))&&a(Y,"class",Je),u[1]==="details"?h?f&2&&I(h,1):(h=Xt(),h.c(),I(h,1),h.m(t,Fe)):h&&(Dt(),S(h,1,1,()=>{h=null}),Tt()),u[1]==="gameweeks"?b?f&2&&I(b,1):(b=Zt(),b.c(),I(b,1),b.m(t,null)):b&&(Dt(),S(b,1,1,()=>{b=null}),Tt())},i(u){$||(I(O.$$.fragment,u),I(h),I(b),$=!0)},o(u){S(O.$$.fragment,u),S(h),S(b),$=!1},d(u){u&&r(t),Me(O),h&&h.d(),b&&b.d(),Pt=!1,ol(St)}}}function gl(c){let t,s;return t=new cl({props:{progress:wl}}),{c(){Ne(t.$$.fragment)},l(l){Ce(t.$$.fragment,l)},m(l,p){Ve(t,l,p),s=!0},p:nl,i(l){s||(I(t.$$.fragment,l),s=!0)},o(l){S(t.$$.fragment,l),s=!1},d(l){Me(t,l)}}}function Xt(c){let t,s;return t=new _l({}),{c(){Ne(t.$$.fragment)},l(l){Ce(t.$$.fragment,l)},m(l,p){Ve(t,l,p),s=!0},i(l){s||(I(t.$$.fragment,l),s=!0)},o(l){S(t.$$.fragment,l),s=!1},d(l){Me(t,l)}}}function Zt(c){let t,s;return t=new ul({}),{c(){Ne(t.$$.fragment)},l(l){Ce(t.$$.fragment,l)},m(l,p){Ve(t,l,p),s=!0},i(l){s||(I(t.$$.fragment,l),s=!0)},o(l){S(t.$$.fragment,l),s=!1},d(l){Me(t,l)}}}function hl(c){let t,s,l,p;const g=[gl,xl],y=[];function k(v,w){return v[0]?0:1}return t=k(c),s=y[t]=g[t](c),{c(){s.c(),l=Qt()},l(v){s.l(v),l=Qt()},m(v,w){y[t].m(v,w),sl(v,l,w),p=!0},p(v,w){let N=t;t=k(v),t===N?y[t].p(v,w):(Dt(),S(y[N],1,1,()=>{y[N]=null}),Tt(),s=y[t],s?s.p(v,w):(s=y[t]=g[t](v),s.c()),I(s,1),s.m(l.parentNode,l))},i(v){p||(I(s),p=!0)},o(v){S(s),p=!1},d(v){y[t].d(v),v&&r(l)}}}function bl(c){let t,s;return t=new il({props:{$$slots:{default:[hl]},$$scope:{ctx:c}}}),{c(){Ne(t.$$.fragment)},l(l){Ce(t.$$.fragment,l)},m(l,p){Ve(t,l,p),s=!0},p(l,[p]){const g={};p&16511&&(g.$$scope={dirty:p,ctx:l}),t.$set(g)},i(l){s||(I(t.$$.fragment,l),s=!0)},o(l){S(t.$$.fragment,l),s=!1},d(l){Me(t,l)}}}let wl=0;function yl(c,t,s){let l,p;al(c,fl,D=>s(8,p=D));let g=!0,y="details",k,v=1,w="",N="",P,A,se=null;rl(async()=>{try{let D=new ml,ke=new dl,j=new pl,ae=await D.getSystemState();v=ae?.activeGameweek??1,s(3,w=ae?.activeSeason.name??""),s(2,k=await ke.getManager(l??""));const re=new Blob([new Uint8Array(k.profilePicture)]),Ee=k.profilePicture.length>0?URL.createObjectURL(re):"profile_placeholder.png";s(5,P=Ee);const H=Number(k.createDate/1000000n),oe=new Date(H);s(4,N=`${["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][oe.getUTCMonth()]} ${oe.getUTCFullYear()}`),A=await j.getTeams(),s(6,se=k.favouriteTeamId>0?A.find(J=>J.id==k.favouriteTeamId)??null:null),s(0,g=!1)}catch(D){console.error("Error fetching data:",D)}});function Z(D){s(1,y=D)}const G=()=>Z("details"),ee=()=>Z("gameweeks");return c.$$.update=()=>{c.$$.dirty&256&&(l=p.url.searchParams.get("id"))},[g,y,k,w,N,P,se,Z,p,G,ee]}class Sl extends el{constructor(t){super(),tl(this,t,yl,bl,ll,{})}}export{Sl as component};
