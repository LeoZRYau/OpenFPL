var me=Object.defineProperty;var _e=(s,e,a)=>e in s?me(s,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[e]=a;var Ha=(s,e,a)=>(_e(s,typeof e!="symbol"?e+"":e,a),a);import{S as Na,i as ha,s as Sa,e as ea,b as z,H as aa,h as l,k as p,a as j,q as O,l as b,m as E,c as x,r as L,n as u,G as n,L as Q,J as de,K as Ya,U as Aa,u as ia,V as Ca,M as Fa,N as Pa,W as xa,X as da,O as fe,P as ja,y as fa,z as ua,A as pa,g as ba,d as Ia,B as Ea,I as Xa,o as ue,Y as pe}from"../chunks/index.85206748.js";import{p as be}from"../chunks/stores.3691cf6a.js";import{w as _a}from"../chunks/index.b378d913.js";import{A as Qa,i as Za,t as Ja,s as Ie,r as Ee}from"../chunks/team-store.fa9fd22b.js";import{p as Ne,f as he}from"../chunks/player-store.5330a1b6.js";import{b as Se,a as ve}from"../chunks/Layout.bf9e7437.js";import{t as ka}from"../chunks/toast-store.55f7539f.js";import{r as De}from"../chunks/index.d7eb2526.js";function $a(s,e,a){const t=s.slice();return t[17]=e[a],t[19]=a,t}function ae(s,e,a){const t=s.slice();return t[20]=e[a],t}function ee(s){let e,a,t,o,i,c,I,T,d=s[1]&&te(s);return{c(){e=p("div"),a=p("div"),d&&d.c(),t=j(),o=p("div"),i=p("button"),c=O("Done"),this.h()},l(m){e=b(m,"DIV",{class:!0});var r=E(e);a=b(r,"DIV",{class:!0});var _=E(a);d&&d.l(_),t=x(_),o=b(_,"DIV",{class:!0});var N=E(o);i=b(N,"BUTTON",{class:!0});var f=E(i);c=L(f,"Done"),f.forEach(l),N.forEach(l),_.forEach(l),r.forEach(l),this.h()},h(){u(i,"class","px-4 py-2 bg-blue-500 text-white rounded"),u(o,"class","flex justify-end gap-3 mt-4"),u(a,"class","relative top-20 mx-auto p-5 border w-3/4 shadow-lg rounded-md bg-white"),u(e,"class","fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full")},m(m,r){z(m,e,r),n(e,a),d&&d.m(a,null),n(a,t),n(a,o),n(o,i),n(i,c),I||(T=Q(i,"click",s[16]),I=!0)},p(m,r){m[1]?d?d.p(m,r):(d=te(m),d.c(),d.m(a,t)):d&&(d.d(1),d=null)},d(m){m&&l(e),d&&d.d(),I=!1,T()}}}function te(s){let e,a,t=s[1].firstName!==""?s[1].firstName.charAt(0)+".":"",o,i,c=s[1].lastName+"",I,T,d,m,r,_,N,f,y,V,D,C,P,w,q,h,k,F,A,W,v,G,Z,M,J,K,$,g,U,H,Ra,na,Oa,va,oa,ra,La,qa,ca=s[7],Y=[];for(let S=0;S<ca.length;S+=1)Y[S]=se(ae(s,ca,S));let ma=s[6],X=[];for(let S=0;S<ma.length;S+=1)X[S]=ne($a(s,ma,S));return{c(){e=p("div"),a=p("h4"),o=O(t),i=j(),I=O(c),T=O(" - Match Events"),d=j(),m=p("button"),r=O("✕"),_=j(),N=p("div"),f=p("h4"),y=O("Add Event"),V=j(),D=p("div"),C=p("div"),P=p("label"),w=O("Event Type"),q=j(),h=p("select"),k=p("option"),F=O("Select event type");for(let S=0;S<Y.length;S+=1)Y[S].c();A=j(),W=p("div"),v=p("label"),G=O("Start Minute"),Z=j(),M=p("input"),J=j(),K=p("div"),$=p("label"),g=O("End Minute"),U=j(),H=p("input"),Ra=j(),na=p("button"),Oa=O("Add Event"),va=j(),oa=p("div"),ra=p("ul");for(let S=0;S<X.length;S+=1)X[S].c();this.h()},l(S){e=b(S,"DIV",{class:!0});var B=E(e);a=b(B,"H4",{class:!0});var R=E(a);o=L(R,t),i=x(R),I=L(R,c),T=L(R," - Match Events"),R.forEach(l),d=x(B),m=b(B,"BUTTON",{class:!0});var ta=E(m);r=L(ta,"✕"),ta.forEach(l),B.forEach(l),_=x(S),N=b(S,"DIV",{class:!0});var Da=E(N);f=b(Da,"H4",{class:!0});var Va=E(f);y=L(Va,"Add Event"),Va.forEach(l),V=x(Da),D=b(Da,"DIV",{class:!0});var sa=E(D);C=b(sa,"DIV",{});var ga=E(C);P=b(ga,"LABEL",{for:!0,class:!0});var Wa=E(P);w=L(Wa,"Event Type"),Wa.forEach(l),q=x(ga),h=b(ga,"SELECT",{id:!0,class:!0});var wa=E(h);k=b(wa,"OPTION",{});var Ma=E(k);F=L(Ma,"Select event type"),Ma.forEach(l);for(let la=0;la<Y.length;la+=1)Y[la].l(wa);wa.forEach(l),ga.forEach(l),A=x(sa),W=b(sa,"DIV",{});var Ta=E(W);v=b(Ta,"LABEL",{for:!0,class:!0});var za=E(v);G=L(za,"Start Minute"),za.forEach(l),Z=x(Ta),M=b(Ta,"INPUT",{type:!0,id:!0,class:!0,placeholder:!0}),Ta.forEach(l),J=x(sa),K=b(sa,"DIV",{});var ya=E(K);$=b(ya,"LABEL",{for:!0,class:!0});var Ga=E($);g=L(Ga,"End Minute"),Ga.forEach(l),U=x(ya),H=b(ya,"INPUT",{type:!0,id:!0,class:!0,placeholder:!0}),ya.forEach(l),Ra=x(sa),na=b(sa,"BUTTON",{class:!0});var Ua=E(na);Oa=L(Ua,"Add Event"),Ua.forEach(l),sa.forEach(l),Da.forEach(l),va=x(S),oa=b(S,"DIV",{class:!0});var Ka=E(oa);ra=b(Ka,"UL",{class:!0});var Ba=E(ra);for(let la=0;la<X.length;la+=1)X[la].l(Ba);Ba.forEach(l),Ka.forEach(l),this.h()},h(){u(a,"class","text-lg font-bold"),u(m,"class","text-black"),u(e,"class","flex justify-between items-center"),u(f,"class","text-lg font-bold mb-3"),u(P,"for","eventType"),u(P,"class","block text-sm font-medium text-gray-700"),k.__value="-1",k.value=k.__value,k.disabled=!0,u(h,"id","eventType"),u(h,"class","mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md"),s[3]===void 0&&de(()=>s[12].call(h)),u(v,"for","startMinute"),u(v,"class","block text-sm font-medium text-gray-700"),u(M,"type","number"),u(M,"id","startMinute"),u(M,"class","mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md"),u(M,"placeholder","Enter start minute"),u($,"for","endMinute"),u($,"class","block text-sm font-medium text-gray-700"),u(H,"type","number"),u(H,"id","endMinute"),u(H,"class","mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md"),u(H,"placeholder","Enter end minute"),u(na,"class","mt-2 px-4 py-2 bg-blue-500 text-white rounded"),u(D,"class","flex flex-col gap-3"),u(N,"class","mt-4 p-4 border-t border-gray-200"),u(ra,"class","list-disc pl-5"),u(oa,"class","mt-4")},m(S,B){z(S,e,B),n(e,a),n(a,o),n(a,i),n(a,I),n(a,T),n(e,d),n(e,m),n(m,r),z(S,_,B),z(S,N,B),n(N,f),n(f,y),n(N,V),n(N,D),n(D,C),n(C,P),n(P,w),n(C,q),n(C,h),n(h,k),n(k,F);for(let R=0;R<Y.length;R+=1)Y[R]&&Y[R].m(h,null);Ya(h,s[3],!0),n(D,A),n(D,W),n(W,v),n(v,G),n(W,Z),n(W,M),Aa(M,s[4]),n(D,J),n(D,K),n(K,$),n($,g),n(K,U),n(K,H),Aa(H,s[5]),n(D,Ra),n(D,na),n(na,Oa),z(S,va,B),z(S,oa,B),n(oa,ra);for(let R=0;R<X.length;R+=1)X[R]&&X[R].m(ra,null);La||(qa=[Q(m,"click",s[11]),Q(h,"change",s[12]),Q(M,"input",s[13]),Q(H,"input",s[14]),Q(na,"click",s[8])],La=!0)},p(S,B){if(B&2&&t!==(t=S[1].firstName!==""?S[1].firstName.charAt(0)+".":"")&&ia(o,t),B&2&&c!==(c=S[1].lastName+"")&&ia(I,c),B&128){ca=S[7];let R;for(R=0;R<ca.length;R+=1){const ta=ae(S,ca,R);Y[R]?Y[R].p(ta,B):(Y[R]=se(ta),Y[R].c(),Y[R].m(h,null))}for(;R<Y.length;R+=1)Y[R].d(1);Y.length=ca.length}if(B&136&&Ya(h,S[3]),B&16&&Ca(M.value)!==S[4]&&Aa(M,S[4]),B&32&&Ca(H.value)!==S[5]&&Aa(H,S[5]),B&576){ma=S[6];let R;for(R=0;R<ma.length;R+=1){const ta=$a(S,ma,R);X[R]?X[R].p(ta,B):(X[R]=ne(ta),X[R].c(),X[R].m(ra,null))}for(;R<X.length;R+=1)X[R].d(1);X.length=ma.length}},d(S){S&&l(e),S&&l(_),S&&l(N),Fa(Y,S),S&&l(va),S&&l(oa),Fa(X,S),La=!1,Pa(qa)}}}function se(s){let e,a=s[20].label+"",t;return{c(){e=p("option"),t=O(a),this.h()},l(o){e=b(o,"OPTION",{});var i=E(e);t=L(i,a),i.forEach(l),this.h()},h(){e.__value=s[20].id,e.value=e.__value},m(o,i){z(o,e,i),n(e,t)},p:aa,d(o){o&&l(e)}}}function ne(s){let e,a,t=s[17].eventType+"",o,i,c=s[17].eventStartMinute+"",I,T,d=s[17].eventEndMinute+"",m,r,_,N,f,y,V,D;function C(){return s[15](s[19])}return{c(){e=p("li"),a=p("span"),o=O(t),i=O(" - From "),I=O(c),T=O(" to "),m=O(d),r=O(`
                  minutes`),_=j(),N=p("button"),f=O("Remove"),y=j(),this.h()},l(P){e=b(P,"LI",{class:!0});var w=E(e);a=b(w,"SPAN",{});var q=E(a);o=L(q,t),i=L(q," - From "),I=L(q,c),T=L(q," to "),m=L(q,d),r=L(q,`
                  minutes`),q.forEach(l),_=x(w),N=b(w,"BUTTON",{class:!0});var h=E(N);f=L(h,"Remove"),h.forEach(l),y=x(w),w.forEach(l),this.h()},h(){u(N,"class","px-3 py-1 bg-red-500 text-white rounded"),u(e,"class","flex justify-between items-center mb-2")},m(P,w){z(P,e,w),n(e,a),n(a,o),n(a,i),n(a,I),n(a,T),n(a,m),n(a,r),n(e,_),n(e,N),n(N,f),n(e,y),V||(D=Q(N,"click",C),V=!0)},p(P,w){s=P,w&64&&t!==(t=s[17].eventType+"")&&ia(o,t),w&64&&c!==(c=s[17].eventStartMinute+"")&&ia(I,c),w&64&&d!==(d=s[17].eventEndMinute+"")&&ia(m,d)},d(P){P&&l(e),V=!1,D()}}}function ge(s){let e,a=s[0]&&ee(s);return{c(){a&&a.c(),e=ea()},l(t){a&&a.l(t),e=ea()},m(t,o){a&&a.m(t,o),z(t,e,o)},p(t,[o]){t[0]?a?a.p(t,o):(a=ee(t),a.c(),a.m(e.parentNode,e)):a&&(a.d(1),a=null)},i:aa,o:aa,d(t){a&&a.d(t),t&&l(e)}}}function Te(s,e,a){let t,o=aa,i=()=>(o(),o=xa(d,h=>a(6,t=h)),d);s.$$.on_destroy.push(()=>o());let{show:c=!1}=e,{player:I}=e,{fixtureId:T}=e,{playerEventData:d}=e;i();let m=-1,r=0,_=0;const N=[{id:0,label:"Appearance"},{id:1,label:"Goal Scored"},{id:2,label:"Goal Assisted"},{id:7,label:"Penalty Missed"},{id:8,label:"Yellow Card"},{id:9,label:"Red Card"},{id:10,label:"Own Goal"}];function f(){if(m&&r!==null&&_!==null){const h={playerId:I.id,eventType:Number(m),eventStartMinute:Number(r),eventEndMinute:Number(_),fixtureId:T,teamId:I.teamId};let k=[...da(d),h];d.set(k),a(4,r=0),a(5,_=0),a(3,m=-1)}}function y(h){d.update(k=>k.filter((F,A)=>A!==h))}const V=()=>a(0,c=!1);function D(){m=fe(this),a(3,m),a(7,N)}function C(){r=Ca(this.value),a(4,r)}function P(){_=Ca(this.value),a(5,_)}const w=h=>y(h),q=()=>a(0,c=!1);return s.$$set=h=>{"show"in h&&a(0,c=h.show),"player"in h&&a(1,I=h.player),"fixtureId"in h&&a(10,T=h.fixtureId),"playerEventData"in h&&i(a(2,d=h.playerEventData))},[c,I,d,m,r,_,t,N,f,y,T,V,D,C,P,w,q]}class ye extends Na{constructor(e){super(),ha(this,e,Te,ge,Sa,{show:0,player:1,fixtureId:10,playerEventData:2})}}function oe(s,e,a){const t=s.slice();t[9]=e[a];const o=da(t[3]).some(function(...c){return s[8](t[9],...c)});return t[10]=o,t}function re(s){let e,a,t,o,i,c=s[2].friendlyName+"",I,T,d,m,r,_,N,f,y,V,D,C,P,w,q,h,k=s[4],F=[];for(let A=0;A<k.length;A+=1)F[A]=le(oe(s,k,A));return{c(){e=p("div"),a=p("div"),t=p("div"),o=p("h4"),i=O("Select "),I=O(c),T=O(" Players"),d=j(),m=p("button"),r=O("✕"),_=j(),N=p("div");for(let A=0;A<F.length;A+=1)F[A].c();f=j(),y=p("div"),V=p("button"),D=O("Cancel"),C=j(),P=p("button"),w=O("Select Players"),this.h()},l(A){e=b(A,"DIV",{class:!0});var W=E(e);a=b(W,"DIV",{class:!0});var v=E(a);t=b(v,"DIV",{class:!0});var G=E(t);o=b(G,"H4",{class:!0});var Z=E(o);i=L(Z,"Select "),I=L(Z,c),T=L(Z," Players"),Z.forEach(l),d=x(G),m=b(G,"BUTTON",{class:!0});var M=E(m);r=L(M,"✕"),M.forEach(l),G.forEach(l),_=x(v),N=b(v,"DIV",{class:!0});var J=E(N);for(let U=0;U<F.length;U+=1)F[U].l(J);J.forEach(l),f=x(v),y=b(v,"DIV",{class:!0});var K=E(y);V=b(K,"BUTTON",{class:!0});var $=E(V);D=L($,"Cancel"),$.forEach(l),C=x(K),P=b(K,"BUTTON",{class:!0});var g=E(P);w=L(g,"Select Players"),g.forEach(l),K.forEach(l),v.forEach(l),W.forEach(l),this.h()},h(){u(o,"class","text-lg font-bold"),u(m,"class","text-black"),u(t,"class","flex justify-between items-center"),u(N,"class","my-5 flex flex-wrap"),u(V,"class","px-4 py-2 border rounded text-black"),u(P,"class","px-4 py-2 bg-blue-500 text-white rounded"),u(y,"class","flex justify-end gap-3"),u(a,"class","relative top-20 mx-auto p-5 border w-3/4 shadow-lg rounded-md bg-white"),u(e,"class","fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full")},m(A,W){z(A,e,W),n(e,a),n(a,t),n(t,o),n(o,i),n(o,I),n(o,T),n(t,d),n(t,m),n(m,r),n(a,_),n(a,N);for(let v=0;v<F.length;v+=1)F[v]&&F[v].m(N,null);n(a,f),n(a,y),n(y,V),n(V,D),n(y,C),n(y,P),n(P,w),q||(h=[Q(m,"click",s[6]),Q(V,"click",s[6]),Q(P,"click",s[6])],q=!0)},p(A,W){if(W&4&&c!==(c=A[2].friendlyName+"")&&ia(I,c),W&56){k=A[4];let v;for(v=0;v<k.length;v+=1){const G=oe(A,k,v);F[v]?F[v].p(G,W):(F[v]=le(G),F[v].c(),F[v].m(N,null))}for(;v<F.length;v+=1)F[v].d(1);F.length=k.length}},d(A){A&&l(e),Fa(F,A),q=!1,Pa(h)}}}function le(s){let e,a,t,o,i,c=`${s[9].firstName.length>0?s[9].firstName.charAt(0)+".":""} ${s[9].lastName}`,I,T,d,m;function r(..._){return s[7](s[9],..._)}return{c(){e=p("div"),a=p("label"),t=p("input"),i=j(),I=O(c),T=j(),this.h()},l(_){e=b(_,"DIV",{class:!0});var N=E(e);a=b(N,"LABEL",{class:!0});var f=E(a);t=b(f,"INPUT",{type:!0}),i=x(f),I=L(f,c),f.forEach(l),T=x(N),N.forEach(l),this.h()},h(){u(t,"type","checkbox"),t.checked=o=s[10],u(a,"class","block"),u(e,"class","flex-1 sm:flex-basis-1/2")},m(_,N){z(_,e,N),n(e,a),n(a,t),n(a,i),n(a,I),n(e,T),d||(m=Q(t,"change",r),d=!0)},p(_,N){s=_,N&24&&o!==(o=s[10])&&(t.checked=o),N&16&&c!==(c=`${s[9].firstName.length>0?s[9].firstName.charAt(0)+".":""} ${s[9].lastName}`)&&ia(I,c)},d(_){_&&l(e),d=!1,m()}}}function Ae(s){let e,a=s[0]&&re(s);return{c(){a&&a.c(),e=ea()},l(t){a&&a.l(t),e=ea()},m(t,o){a&&a.m(t,o),z(t,e,o)},p(t,[o]){t[0]?a?a.p(t,o):(a=re(t),a.c(),a.m(e.parentNode,e)):a&&(a.d(1),a=null)},i:aa,o:aa,d(t){a&&a.d(t),t&&l(e)}}}function Ce(s,e,a){let t,o=aa,i=()=>(o(),o=xa(c,f=>a(4,t=f)),c);s.$$.on_destroy.push(()=>o());let{teamPlayers:c=_a([])}=e;i();let{selectedTeam:I}=e,{selectedPlayers:T=_a([])}=e,{show:d=!1}=e;function m(f,y){const V=f.target;let D=da(T),C=da(c);if(V.checked){const P=C.find(w=>w.id===y.id);P&&!D.some(w=>w.id===y.id)&&(D=[...D,P])}else D=D.filter(P=>P.id!==y.id)}function r(){a(0,d=!1)}const _=(f,y)=>{m(y,f)},N=(f,y)=>y.id===f.id;return s.$$set=f=>{"teamPlayers"in f&&i(a(1,c=f.teamPlayers)),"selectedTeam"in f&&a(2,I=f.selectedTeam),"selectedPlayers"in f&&a(3,T=f.selectedPlayers),"show"in f&&a(0,d=f.show)},[d,c,I,T,t,m,r,_,N]}class Pe extends Na{constructor(e){super(),ha(this,e,Ce,Ae,Sa,{teamPlayers:1,selectedTeam:2,selectedPlayers:3,show:0})}}function ie(s){let e,a,t,o,i,c,I,T,d,m,r,_,N,f,y,V,D,C,P,w,q,h,k,F;return{c(){e=p("div"),a=p("div"),t=p("div"),o=p("h4"),i=O("Confirm Fixture Data"),c=j(),I=p("button"),T=O("✕"),d=j(),m=p("div"),r=p("h1"),_=O("Please confirm your fixture data."),N=j(),f=p("p"),y=O(`You will not be able to edit your submission and entries that differ
          from the accepted consensus data will not receive $FPL rewards. If
          consensus has already been reached for the fixture your submission
          will also not be counted.`),V=j(),D=p("div"),C=p("button"),P=O("Cancel"),w=j(),q=p("button"),h=O("Confirm"),this.h()},l(A){e=b(A,"DIV",{class:!0});var W=E(e);a=b(W,"DIV",{class:!0});var v=E(a);t=b(v,"DIV",{class:!0});var G=E(t);o=b(G,"H4",{class:!0});var Z=E(o);i=L(Z,"Confirm Fixture Data"),Z.forEach(l),c=x(G),I=b(G,"BUTTON",{class:!0});var M=E(I);T=L(M,"✕"),M.forEach(l),G.forEach(l),d=x(v),m=b(v,"DIV",{class:!0});var J=E(m);r=b(J,"H1",{});var K=E(r);_=L(K,"Please confirm your fixture data."),K.forEach(l),N=x(J),f=b(J,"P",{class:!0});var $=E(f);y=L($,`You will not be able to edit your submission and entries that differ
          from the accepted consensus data will not receive $FPL rewards. If
          consensus has already been reached for the fixture your submission
          will also not be counted.`),$.forEach(l),J.forEach(l),V=x(v),D=b(v,"DIV",{class:!0});var g=E(D);C=b(g,"BUTTON",{class:!0});var U=E(C);P=L(U,"Cancel"),U.forEach(l),w=x(g),q=b(g,"BUTTON",{class:!0});var H=E(q);h=L(H,"Confirm"),H.forEach(l),g.forEach(l),v.forEach(l),W.forEach(l),this.h()},h(){u(o,"class","text-lg font-bold"),u(I,"class","text-black"),u(t,"class","flex justify-between items-center"),u(f,"class","text-sm text-gray-600"),u(m,"class","my-5"),u(C,"class","px-4 py-2 border rounded text-black"),u(q,"class","px-4 py-2 bg-blue-500 text-white rounded"),u(D,"class","flex justify-end gap-3"),u(a,"class","relative top-20 mx-auto p-5 border w-3/4 shadow-lg rounded-md bg-white"),u(e,"class","fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full")},m(A,W){z(A,e,W),n(e,a),n(a,t),n(t,o),n(o,i),n(t,c),n(t,I),n(I,T),n(a,d),n(a,m),n(m,r),n(r,_),n(m,N),n(m,f),n(f,y),n(a,V),n(a,D),n(D,C),n(C,P),n(D,w),n(D,q),n(q,h),k||(F=[Q(I,"click",s[2]),Q(C,"click",s[2]),Q(q,"click",function(){ja(s[1])&&s[1].apply(this,arguments)})],k=!0)},p(A,W){s=A},d(A){A&&l(e),k=!1,Pa(F)}}}function Re(s){let e,a=s[0]&&ie(s);return{c(){a&&a.c(),e=ea()},l(t){a&&a.l(t),e=ea()},m(t,o){a&&a.m(t,o),z(t,e,o)},p(t,[o]){t[0]?a?a.p(t,o):(a=ie(t),a.c(),a.m(e.parentNode,e)):a&&(a.d(1),a=null)},i:aa,o:aa,d(t){a&&a.d(t),t&&l(e)}}}function Oe(s,e,a){let{show:t=!1}=e,{onConfirm:o}=e;function i(){a(0,t=!1)}return s.$$set=c=>{"show"in c&&a(0,t=c.show),"onConfirm"in c&&a(1,o=c.onConfirm)},[t,o,i]}class Le extends Na{constructor(e){super(),ha(this,e,Oe,Re,Sa,{show:0,onConfirm:1})}}function ce(s){let e,a,t,o,i,c,I,T,d,m,r,_,N,f,y,V,D,C,P,w,q;return{c(){e=p("div"),a=p("div"),t=p("div"),o=p("h4"),i=O("Confirm Clear Draft"),c=j(),I=p("button"),T=O("✕"),d=j(),m=p("div"),r=p("h1"),_=O("Please confirm you want to clear the draft from your cache."),N=j(),f=p("div"),y=p("button"),V=O("Cancel"),D=j(),C=p("button"),P=O("Confirm"),this.h()},l(h){e=b(h,"DIV",{class:!0});var k=E(e);a=b(k,"DIV",{class:!0});var F=E(a);t=b(F,"DIV",{class:!0});var A=E(t);o=b(A,"H4",{class:!0});var W=E(o);i=L(W,"Confirm Clear Draft"),W.forEach(l),c=x(A),I=b(A,"BUTTON",{class:!0});var v=E(I);T=L(v,"✕"),v.forEach(l),A.forEach(l),d=x(F),m=b(F,"DIV",{class:!0});var G=E(m);r=b(G,"H1",{});var Z=E(r);_=L(Z,"Please confirm you want to clear the draft from your cache."),Z.forEach(l),G.forEach(l),N=x(F),f=b(F,"DIV",{class:!0});var M=E(f);y=b(M,"BUTTON",{class:!0});var J=E(y);V=L(J,"Cancel"),J.forEach(l),D=x(M),C=b(M,"BUTTON",{class:!0});var K=E(C);P=L(K,"Confirm"),K.forEach(l),M.forEach(l),F.forEach(l),k.forEach(l),this.h()},h(){u(o,"class","text-lg font-bold"),u(I,"class","text-black"),u(t,"class","flex justify-between items-center"),u(m,"class","my-5"),u(y,"class","px-4 py-2 border rounded text-black"),u(C,"class","px-4 py-2 bg-blue-500 text-white rounded"),u(f,"class","flex justify-end gap-3"),u(a,"class","relative top-20 mx-auto p-5 border w-3/4 shadow-lg rounded-md bg-white"),u(e,"class","fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full")},m(h,k){z(h,e,k),n(e,a),n(a,t),n(t,o),n(o,i),n(t,c),n(t,I),n(I,T),n(a,d),n(a,m),n(m,r),n(r,_),n(a,N),n(a,f),n(f,y),n(y,V),n(f,D),n(f,C),n(C,P),w||(q=[Q(I,"click",function(){ja(s[1])&&s[1].apply(this,arguments)}),Q(y,"click",s[2]),Q(C,"click",function(){ja(s[1])&&s[1].apply(this,arguments)})],w=!0)},p(h,k){s=h},d(h){h&&l(e),w=!1,Pa(q)}}}function we(s){let e,a=s[0]&&ce(s);return{c(){a&&a.c(),e=ea()},l(t){a&&a.l(t),e=ea()},m(t,o){a&&a.m(t,o),z(t,e,o)},p(t,[o]){t[0]?a?a.p(t,o):(a=ce(t),a.c(),a.m(e.parentNode,e)):a&&(a.d(1),a=null)},i:aa,o:aa,d(t){a&&a.d(t),t&&l(e)}}}function ke(s,e,a){let{show:t=!1}=e,{onConfirm:o}=e;function i(){a(0,t=!1)}return s.$$set=c=>{"show"in c&&a(0,t=c.show),"onConfirm"in c&&a(1,o=c.onConfirm)},[t,o,i]}class Fe extends Na{constructor(e){super(),ha(this,e,ke,we,Sa,{show:0,onConfirm:1})}}class je{constructor(){Ha(this,"actor");this.actor=Qa.createActor(Za,"bkyz2-fmaaa-aaaaa-qaaaq-cai")}async actorFromIdentity(){let e;return new Promise((a,t)=>{e=Se.subscribe(o=>{o.identity&&a(o.identity)})}).then(a=>(e(),Qa.createActor(Za,"bkyz2-fmaaa-aaaaa-qaaaq-cai",a)))}async getValidatableFixtures(){return await(await this.actorFromIdentity()).getValidatableFixtures()}async submitFixtureData(e,a){try{await(await this.actorFromIdentity()).submitFixtureData(e,a);return}catch(t){throw console.error("Error submitting fixture data:",t),t}}}function xe(s){let e,a,t;return{c(){e=p("div"),a=p("p"),t=O("Loading Fixture Data..."),this.h()},l(o){e=b(o,"DIV",{class:!0});var i=E(e);a=b(i,"P",{class:!0});var c=E(a);t=L(c,"Loading Fixture Data..."),c.forEach(l),i.forEach(l),this.h()},h(){u(a,"class","text-center mt-1"),u(e,"class","flex items-center justify-center h-screen")},m(o,i){z(o,e,i),n(e,a),n(a,t)},p:aa,d(o){o&&l(e)}}}function qe(s){let e;function a(i,c){return xe}let o=a()(s);return{c(){o.c(),e=ea()},l(i){o.l(i),e=ea()},m(i,c){o.m(i,c),z(i,e,c)},p(i,c){o.p(i,c)},d(i){o.d(i),i&&l(e)}}}function Ve(s){let e,a,t,o,i,c,I,T,d,m;return e=new ve({props:{$$slots:{default:[qe]},$$scope:{ctx:s}}}),t=new Pe({props:{show:We,teamPlayers:s[8],selectedTeam:s[10],selectedPlayers:s[9]}}),i=new ye({props:{show:s[1],player:s[2],fixtureId:s[5],playerEventData:s[3]}}),I=new Le({props:{show:ze,onConfirm:s[11]}}),d=new Fe({props:{show:Me,onConfirm:s[13]}}),{c(){fa(e.$$.fragment),a=j(),fa(t.$$.fragment),o=j(),fa(i.$$.fragment),c=j(),fa(I.$$.fragment),T=j(),fa(d.$$.fragment)},l(r){ua(e.$$.fragment,r),a=x(r),ua(t.$$.fragment,r),o=x(r),ua(i.$$.fragment,r),c=x(r),ua(I.$$.fragment,r),T=x(r),ua(d.$$.fragment,r)},m(r,_){pa(e,r,_),z(r,a,_),pa(t,r,_),z(r,o,_),pa(i,r,_),z(r,c,_),pa(I,r,_),z(r,T,_),pa(d,r,_),m=!0},p(r,_){const N={};_[0]&209|_[1]&8&&(N.$$scope={dirty:_,ctx:r}),e.$set(N);const f={};_[0]&2&&(f.show=r[1]),_[0]&4&&(f.player=r[2]),_[0]&32&&(f.fixtureId=r[5]),_[0]&8&&(f.playerEventData=r[3]),i.$set(f)},i(r){m||(ba(e.$$.fragment,r),ba(t.$$.fragment,r),ba(i.$$.fragment,r),ba(I.$$.fragment,r),ba(d.$$.fragment,r),m=!0)},o(r){Ia(e.$$.fragment,r),Ia(t.$$.fragment,r),Ia(i.$$.fragment,r),Ia(I.$$.fragment,r),Ia(d.$$.fragment,r),m=!1},d(r){Ea(e,r),r&&l(a),Ea(t,r),r&&l(o),Ea(i,r),r&&l(c),Ea(I,r),r&&l(T),Ea(d,r)}}}let We=!1,Me=!1,ze=!1;function Ge(s,e,a){let t,o,i,c,I=aa,T=()=>(I(),I=xa(C,g=>a(7,c=g)),C);Xa(s,be,g=>a(17,o=g)),s.$$.on_destroy.push(()=>I());let d;d=Ja.subscribe(g=>{m=g});let m,r,_,N=!1,f=_a([]),y=_a([]);Xa(s,y,g=>a(6,i=g));let V,D,C=_a([]);T();let P="home";ue(async()=>{await Ja.sync(),await Ne.sync(),await Ie.sync(),await he.sync(),a(0,_=r.find(H=>H.id===t)??null);const g=`fixtureDraft_${t}`,U=localStorage.getItem(g);if(U){const H=JSON.parse(U);C.set(H)}}),pe(()=>{d&&d()});async function w(){try{throw await new je().submitFixtureData(t,da(C)),localStorage.removeItem(`fixtureDraft_${t}`),De(307,"/fixture-validation")}catch(g){ka.show("Error saving fixture data.","error"),console.error("Error saving fixture data: ",g)}}function q(){const g={playerEventData:da(C)},U=`fixtureDraft_${t}`;localStorage.setItem(U,JSON.stringify(g,Ee)),ka.show("Draft saved.","success")}function h(){T(a(3,C=_a([]))),localStorage.removeItem(`fixtureDraft_${t}`),ka.show("Draft cleared.","success")}function k(g){a(4,P=g)}function F(g){return m.find(U=>U.id===g)}function A(g){a(2,D=g),a(1,N=!0)}const W=()=>k("home"),v=()=>k("away"),G=g=>g.teamId===_?.homeTeamId,Z=(g,U)=>U.playerId===g.id,M=g=>A(g),J=g=>g.teamId===_?.awayTeamId,K=(g,U)=>U.playerId===g.id,$=g=>A(g);return s.$$.update=()=>{s.$$.dirty[0]&131072&&a(5,t=Number(o.url.searchParams.get("id")))},[_,N,D,C,P,t,i,c,f,y,V,w,q,h,k,F,A,o,W,v,G,Z,M,J,K,$]}class $e extends Na{constructor(e){super(),ha(this,e,Ge,Ve,Sa,{},null,[-1,-1])}}export{$e as component};
