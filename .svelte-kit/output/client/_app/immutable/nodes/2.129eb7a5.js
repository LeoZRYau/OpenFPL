var Bl=Object.defineProperty;var zl=(s,a,t)=>a in s?Bl(s,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[a]=t;var Ft=(s,a,t)=>(zl(s,typeof a!="symbol"?a+"":a,t),t);import{S as $a,i as Ma,s as Wa,k as o,q as b,a as T,l as n,m as i,r as E,h as r,c as k,n as c,J as Fa,b as be,G as e,K as Ve,L as ye,g as he,v as ja,f as Ga,d as ge,M as ca,N as Ia,o as ct,H as Ke,u as fe,O as Ra,y as Re,z as Fe,A as je,B as Ge,e as it,p as na,P as Le}from"../chunks/index.878abf19.js";import{L as Kl}from"../chunks/Layout.987d9cae.js";import{S as ia,r as jt,F as Ht,T as dt,f as Gt,B as Ha,u as Jl,a as Yl,g as Xl}from"../chunks/BadgeIcon.15c5bab3.js";import{A as Ql,i as Zl,L as ql}from"../chunks/LoadingIcon.ca18fd8e.js";import{M as es}from"../chunks/ManagerService.2c837a23.js";class Ul{constructor(){Ft(this,"actor");Ft(this,"itemsPerPage",25);this.actor=Ql.createActor(Zl,"bkyz2-fmaaa-aaaaa-qaaaq-cai")}async updateWeeklyLeaderboardData(){let a="weekly_leaderboard",l=(await this.actor.getDataHashes()).find(u=>u.category==a)??null;const d=localStorage.getItem(a);if(l?.hash!=d){let u=new ia;await u.updateSystemStateData();let f=await u.getSystemState(),I=await this.actor.getWeeklyLeaderboardCache(f?.activeSeason.id,f?.focusGameweek);localStorage.setItem("weekly_leaderboard_data",JSON.stringify(I,jt)),localStorage.setItem(a,l?.hash??"")}}async updateMonthlyLeaderboardData(){let a="monthly_leaderboards",l=(await this.actor.getDataHashes()).find(u=>u.category==a)??null;const d=localStorage.getItem(a);if(l?.hash!=d){let u=new ia;await u.updateSystemStateData();let f=await u.getSystemState(),I=await this.actor.getClubLeaderboardsCache(f?.activeSeason.id,f?.activeMonth);localStorage.setItem("monthly_leaderboard_data",JSON.stringify(I,jt)),localStorage.setItem(a,l?.hash??"")}}async updateSeasonLeaderboardData(){let a="season_leaderboard",l=(await this.actor.getDataHashes()).find(u=>u.category==a)??null;const d=localStorage.getItem(a);if(l?.hash!=d){let u=new ia;await u.updateSystemStateData();let f=await u.getSystemState(),I=await this.actor.getSeasonLeaderboardCache(f?.activeSeason.id);localStorage.setItem("season_leaderboard_data",JSON.stringify(I,jt)),localStorage.setItem(a,l?.hash??"")}}async getWeeklyLeaderboard(){const a=localStorage.getItem("weekly_leaderboard_data");let t;try{t=JSON.parse(a||"{entries: [], gameweek: 0, seasonId: 0, totalEntries: 0n }")}catch{t={entries:[],gameweek:0,seasonId:0,totalEntries:0n}}return t}async getWeeklyLeaderboardPage(a,t){const l=this.itemsPerPage,d=(t-1)*l;let u=new ia;await u.updateSystemStateData();let f=await u.getSystemState();return await this.actor.getWeeklyLeaderboard(f?.activeSeason.id,a,l,d)}async getMonthlyLeaderboard(a){const t=localStorage.getItem("monthly_leaderboards_data");let l;try{l=JSON.parse(t||"[]")}catch{l=[]}return l.find(u=>u.clubId===a)??null}async getSeasonLeaderboard(){const a=localStorage.getItem("season_leaderboard_data");let t;try{t=JSON.parse(a||"{entries: [], gameweek: 0, seasonId: 0, totalEntries: 0n }")}catch{t={entries:[],gameweek:0,seasonId:0,totalEntries:0n}}return t}async getLeadingWeeklyTeam(){return(await this.getWeeklyLeaderboard()).entries[0]}}function Nl(s,a,t){const l=s.slice();return l[14]=a[t][0],l[1]=a[t][1],l}function Tl(s,a,t){const l=s.slice();return l[17]=a[t].fixture,l[18]=a[t].homeTeam,l[19]=a[t].awayTeam,l}function kl(s,a,t){const l=s.slice();return l[22]=a[t],l}function xl(s){let a,t,l=s[22]+"",d;return{c(){a=o("option"),t=b("Gameweek "),d=b(l),this.h()},l(u){a=n(u,"OPTION",{});var f=i(a);t=E(f,"Gameweek "),d=E(f,l),f.forEach(r),this.h()},h(){a.__value=s[22],a.value=a.__value},m(u,f){be(u,a,f),e(a,t),e(a,d)},p:Ke,d(u){u&&r(a)}}}function Pl(s){let a,t,l,d,u,f,I,_,g,p,L,S,w,m,y,v,h,N,A=Gt(Number(s[17].kickOff))+"",D,M,F,$,P,G=(s[18]?s[18].friendlyName:"")+"",C,ae,ee,z,te=(s[19]?s[19].friendlyName:"")+"",X,le,K,ie,ce,se=(s[17].status===0?"-":s[17].homeGoals)+"",J,re,q,Y=(s[17].status===0?"-":s[17].awayGoals)+"",B,ue,oe;return f=new Ha({props:{primaryColour:s[18]?s[18].primaryColourHex:"",secondaryColour:s[18]?s[18].secondaryColourHex:"",thirdColour:s[18]?s[18].thirdColourHex:""}}),m=new Ha({props:{primaryColour:s[19]?s[19].primaryColourHex:"",secondaryColour:s[19]?s[19].secondaryColourHex:"",thirdColour:s[19]?s[19].thirdColourHex:""}}),{c(){a=o("div"),t=o("div"),l=o("div"),d=o("div"),u=o("a"),Re(f.$$.fragment),_=T(),g=o("span"),p=b("v"),L=T(),S=o("div"),w=o("a"),Re(m.$$.fragment),v=T(),h=o("div"),N=o("span"),D=b(A),M=T(),F=o("div"),$=o("div"),P=o("a"),C=b(G),ee=T(),z=o("a"),X=b(te),K=T(),ie=o("div"),ce=o("span"),J=b(se),re=T(),q=o("span"),B=b(Y),this.h()},l(R){a=n(R,"DIV",{class:!0});var V=i(a);t=n(V,"DIV",{class:!0});var O=i(t);l=n(O,"DIV",{class:!0});var x=i(l);d=n(x,"DIV",{class:!0});var Q=i(d);u=n(Q,"A",{href:!0});var Ee=i(u);Fe(f.$$.fragment,Ee),Ee.forEach(r),Q.forEach(r),_=k(x),g=n(x,"SPAN",{class:!0});var ve=i(g);p=E(ve,"v"),ve.forEach(r),L=k(x),S=n(x,"DIV",{class:!0});var ne=i(S);w=n(ne,"A",{href:!0});var Ie=i(w);Fe(m.$$.fragment,Ie),Ie.forEach(r),ne.forEach(r),x.forEach(r),v=k(O),h=n(O,"DIV",{class:!0});var U=i(h);N=n(U,"SPAN",{class:!0});var Se=i(N);D=E(Se,A),Se.forEach(r),U.forEach(r),O.forEach(r),M=k(V),F=n(V,"DIV",{class:!0});var H=i(F);$=n(H,"DIV",{class:!0});var Z=i($);P=n(Z,"A",{href:!0});var W=i(P);C=E(W,G),W.forEach(r),ee=k(Z),z=n(Z,"A",{href:!0});var pe=i(z);X=E(pe,te),pe.forEach(r),Z.forEach(r),K=k(H),ie=n(H,"DIV",{class:!0});var we=i(ie);ce=n(we,"SPAN",{});var De=i(ce);J=E(De,se),De.forEach(r),re=k(we),q=n(we,"SPAN",{});var Ne=i(q);B=E(Ne,Y),Ne.forEach(r),we.forEach(r),H.forEach(r),V.forEach(r),this.h()},h(){c(u,"href",I=`/club/${s[17].homeTeamId}`),c(d,"class","w-10 items-center justify-center"),c(g,"class","font-bold text-lg"),c(w,"href",y=`/club/${s[17].awayTeamId}`),c(S,"class","w-10 items-center justify-center"),c(l,"class","flex w-1/2 space-x-4 justify-center"),c(N,"class","text-sm md:text-lg ml-4 md:ml-0 text-left"),c(h,"class","flex w-1/2 md:justify-center"),c(t,"class","flex items-center w-1/2 ml-4"),c(P,"href",ae=`/club/${s[17].homeTeamId}`),c(z,"href",le=`/club/${s[17].awayTeamId}`),c($,"class","flex flex-col min-w-[120px] md:min-w-[300px] text-xs md:text-lg"),c(ie,"class","flex flex-col min-w-[120px] md:min-w-[300px] text-xs md:text-lg"),c(F,"class","flex items-center space-x-10 w-1/2 md:justify-center"),c(a,"class",ue=`flex items-center justify-between py-2 border-b border-gray-700  ${s[17].status===0?"text-gray-400":"text-white"}`)},m(R,V){be(R,a,V),e(a,t),e(t,l),e(l,d),e(d,u),je(f,u,null),e(l,_),e(l,g),e(g,p),e(l,L),e(l,S),e(S,w),je(m,w,null),e(t,v),e(t,h),e(h,N),e(N,D),e(a,M),e(a,F),e(F,$),e($,P),e(P,C),e($,ee),e($,z),e(z,X),e(F,K),e(F,ie),e(ie,ce),e(ce,J),e(ie,re),e(ie,q),e(q,B),oe=!0},p(R,V){const O={};V&4&&(O.primaryColour=R[18]?R[18].primaryColourHex:""),V&4&&(O.secondaryColour=R[18]?R[18].secondaryColourHex:""),V&4&&(O.thirdColour=R[18]?R[18].thirdColourHex:""),f.$set(O),(!oe||V&4&&I!==(I=`/club/${R[17].homeTeamId}`))&&c(u,"href",I);const x={};V&4&&(x.primaryColour=R[19]?R[19].primaryColourHex:""),V&4&&(x.secondaryColour=R[19]?R[19].secondaryColourHex:""),V&4&&(x.thirdColour=R[19]?R[19].thirdColourHex:""),m.$set(x),(!oe||V&4&&y!==(y=`/club/${R[17].awayTeamId}`))&&c(w,"href",y),(!oe||V&4)&&A!==(A=Gt(Number(R[17].kickOff))+"")&&fe(D,A),(!oe||V&4)&&G!==(G=(R[18]?R[18].friendlyName:"")+"")&&fe(C,G),(!oe||V&4&&ae!==(ae=`/club/${R[17].homeTeamId}`))&&c(P,"href",ae),(!oe||V&4)&&te!==(te=(R[19]?R[19].friendlyName:"")+"")&&fe(X,te),(!oe||V&4&&le!==(le=`/club/${R[17].awayTeamId}`))&&c(z,"href",le),(!oe||V&4)&&se!==(se=(R[17].status===0?"-":R[17].homeGoals)+"")&&fe(J,se),(!oe||V&4)&&Y!==(Y=(R[17].status===0?"-":R[17].awayGoals)+"")&&fe(B,Y),(!oe||V&4&&ue!==(ue=`flex items-center justify-between py-2 border-b border-gray-700  ${R[17].status===0?"text-gray-400":"text-white"}`))&&c(a,"class",ue)},i(R){oe||(he(f.$$.fragment,R),he(m.$$.fragment,R),oe=!0)},o(R){ge(f.$$.fragment,R),ge(m.$$.fragment,R),oe=!1},d(R){R&&r(a),Ge(f),Ge(m)}}}function Cl(s){let a,t,l,d=s[14]+"",u,f,I,_,g=s[1],p=[];for(let S=0;S<g.length;S+=1)p[S]=Pl(Tl(s,g,S));const L=S=>ge(p[S],1,1,()=>{p[S]=null});return{c(){a=o("div"),t=o("div"),l=o("h2"),u=b(d),f=T();for(let S=0;S<p.length;S+=1)p[S].c();I=T(),this.h()},l(S){a=n(S,"DIV",{});var w=i(a);t=n(w,"DIV",{class:!0});var m=i(t);l=n(m,"H2",{class:!0});var y=i(l);u=E(y,d),y.forEach(r),m.forEach(r),f=k(w);for(let v=0;v<p.length;v+=1)p[v].l(w);I=k(w),w.forEach(r),this.h()},h(){c(l,"class","date-header ml-4 text-xs md:text-lg"),c(t,"class","flex items-center justify-between border border-gray-700 py-4 bg-light-gray")},m(S,w){be(S,a,w),e(a,t),e(t,l),e(l,u),e(a,f);for(let m=0;m<p.length;m+=1)p[m]&&p[m].m(a,null);e(a,I),_=!0},p(S,w){if((!_||w&4)&&d!==(d=S[14]+"")&&fe(u,d),w&4){g=S[1];let m;for(m=0;m<g.length;m+=1){const y=Tl(S,g,m);p[m]?(p[m].p(y,w),he(p[m],1)):(p[m]=Pl(y),p[m].c(),he(p[m],1),p[m].m(a,I))}for(ja(),m=g.length;m<p.length;m+=1)L(m);Ga()}},i(S){if(!_){for(let w=0;w<g.length;w+=1)he(p[w]);_=!0}},o(S){p=p.filter(Boolean);for(let w=0;w<p.length;w+=1)ge(p[w]);_=!1},d(S){S&&r(a),ca(p,S)}}}function as(s){let a,t,l,d,u,f,I,_,g,p,L,S,w,m,y,v,h,N,A=s[3],D=[];for(let P=0;P<A.length;P+=1)D[P]=xl(kl(s,A,P));let M=Object.entries(s[2]),F=[];for(let P=0;P<M.length;P+=1)F[P]=Cl(Nl(s,M,P));const $=P=>ge(F[P],1,1,()=>{F[P]=null});return{c(){a=o("div"),t=o("div"),l=o("div"),d=o("div"),u=o("button"),f=b("<"),_=T(),g=o("select");for(let P=0;P<D.length;P+=1)D[P].c();p=T(),L=o("button"),S=b(">"),m=T(),y=o("div");for(let P=0;P<F.length;P+=1)F[P].c();this.h()},l(P){a=n(P,"DIV",{class:!0});var G=i(a);t=n(G,"DIV",{class:!0});var C=i(t);l=n(C,"DIV",{class:!0});var ae=i(l);d=n(ae,"DIV",{class:!0});var ee=i(d);u=n(ee,"BUTTON",{class:!0});var z=i(u);f=E(z,"<"),z.forEach(r),_=k(ee),g=n(ee,"SELECT",{class:!0});var te=i(g);for(let K=0;K<D.length;K+=1)D[K].l(te);te.forEach(r),p=k(ee),L=n(ee,"BUTTON",{class:!0});var X=i(L);S=E(X,">"),X.forEach(r),ee.forEach(r),ae.forEach(r),m=k(C),y=n(C,"DIV",{});var le=i(y);for(let K=0;K<F.length;K+=1)F[K].l(le);le.forEach(r),C.forEach(r),G.forEach(r),this.h()},h(){c(u,"class","text-2xl rounded fpl-button px-3 py-1"),u.disabled=I=s[0]===1,c(g,"class","p-2 fpl-dropdown text-sm md:text-xl text-center"),s[0]===void 0&&Fa(()=>s[7].call(g)),c(L,"class","text-2xl rounded fpl-button px-3 py-1 ml-1"),L.disabled=w=s[0]===38,c(d,"class","flex items-center space-x-2 ml-4"),c(l,"class","flex flex-col sm:flex-row gap-4 sm:gap-8"),c(t,"class","flex flex-col space-y-4"),c(a,"class","container-fluid mt-4")},m(P,G){be(P,a,G),e(a,t),e(t,l),e(l,d),e(d,u),e(u,f),e(d,_),e(d,g);for(let C=0;C<D.length;C+=1)D[C]&&D[C].m(g,null);Ve(g,s[0],!0),e(d,p),e(d,L),e(L,S),e(t,m),e(t,y);for(let C=0;C<F.length;C+=1)F[C]&&F[C].m(y,null);v=!0,h||(N=[ye(u,"click",s[6]),ye(g,"change",s[7]),ye(L,"click",s[8])],h=!0)},p(P,[G]){if((!v||G&9&&I!==(I=P[0]===1))&&(u.disabled=I),G&8){A=P[3];let C;for(C=0;C<A.length;C+=1){const ae=kl(P,A,C);D[C]?D[C].p(ae,G):(D[C]=xl(ae),D[C].c(),D[C].m(g,null))}for(;C<D.length;C+=1)D[C].d(1);D.length=A.length}if(G&9&&Ve(g,P[0]),(!v||G&9&&w!==(w=P[0]===38))&&(L.disabled=w),G&4){M=Object.entries(P[2]);let C;for(C=0;C<M.length;C+=1){const ae=Nl(P,M,C);F[C]?(F[C].p(ae,G),he(F[C],1)):(F[C]=Cl(ae),F[C].c(),he(F[C],1),F[C].m(y,null))}for(ja(),C=M.length;C<F.length;C+=1)$(C);Ga()}},i(P){if(!v){for(let G=0;G<M.length;G+=1)he(F[G]);v=!0}},o(P){F=F.filter(Boolean);for(let G=0;G<F.length;G+=1)ge(F[G]);v=!1},d(P){P&&r(a),ca(D,P),ca(F,P),h=!1,Ia(N)}}}function ts(s,a,t){let l,d;const u=new Ht,f=new dt,I=new ia;let _=1,g=[],p=[],L=Array.from({length:38},(h,N)=>N+1);ct(async()=>{try{await I.updateSystemStateData(),await u.updateFixturesData(),await f.updateTeamsData();const h=await u.getFixtures();p=await f.getTeams(),t(1,g=h.map(D=>({fixture:D,homeTeam:w(D.homeTeamId),awayTeam:w(D.awayTeamId)})));let A=await I.getSystemState();t(0,_=A?.activeGameweek??_)}catch(h){console.error("Error fetching data:",h)}});const S=h=>{t(0,_=Math.max(1,Math.min(38,_+h)))};function w(h){return p.find(N=>N.id===h)}const m=()=>S(-1);function y(){_=Ra(this),t(0,_),t(3,L)}const v=()=>S(1);return s.$$.update=()=>{s.$$.dirty&3&&t(5,l=g.filter(({fixture:h})=>h.gameweek===_)),s.$$.dirty&32&&t(2,d=l.reduce((h,N)=>{const A=new Date(Number(N.fixture.kickOff)/1e6),M=new Intl.DateTimeFormat("en-GB",{weekday:"long",day:"numeric",month:"long",year:"numeric"}).format(A);return h[M]||(h[M]=[]),h[M].push(N),h},{}))},[_,g,d,L,S,l,m,y,v]}class ls extends $a{constructor(a){super(),Ma(this,a,ts,as,Wa,{})}}function ss(s){let a,t,l;return{c(){a=o("div"),t=o("h1"),l=b("Points"),this.h()},l(d){a=n(d,"DIV",{class:!0});var u=i(a);t=n(u,"H1",{});var f=i(t);l=E(f,"Points"),f.forEach(r),u.forEach(r),this.h()},h(){c(a,"class","container mx-auto mt-4")},m(d,u){be(d,a,u),e(a,t),e(t,l)},p:Ke,i:Ke,o:Ke,d(d){d&&r(a)}}}class rs extends $a{constructor(a){super(),Ma(this,a,null,ss,Wa,{})}}function Ol(s,a,t){const l=s.slice();return l[36]=a[t],l}function Al(s,a,t){const l=s.slice();return l[39]=a[t],l}function Ll(s,a,t){const l=s.slice();return l[42]=a[t],l}function os(s){let a,t,l,d,u,f,I,_,g,p,L,S,w,m,y,v,h,N,A,D,M,F,$,P,G,C,ae,ee,z,te,X,le,K,ie,ce,se=s[0]==1&&Vl(s),J=s[0]==2&&Fl(s);function re(B,ue){return B[5]&&B[5].entries.length>0?cs:is}let q=re(s),Y=q(s);return{c(){a=o("div"),t=o("div"),l=o("div"),d=o("div"),u=o("div"),f=o("button"),I=b("<"),_=T(),g=o("select"),p=o("option"),L=b("Weekly"),S=o("option"),w=b("Monthly"),m=o("option"),y=b("Season"),v=T(),h=o("button"),N=b(">"),A=T(),se&&se.c(),D=T(),J&&J.c(),M=T(),F=o("div"),$=o("div"),P=o("div"),G=o("div"),C=b("Pos"),ae=T(),ee=o("div"),z=b("Manager"),te=T(),X=o("div"),le=b("Points"),K=T(),Y.c(),this.h()},l(B){a=n(B,"DIV",{class:!0});var ue=i(a);t=n(ue,"DIV",{class:!0});var oe=i(t);l=n(oe,"DIV",{class:!0});var R=i(l);d=n(R,"DIV",{class:!0});var V=i(d);u=n(V,"DIV",{class:!0});var O=i(u);f=n(O,"BUTTON",{class:!0});var x=i(f);I=E(x,"<"),x.forEach(r),_=k(O),g=n(O,"SELECT",{class:!0});var Q=i(g);p=n(Q,"OPTION",{});var Ee=i(p);L=E(Ee,"Weekly"),Ee.forEach(r),S=n(Q,"OPTION",{});var ve=i(S);w=E(ve,"Monthly"),ve.forEach(r),m=n(Q,"OPTION",{});var ne=i(m);y=E(ne,"Season"),ne.forEach(r),Q.forEach(r),v=k(O),h=n(O,"BUTTON",{class:!0});var Ie=i(h);N=E(Ie,">"),Ie.forEach(r),O.forEach(r),A=k(V),se&&se.l(V),D=k(V),J&&J.l(V),V.forEach(r),R.forEach(r),M=k(oe),F=n(oe,"DIV",{class:!0});var U=i(F);$=n(U,"DIV",{class:!0});var Se=i($);P=n(Se,"DIV",{class:!0});var H=i(P);G=n(H,"DIV",{class:!0});var Z=i(G);C=E(Z,"Pos"),Z.forEach(r),ae=k(H),ee=n(H,"DIV",{class:!0});var W=i(ee);z=E(W,"Manager"),W.forEach(r),te=k(H),X=n(H,"DIV",{class:!0});var pe=i(X);le=E(pe,"Points"),pe.forEach(r),H.forEach(r),K=k(Se),Y.l(Se),Se.forEach(r),U.forEach(r),oe.forEach(r),ue.forEach(r),this.h()},h(){c(f,"class","text-2xl rounded fpl-button px-3 py-1"),p.__value=1,p.value=p.__value,S.__value=2,S.value=S.__value,m.__value=3,m.value=m.__value,c(g,"class","p-2 fpl-dropdown text-sm md:text-xl text-center mx-2"),s[0]===void 0&&Fa(()=>s[16].call(g)),c(h,"class","text-2xl rounded fpl-button px-3 py-1 ml-1"),c(u,"class","flex items-center mr-8"),c(d,"class","flex items-center ml-4"),c(l,"class","flex flex-col sm:flex-row gap-4 sm:gap-8"),c(G,"class","w-1/6 text-center mx-4"),c(ee,"class","w-1/3 px-4"),c(X,"class","w-1/2 text-center"),c(P,"class","flex justify-between p-2 border border-gray-700 py-4 bg-light-gray"),c($,"class","overflow-x-auto flex-1"),c(F,"class","flex flex-col space-y-4 mt-4 text-lg"),c(t,"class","flex flex-col space-y-4"),c(a,"class","container-fluid mt-4")},m(B,ue){be(B,a,ue),e(a,t),e(t,l),e(l,d),e(d,u),e(u,f),e(f,I),e(u,_),e(u,g),e(g,p),e(p,L),e(g,S),e(S,w),e(g,m),e(m,y),Ve(g,s[0],!0),e(u,v),e(u,h),e(h,N),e(d,A),se&&se.m(d,null),e(d,D),J&&J.m(d,null),e(t,M),e(t,F),e(F,$),e($,P),e(P,G),e(G,C),e(P,ae),e(P,ee),e(ee,z),e(P,te),e(P,X),e(X,le),e($,K),Y.m($,null),ie||(ce=[ye(f,"click",s[15]),ye(g,"change",s[16]),ye(h,"click",s[17])],ie=!0)},p(B,ue){ue[0]&1&&Ve(g,B[0]),B[0]==1?se?se.p(B,ue):(se=Vl(B),se.c(),se.m(d,D)):se&&(se.d(1),se=null),B[0]==2?J?J.p(B,ue):(J=Fl(B),J.c(),J.m(d,null)):J&&(J.d(1),J=null),q===(q=re(B))&&Y?Y.p(B,ue):(Y.d(1),Y=q(B),Y&&(Y.c(),Y.m($,null)))},i:Ke,o:Ke,d(B){B&&r(a),se&&se.d(),J&&J.d(),Y.d(),ie=!1,Ia(ce)}}}function ns(s){let a,t;return a=new ql({props:{progress:fs}}),{c(){Re(a.$$.fragment)},l(l){Fe(a.$$.fragment,l)},m(l,d){je(a,l,d),t=!0},p:Ke,i(l){t||(he(a.$$.fragment,l),t=!0)},o(l){ge(a.$$.fragment,l),t=!1},d(l){Ge(a,l)}}}function Vl(s){let a,t,l,d,u,f,I,_,g,p,L,S,w=s[9],m=[];for(let y=0;y<w.length;y+=1)m[y]=Rl(Ll(s,w,y));return{c(){a=o("div"),t=o("button"),l=b("<"),u=T(),f=o("select");for(let y=0;y<m.length;y+=1)m[y].c();I=T(),_=o("button"),g=b(">"),this.h()},l(y){a=n(y,"DIV",{class:!0});var v=i(a);t=n(v,"BUTTON",{class:!0});var h=i(t);l=E(h,"<"),h.forEach(r),u=k(v),f=n(v,"SELECT",{class:!0});var N=i(f);for(let D=0;D<m.length;D+=1)m[D].l(N);N.forEach(r),I=k(v),_=n(v,"BUTTON",{class:!0});var A=i(_);g=E(A,">"),A.forEach(r),v.forEach(r),this.h()},h(){c(t,"class","text-2xl rounded fpl-button px-3 py-1"),t.disabled=d=s[1]===1,c(f,"class","p-2 fpl-dropdown text-sm md:text-xl text-center"),s[1]===void 0&&Fa(()=>s[19].call(f)),c(_,"class","text-2xl rounded fpl-button px-3 py-1 ml-1"),_.disabled=p=s[1]===38,c(a,"class","flex items-center mr-8")},m(y,v){be(y,a,v),e(a,t),e(t,l),e(a,u),e(a,f);for(let h=0;h<m.length;h+=1)m[h]&&m[h].m(f,null);Ve(f,s[1],!0),e(a,I),e(a,_),e(_,g),L||(S=[ye(t,"click",s[18]),ye(f,"change",s[19]),ye(_,"click",s[20])],L=!0)},p(y,v){if(v[0]&514&&d!==(d=y[1]===1)&&(t.disabled=d),v[0]&512){w=y[9];let h;for(h=0;h<w.length;h+=1){const N=Ll(y,w,h);m[h]?m[h].p(N,v):(m[h]=Rl(N),m[h].c(),m[h].m(f,null))}for(;h<m.length;h+=1)m[h].d(1);m.length=w.length}v[0]&514&&Ve(f,y[1]),v[0]&514&&p!==(p=y[1]===38)&&(_.disabled=p)},d(y){y&&r(a),ca(m,y),L=!1,Ia(S)}}}function Rl(s){let a,t,l=s[42]+"",d;return{c(){a=o("option"),t=b("Gameweek "),d=b(l),this.h()},l(u){a=n(u,"OPTION",{});var f=i(a);t=E(f,"Gameweek "),d=E(f,l),f.forEach(r),this.h()},h(){a.__value=s[42],a.value=a.__value},m(u,f){be(u,a,f),e(a,t),e(a,d)},p:Ke,d(u){u&&r(a)}}}function Fl(s){let a,t,l,d,u,f,I,_,g,p,L,S,w,m,y,v,h,N,A,D,M,F,$,P,G,C,ae,ee,z,te,X,le,K,ie,ce,se,J,re,q,Y,B,ue,oe,R=s[4],V=[];for(let O=0;O<R.length;O+=1)V[O]=jl(Al(s,R,O));return{c(){a=o("div"),t=o("button"),l=b("<"),d=T(),u=o("select");for(let O=0;O<V.length;O+=1)V[O].c();f=T(),I=o("button"),_=b(">"),g=T(),p=o("div"),L=o("button"),S=b("<"),w=T(),m=o("select"),y=o("option"),v=b("January"),h=o("option"),N=b("February"),A=o("option"),D=b("March"),M=o("option"),F=b("April"),$=o("option"),P=b("May"),G=o("option"),C=b("June"),ae=o("option"),ee=b("July"),z=o("option"),te=b("August"),X=o("option"),le=b("September"),K=o("option"),ie=b("October"),ce=o("option"),se=b("November"),J=o("option"),re=b("December"),q=T(),Y=o("button"),B=b(">"),this.h()},l(O){a=n(O,"DIV",{class:!0});var x=i(a);t=n(x,"BUTTON",{class:!0});var Q=i(t);l=E(Q,"<"),Q.forEach(r),d=k(x),u=n(x,"SELECT",{class:!0});var Ee=i(u);for(let Ae=0;Ae<V.length;Ae+=1)V[Ae].l(Ee);Ee.forEach(r),f=k(x),I=n(x,"BUTTON",{class:!0});var ve=i(I);_=E(ve,">"),ve.forEach(r),x.forEach(r),g=k(O),p=n(O,"DIV",{class:!0});var ne=i(p);L=n(ne,"BUTTON",{class:!0});var Ie=i(L);S=E(Ie,"<"),Ie.forEach(r),w=k(ne),m=n(ne,"SELECT",{class:!0});var U=i(m);y=n(U,"OPTION",{});var Se=i(y);v=E(Se,"January"),Se.forEach(r),h=n(U,"OPTION",{});var H=i(h);N=E(H,"February"),H.forEach(r),A=n(U,"OPTION",{});var Z=i(A);D=E(Z,"March"),Z.forEach(r),M=n(U,"OPTION",{});var W=i(M);F=E(W,"April"),W.forEach(r),$=n(U,"OPTION",{});var pe=i($);P=E(pe,"May"),pe.forEach(r),G=n(U,"OPTION",{});var we=i(G);C=E(we,"June"),we.forEach(r),ae=n(U,"OPTION",{});var De=i(ae);ee=E(De,"July"),De.forEach(r),z=n(U,"OPTION",{});var Ne=i(z);te=E(Ne,"August"),Ne.forEach(r),X=n(U,"OPTION",{});var xe=i(X);le=E(xe,"September"),xe.forEach(r),K=n(U,"OPTION",{});var Ce=i(K);ie=E(Ce,"October"),Ce.forEach(r),ce=n(U,"OPTION",{});var _e=i(ce);se=E(_e,"November"),_e.forEach(r),J=n(U,"OPTION",{});var We=i(J);re=E(We,"December"),We.forEach(r),U.forEach(r),q=k(ne),Y=n(ne,"BUTTON",{class:!0});var Je=i(Y);B=E(Je,">"),Je.forEach(r),ne.forEach(r),this.h()},h(){c(t,"class","text-2xl rounded fpl-button px-3 py-1"),c(u,"class","p-2 fpl-dropdown text-sm md:text-xl text-center"),s[3]===void 0&&Fa(()=>s[22].call(u)),c(I,"class","text-2xl rounded fpl-button px-3 py-1 ml-1"),c(a,"class","flex items-center mr-8"),c(L,"class","text-2xl rounded fpl-button px-3 py-1"),y.__value=1,y.value=y.__value,h.__value=2,h.value=h.__value,A.__value=3,A.value=A.__value,M.__value=4,M.value=M.__value,$.__value=5,$.value=$.__value,G.__value=6,G.value=G.__value,ae.__value=7,ae.value=ae.__value,z.__value=8,z.value=z.__value,X.__value=9,X.value=X.__value,K.__value=10,K.value=K.__value,ce.__value=11,ce.value=ce.__value,J.__value=12,J.value=J.__value,c(m,"class","p-2 fpl-dropdown text-sm md:text-xl text-center"),s[2]===void 0&&Fa(()=>s[25].call(m)),c(Y,"class","text-2xl rounded fpl-button px-3 py-1 ml-1"),c(p,"class","flex items-center")},m(O,x){be(O,a,x),e(a,t),e(t,l),e(a,d),e(a,u);for(let Q=0;Q<V.length;Q+=1)V[Q]&&V[Q].m(u,null);Ve(u,s[3],!0),e(a,f),e(a,I),e(I,_),be(O,g,x),be(O,p,x),e(p,L),e(L,S),e(p,w),e(p,m),e(m,y),e(y,v),e(m,h),e(h,N),e(m,A),e(A,D),e(m,M),e(M,F),e(m,$),e($,P),e(m,G),e(G,C),e(m,ae),e(ae,ee),e(m,z),e(z,te),e(m,X),e(X,le),e(m,K),e(K,ie),e(m,ce),e(ce,se),e(m,J),e(J,re),Ve(m,s[2],!0),e(p,q),e(p,Y),e(Y,B),ue||(oe=[ye(t,"click",s[21]),ye(u,"change",s[22]),ye(I,"click",s[23]),ye(L,"click",s[24]),ye(m,"change",s[25]),ye(Y,"click",s[26])],ue=!0)},p(O,x){if(x[0]&16){R=O[4];let Q;for(Q=0;Q<R.length;Q+=1){const Ee=Al(O,R,Q);V[Q]?V[Q].p(Ee,x):(V[Q]=jl(Ee),V[Q].c(),V[Q].m(u,null))}for(;Q<V.length;Q+=1)V[Q].d(1);V.length=R.length}x[0]&24&&Ve(u,O[3]),x[0]&4&&Ve(m,O[2])},d(O){O&&r(a),ca(V,O),O&&r(g),O&&r(p),ue=!1,Ia(oe)}}}function jl(s){let a,t=s[39].friendlyName+"",l,d;return{c(){a=o("option"),l=b(t),this.h()},l(u){a=n(u,"OPTION",{});var f=i(a);l=E(f,t),f.forEach(r),this.h()},h(){a.__value=d=s[39].id,a.value=a.__value},m(u,f){be(u,a,f),e(a,l)},p(u,f){f[0]&16&&t!==(t=u[39].friendlyName+"")&&fe(l,t),f[0]&16&&d!==(d=u[39].id)&&(a.__value=d,a.value=a.__value)},d(u){u&&r(a)}}}function is(s){let a,t;return{c(){a=o("p"),t=b("No leaderboard data."),this.h()},l(l){a=n(l,"P",{class:!0});var d=i(a);t=E(d,"No leaderboard data."),d.forEach(r),this.h()},h(){c(a,"class","w-100 p-4")},m(l,d){be(l,a,d),e(a,t)},p:Ke,d(l){l&&r(a)}}}function cs(s){let a,t,l,d,u,f,I,_,g,p,L,S,w,m,y,v=s[5].entries,h=[];for(let N=0;N<v.length;N+=1)h[N]=Gl(Ol(s,v,N));return{c(){for(let N=0;N<h.length;N+=1)h[N].c();a=T(),t=o("div"),l=o("button"),d=b("Previous"),f=T(),I=o("span"),_=b("Page "),g=b(s[6]),p=T(),L=o("button"),S=b("Next"),this.h()},l(N){for(let $=0;$<h.length;$+=1)h[$].l(N);a=k(N),t=n(N,"DIV",{class:!0});var A=i(t);l=n(A,"BUTTON",{class:!0});var D=i(l);d=E(D,"Previous"),D.forEach(r),f=k(A),I=n(A,"SPAN",{class:!0});var M=i(I);_=E(M,"Page "),g=E(M,s[6]),M.forEach(r),p=k(A),L=n(A,"BUTTON",{class:!0});var F=i(L);S=E(F,"Next"),F.forEach(r),A.forEach(r),this.h()},h(){l.disabled=u=s[6]===1,c(l,"class","px-4 py-2 mx-2 bg-blue-500 text-white rounded hover:bg-blue-600 disabled:bg-gray-400 disabled:cursor-not-allowed"),c(I,"class","px-4"),L.disabled=w=s[6]>=s[8],c(L,"class","px-4 py-2 mx-2 bg-blue-500 text-white rounded hover:bg-blue-600 disabled:bg-gray-400 disabled:cursor-not-allowed"),c(t,"class","flex justify-center items-center mt-4 mb-4")},m(N,A){for(let D=0;D<h.length;D+=1)h[D]&&h[D].m(N,A);be(N,a,A),be(N,t,A),e(t,l),e(l,d),e(t,f),e(t,I),e(I,_),e(I,g),e(t,p),e(t,L),e(L,S),m||(y=[ye(l,"click",s[27]),ye(L,"click",s[28])],m=!0)},p(N,A){if(A[0]&32){v=N[5].entries;let D;for(D=0;D<v.length;D+=1){const M=Ol(N,v,D);h[D]?h[D].p(M,A):(h[D]=Gl(M),h[D].c(),h[D].m(a.parentNode,a))}for(;D<h.length;D+=1)h[D].d(1);h.length=v.length}A[0]&64&&u!==(u=N[6]===1)&&(l.disabled=u),A[0]&64&&fe(g,N[6]),A[0]&320&&w!==(w=N[6]>=N[8])&&(L.disabled=w)},d(N){ca(h,N),N&&r(a),N&&r(t),m=!1,Ia(y)}}}function Gl(s){let a,t,l=s[36].positionText+"",d,u,f,I,_=s[36].username+"",g,p,L,S,w=s[36].points+"",m;return{c(){a=o("div"),t=o("div"),d=b(l),u=T(),f=o("div"),I=o("a"),g=b(_),L=T(),S=o("div"),m=b(w),this.h()},l(y){a=n(y,"DIV",{class:!0});var v=i(a);t=n(v,"DIV",{class:!0});var h=i(t);d=E(h,l),h.forEach(r),u=k(v),f=n(v,"DIV",{class:!0});var N=i(f);I=n(N,"A",{href:!0});var A=i(I);g=E(A,_),A.forEach(r),N.forEach(r),L=k(v),S=n(v,"DIV",{class:!0});var D=i(S);m=E(D,w),D.forEach(r),v.forEach(r),this.h()},h(){c(t,"class","w-1/12 text-center"),c(I,"href",p=`/manager/${s[36].principalId}`),c(f,"class","w-1/12 text-center"),c(S,"class","w-1/12 text-center"),c(a,"class","flex items-center justify-between py-4 border-b border-gray-700 cursor-pointer")},m(y,v){be(y,a,v),e(a,t),e(t,d),e(a,u),e(a,f),e(f,I),e(I,g),e(a,L),e(a,S),e(S,m)},p(y,v){v[0]&32&&l!==(l=y[36].positionText+"")&&fe(d,l),v[0]&32&&_!==(_=y[36].username+"")&&fe(g,_),v[0]&32&&p!==(p=`/manager/${y[36].principalId}`)&&c(I,"href",p),v[0]&32&&w!==(w=y[36].points+"")&&fe(m,w)},d(y){y&&r(a)}}}function ds(s){let a,t,l,d;const u=[ns,os],f=[];function I(_,g){return _[7]?0:1}return a=I(s),t=f[a]=u[a](s),{c(){t.c(),l=it()},l(_){t.l(_),l=it()},m(_,g){f[a].m(_,g),be(_,l,g),d=!0},p(_,g){let p=a;a=I(_),a===p?f[a].p(_,g):(ja(),ge(f[p],1,1,()=>{f[p]=null}),Ga(),t=f[a],t?t.p(_,g):(t=f[a]=u[a](_),t.c()),he(t,1),t.m(l.parentNode,l))},i(_){d||(he(t),d=!0)},o(_){ge(t),d=!1},d(_){f[a].d(_),_&&r(l)}}}let us=25,fs=0;function _s(s,a,t){const l=new dt,d=new ia,u=new Ul;let f=1,I=1,_=1,g,p=[],L=Array.from({length:38},(q,Y)=>Y+1),S=1,w,m=!0,y,v,h=0,N=0;ct(async()=>{try{await d.updateSystemStateData(),await u.updateWeeklyLeaderboardData(),await u.updateMonthlyLeaderboardData(),await u.updateSeasonLeaderboardData(),await l.updateTeamsData();const q=await l.getTeams();t(4,p=q.sort((ue,oe)=>ue.friendlyName.localeCompare(oe.friendlyName))),t(3,g=q[0].id);let Y=await d.getSystemState();y=Y?.activeGameweek??1,v=Y?.focusGameweek??1,t(1,I=Y?.focusGameweek??I),t(2,_=Y?.activeMonth??_);let B=await u.getWeeklyLeaderboard();t(5,w=B),t(7,m=!1)}catch(q){console.error("Error fetching data:",q)}});async function A(){try{t(7,m=!0),f===1?I===v&&S<=4?t(5,w=await u.getWeeklyLeaderboard()):I<v||I===v&&S>4?t(5,w=await u.getWeeklyLeaderboardPage(I,S)):I>y&&t(5,w=null):f===2?t(5,w=await u.getMonthlyLeaderboard(g)):f===3&&t(5,w=await u.getSeasonLeaderboard())}catch(q){console.error("Error fetching leaderboard data:",q)}finally{t(7,m=!1)}}const D=q=>{t(1,I=Math.max(1,Math.min(38,I+q)))};function M(q){t(2,_+=q),_>12?t(2,_=1):_<1&&t(2,_=12),A()}function F(q){t(6,S=Math.max(1,Math.min(h,S+q))),A()}function $(q){t(0,f+=q),f>3?t(0,f=1):f<1&&t(0,f=3),A()}function P(q){N=(N+q+p.length)%p.length,t(3,g=p[N].id),A()}const G=()=>$(-1);function C(){f=Ra(this),t(0,f)}const ae=()=>$(1),ee=()=>D(-1);function z(){I=Ra(this),t(1,I),t(9,L)}const te=()=>D(1),X=()=>P(-1);function le(){g=Ra(this),t(3,g),t(4,p)}const K=()=>P(1),ie=()=>M(-1);function ce(){_=Ra(this),t(2,_)}const se=()=>M(1),J=()=>F(-1),re=()=>F(1);return s.$$.update=()=>{s.$$.dirty[0]&24&&(N=p.findIndex(q=>q.id===g)),s.$$.dirty[0]&32&&w&&w.totalEntries&&t(8,h=Math.ceil(Number(w.totalEntries)/us)),s.$$.dirty[0]&15&&A()},[f,I,_,g,p,w,S,m,h,L,D,M,F,$,P,G,C,ae,ee,z,te,X,le,K,ie,ce,se,J,re]}class ms extends $a{constructor(a){super(),Ma(this,a,_s,ds,Wa,{},null,[-1,-1])}}function Hl(s,a,t){const l=s.slice();return l[13]=a[t],l[15]=t,l}function $l(s,a,t){const l=s.slice();return l[16]=a[t],l}function Ml(s){let a,t,l=s[16]+"",d;return{c(){a=o("option"),t=b("Gameweek "),d=b(l),this.h()},l(u){a=n(u,"OPTION",{});var f=i(a);t=E(f,"Gameweek "),d=E(f,l),f.forEach(r),this.h()},h(){a.__value=s[16],a.value=a.__value},m(u,f){be(u,a,f),e(a,t),e(a,d)},p:Ke,d(u){u&&r(a)}}}function Wl(s){let a,t,l=s[15]+1+"",d,u,f,I,_,g=s[13].friendlyName+"",p,L,S,w,m=s[13].played+"",y,v,h,N=s[13].wins+"",A,D,M,F=s[13].draws+"",$,P,G,C=s[13].losses+"",ae,ee,z,te=s[13].goalsFor+"",X,le,K,ie=s[13].goalsAgainst+"",ce,se,J,re=s[13].goalsFor-s[13].goalsAgainst+"",q,Y,B,ue=s[13].points+"",oe,R,V;return I=new Ha({props:{primaryColour:s[13].primaryColourHex,secondaryColour:s[13].secondaryColourHex,thirdColour:s[13].thirdColourHex,className:"w-6 h-6 mr-2"}}),{c(){a=o("div"),t=o("div"),d=b(l),u=T(),f=o("a"),Re(I.$$.fragment),_=T(),p=b(g),S=T(),w=o("div"),y=b(m),v=T(),h=o("div"),A=b(N),D=T(),M=o("div"),$=b(F),P=T(),G=o("div"),ae=b(C),ee=T(),z=o("div"),X=b(te),le=T(),K=o("div"),ce=b(ie),se=T(),J=o("div"),q=b(re),Y=T(),B=o("div"),oe=b(ue),R=T(),this.h()},l(O){a=n(O,"DIV",{class:!0});var x=i(a);t=n(x,"DIV",{class:!0});var Q=i(t);d=E(Q,l),Q.forEach(r),u=k(x),f=n(x,"A",{class:!0,href:!0});var Ee=i(f);Fe(I.$$.fragment,Ee),_=k(Ee),p=E(Ee,g),Ee.forEach(r),S=k(x),w=n(x,"DIV",{class:!0});var ve=i(w);y=E(ve,m),ve.forEach(r),v=k(x),h=n(x,"DIV",{class:!0});var ne=i(h);A=E(ne,N),ne.forEach(r),D=k(x),M=n(x,"DIV",{class:!0});var Ie=i(M);$=E(Ie,F),Ie.forEach(r),P=k(x),G=n(x,"DIV",{class:!0});var U=i(G);ae=E(U,C),U.forEach(r),ee=k(x),z=n(x,"DIV",{class:!0});var Se=i(z);X=E(Se,te),Se.forEach(r),le=k(x),K=n(x,"DIV",{class:!0});var H=i(K);ce=E(H,ie),H.forEach(r),se=k(x),J=n(x,"DIV",{class:!0});var Z=i(J);q=E(Z,re),Z.forEach(r),Y=k(x),B=n(x,"DIV",{class:!0});var W=i(B);oe=E(W,ue),W.forEach(r),R=k(x),x.forEach(r),this.h()},h(){c(t,"class","w-1/12 text-center mx-4"),c(f,"class","flex-grow flex items-center justify-start space-x-2 px-4 min-w-[200px] max-w-[300px]"),c(f,"href",L=`/club?id=${s[13].id}`),c(w,"class","w-1/12 text-center"),c(h,"class","w-1/12 text-center"),c(M,"class","w-1/12 text-center"),c(G,"class","w-1/12 text-center"),c(z,"class","w-1/12 text-center"),c(K,"class","w-1/12 text-center"),c(J,"class","w-1/12 text-center"),c(B,"class","w-1/12 text-center"),c(a,"class","flex items-center justify-between py-4 border-b border-gray-700 cursor-pointer")},m(O,x){be(O,a,x),e(a,t),e(t,d),e(a,u),e(a,f),je(I,f,null),e(f,_),e(f,p),e(a,S),e(a,w),e(w,y),e(a,v),e(a,h),e(h,A),e(a,D),e(a,M),e(M,$),e(a,P),e(a,G),e(G,ae),e(a,ee),e(a,z),e(z,X),e(a,le),e(a,K),e(K,ce),e(a,se),e(a,J),e(J,q),e(a,Y),e(a,B),e(B,oe),e(a,R),V=!0},p(O,x){const Q={};x&2&&(Q.primaryColour=O[13].primaryColourHex),x&2&&(Q.secondaryColour=O[13].secondaryColourHex),x&2&&(Q.thirdColour=O[13].thirdColourHex),I.$set(Q),(!V||x&2)&&g!==(g=O[13].friendlyName+"")&&fe(p,g),(!V||x&2&&L!==(L=`/club?id=${O[13].id}`))&&c(f,"href",L),(!V||x&2)&&m!==(m=O[13].played+"")&&fe(y,m),(!V||x&2)&&N!==(N=O[13].wins+"")&&fe(A,N),(!V||x&2)&&F!==(F=O[13].draws+"")&&fe($,F),(!V||x&2)&&C!==(C=O[13].losses+"")&&fe(ae,C),(!V||x&2)&&te!==(te=O[13].goalsFor+"")&&fe(X,te),(!V||x&2)&&ie!==(ie=O[13].goalsAgainst+"")&&fe(ce,ie),(!V||x&2)&&re!==(re=O[13].goalsFor-O[13].goalsAgainst+"")&&fe(q,re),(!V||x&2)&&ue!==(ue=O[13].points+"")&&fe(oe,ue)},i(O){V||(he(I.$$.fragment,O),V=!0)},o(O){ge(I.$$.fragment,O),V=!1},d(O){O&&r(a),Ge(I)}}}function hs(s){let a,t,l,d,u,f,I,_,g,p,L,S,w,m,y,v,h,N,A,D,M,F,$,P,G,C,ae,ee,z,te,X,le,K,ie,ce,se,J,re,q,Y,B,ue,oe,R,V,O,x,Q,Ee,ve=s[2],ne=[];for(let H=0;H<ve.length;H+=1)ne[H]=Ml($l(s,ve,H));let Ie=s[1],U=[];for(let H=0;H<Ie.length;H+=1)U[H]=Wl(Hl(s,Ie,H));const Se=H=>ge(U[H],1,1,()=>{U[H]=null});return{c(){a=o("div"),t=o("div"),l=o("div"),d=o("button"),u=b("<"),I=T(),_=o("select");for(let H=0;H<ne.length;H+=1)ne[H].c();g=T(),p=o("button"),L=b(">"),w=T(),m=o("div"),y=o("div"),v=o("div"),h=o("div"),N=b("Pos"),A=T(),D=o("div"),M=b("Team"),F=T(),$=o("div"),P=b("P"),G=T(),C=o("div"),ae=b("W"),ee=T(),z=o("div"),te=b("D"),X=T(),le=o("div"),K=b("L"),ie=T(),ce=o("div"),se=b("GF"),J=T(),re=o("div"),q=b("GA"),Y=T(),B=o("div"),ue=b("GD"),oe=T(),R=o("div"),V=b("PTS"),O=T();for(let H=0;H<U.length;H+=1)U[H].c();this.h()},l(H){a=n(H,"DIV",{class:!0});var Z=i(a);t=n(Z,"DIV",{class:!0});var W=i(t);l=n(W,"DIV",{class:!0});var pe=i(l);d=n(pe,"BUTTON",{class:!0});var we=i(d);u=E(we,"<"),we.forEach(r),I=k(pe),_=n(pe,"SELECT",{class:!0});var De=i(_);for(let $e=0;$e<ne.length;$e+=1)ne[$e].l(De);De.forEach(r),g=k(pe),p=n(pe,"BUTTON",{class:!0});var Ne=i(p);L=E(Ne,">"),Ne.forEach(r),pe.forEach(r),W.forEach(r),w=k(Z),m=n(Z,"DIV",{class:!0});var xe=i(m);y=n(xe,"DIV",{class:!0});var Ce=i(y);v=n(Ce,"DIV",{class:!0});var _e=i(v);h=n(_e,"DIV",{class:!0});var We=i(h);N=E(We,"Pos"),We.forEach(r),A=k(_e),D=n(_e,"DIV",{class:!0});var Je=i(D);M=E(Je,"Team"),Je.forEach(r),F=k(_e),$=n(_e,"DIV",{class:!0});var Ae=i($);P=E(Ae,"P"),Ae.forEach(r),G=k(_e),C=n(_e,"DIV",{class:!0});var ya=i(C);ae=E(ya,"W"),ya.forEach(r),ee=k(_e),z=n(_e,"DIV",{class:!0});var Ye=i(z);te=E(Ye,"D"),Ye.forEach(r),X=k(_e),le=n(_e,"DIV",{class:!0});var Xe=i(le);K=E(Xe,"L"),Xe.forEach(r),ie=k(_e),ce=n(_e,"DIV",{class:!0});var He=i(ce);se=E(He,"GF"),He.forEach(r),J=k(_e),re=n(_e,"DIV",{class:!0});var aa=i(re);q=E(aa,"GA"),aa.forEach(r),Y=k(_e),B=n(_e,"DIV",{class:!0});var da=i(B);ue=E(da,"GD"),da.forEach(r),oe=k(_e),R=n(_e,"DIV",{class:!0});var ua=i(R);V=E(ua,"PTS"),ua.forEach(r),_e.forEach(r),O=k(Ce);for(let $e=0;$e<U.length;$e+=1)U[$e].l(Ce);Ce.forEach(r),xe.forEach(r),Z.forEach(r),this.h()},h(){c(d,"class","text-2xl rounded fpl-button px-3 py-1"),d.disabled=f=s[0]===1,c(_,"class","p-2 fpl-dropdown text-sm md:text-xl text-center"),s[0]===void 0&&Fa(()=>s[7].call(_)),c(p,"class","text-2xl rounded fpl-button px-3 py-1 ml-1"),p.disabled=S=s[0]===38,c(l,"class","flex items-center space-x-2 ml-4"),c(t,"class","flex flex-col sm:flex-row gap-4 sm:gap-8"),c(h,"class","w-1/12 text-center mx-4"),c(D,"class","flex-grow px-4"),c($,"class","w-1/12 text-center"),c(C,"class","w-1/12 text-center"),c(z,"class","w-1/12 text-center"),c(le,"class","w-1/12 text-center"),c(ce,"class","w-1/12 text-center"),c(re,"class","w-1/12 text-center"),c(B,"class","w-1/12 text-center"),c(R,"class","w-1/12 text-center"),c(v,"class","flex justify-between p-2 border border-gray-700 py-4 bg-light-gray"),c(y,"class","overflow-x-auto flex-1"),c(m,"class","flex flex-col space-y-4 mt-4 text-lg"),c(a,"class","container-fluid mt-4")},m(H,Z){be(H,a,Z),e(a,t),e(t,l),e(l,d),e(d,u),e(l,I),e(l,_);for(let W=0;W<ne.length;W+=1)ne[W]&&ne[W].m(_,null);Ve(_,s[0],!0),e(l,g),e(l,p),e(p,L),e(a,w),e(a,m),e(m,y),e(y,v),e(v,h),e(h,N),e(v,A),e(v,D),e(D,M),e(v,F),e(v,$),e($,P),e(v,G),e(v,C),e(C,ae),e(v,ee),e(v,z),e(z,te),e(v,X),e(v,le),e(le,K),e(v,ie),e(v,ce),e(ce,se),e(v,J),e(v,re),e(re,q),e(v,Y),e(v,B),e(B,ue),e(v,oe),e(v,R),e(R,V),e(y,O);for(let W=0;W<U.length;W+=1)U[W]&&U[W].m(y,null);x=!0,Q||(Ee=[ye(d,"click",s[6]),ye(_,"change",s[7]),ye(p,"click",s[8])],Q=!0)},p(H,[Z]){if((!x||Z&5&&f!==(f=H[0]===1))&&(d.disabled=f),Z&4){ve=H[2];let W;for(W=0;W<ve.length;W+=1){const pe=$l(H,ve,W);ne[W]?ne[W].p(pe,Z):(ne[W]=Ml(pe),ne[W].c(),ne[W].m(_,null))}for(;W<ne.length;W+=1)ne[W].d(1);ne.length=ve.length}if(Z&5&&Ve(_,H[0]),(!x||Z&5&&S!==(S=H[0]===38))&&(p.disabled=S),Z&2){Ie=H[1];let W;for(W=0;W<Ie.length;W+=1){const pe=Hl(H,Ie,W);U[W]?(U[W].p(pe,Z),he(U[W],1)):(U[W]=Wl(pe),U[W].c(),he(U[W],1),U[W].m(y,null))}for(ja(),W=Ie.length;W<U.length;W+=1)Se(W);Ga()}},i(H){if(!x){for(let Z=0;Z<Ie.length;Z+=1)he(U[Z]);x=!0}},o(H){U=U.filter(Boolean);for(let Z=0;Z<U.length;Z+=1)ge(U[Z]);x=!1},d(H){H&&r(a),ca(ne,H),ca(U,H),Q=!1,Ia(Ee)}}}function vs(s,a,t){const l=new Ht,d=new dt,u=new ia;let f=1,I=[],_=[],g=Array.from({length:38},(v,h)=>h+1),p=[];ct(async()=>{try{await u.updateSystemStateData(),await l.updateFixturesData(),await d.updateTeamsData();const v=await l.getFixtures(),h=await d.getTeams();t(5,_=h),t(4,I=v.map(A=>({fixture:A,homeTeam:S(A.homeTeamId),awayTeam:S(A.awayTeamId)})));let N=await u.getSystemState();t(0,f=N?.activeGameweek??f)}catch(v){console.error("Error fetching data:",v)}});const L=v=>{t(0,f=Math.max(1,Math.min(38,f+v)))};function S(v){return _.find(h=>h.id===v)}const w=()=>L(-1);function m(){f=Ra(this),t(0,f),t(2,g)}const y=()=>L(1);return s.$$.update=()=>{s.$$.dirty&49&&I.length>0&&_.length>0&&t(1,p=Jl(I,_,f))},[f,p,g,L,I,_,w,m,y]}class ps extends $a{constructor(a){super(),Ma(this,a,vs,hs,Wa,{})}}function gs(s){let a,t,l,d,u,f,I,_,g,p,L,S,w,m,y,v,h,N,A,D,M,F,$,P,G,C,ae,ee,z,te,X,le,K,ie,ce,se,J,re,q,Y,B,ue,oe,R,V,O,x,Q,Ee,ve,ne,Ie,U,Se,H,Z,W,pe,we,De,Ne,xe,Ce=(s[12]?s[12].abbreviatedName:"")+"",_e,We,Je,Ae,ya,Ye,Xe,He,aa=(s[13]?s[13].abbreviatedName:"")+"",da,ua,$e,fa,ut,qe,Sa,ft,_t,wa,Oe,qa,Da,mt,ht,Ua,Na,vt,pt,Ba,Ta,gt,bt,ta,za,Et,Ka,It,_a,yt,Ue,la,St,Ja,wt,Dt,ka,Ya,Nt,ma,Xa,Tt,Qa,ha,Qe,Me,va,sa,kt,Za,et,xt,Pt,pa,ra,Ct,at,tt,Ot,ga,oa,At,lt,st,Lt,Pe,Te,me,Vt,$t;x=new Ha({props:{primaryColour:s[12]?s[12].primaryColourHex:"",secondaryColour:s[12]?s[12].secondaryColourHex:"",thirdColour:s[12]?s[12].thirdColourHex:""}}),Z=new Ha({props:{primaryColour:s[13]?s[13].primaryColourHex:"",secondaryColour:s[13]?s[13].secondaryColourHex:"",thirdColour:s[13]?s[13].thirdColourHex:""}});const Mt=[Ss,ys,Is,Es],ba=[];function Wt(j,de){return j[0]==="fixtures"?0:j[0]==="points"?1:j[0]==="leaderboards"?2:j[0]==="league-table"?3:-1}return~(Pe=Wt(s))&&(Te=ba[Pe]=Mt[Pe](s)),{c(){a=o("div"),t=o("div"),l=o("div"),d=o("div"),u=o("p"),f=b("Gameweek"),I=T(),_=o("p"),g=b(s[1]),p=T(),L=o("p"),S=b(s[2]),w=T(),m=o("div"),y=T(),v=o("div"),h=o("p"),N=b("Managers"),A=T(),D=o("p"),M=b(s[3]),F=T(),$=o("p"),P=b("Total"),G=T(),C=o("div"),ae=T(),ee=o("div"),z=o("p"),te=b("Weekly Prize Pool"),X=T(),le=o("p"),K=b("0"),ie=T(),ce=o("p"),se=b("$FPL"),J=T(),re=o("div"),q=o("div"),Y=o("p"),B=b("Next Game:"),ue=T(),oe=o("div"),R=o("div"),V=o("div"),O=o("a"),Re(x.$$.fragment),Ee=T(),ve=o("div"),ne=o("p"),Ie=b("v"),U=T(),Se=o("div"),H=o("a"),Re(Z.$$.fragment),pe=T(),we=o("div"),De=o("div"),Ne=o("p"),xe=o("a"),_e=b(Ce),Je=T(),Ae=o("div"),ya=T(),Ye=o("div"),Xe=o("p"),He=o("a"),da=b(aa),$e=T(),fa=o("div"),ut=T(),qe=o("div"),Sa=o("p"),ft=b("Kick Off:"),_t=T(),wa=o("div"),Oe=o("p"),qa=b(s[4]),Da=o("span"),mt=b("d"),ht=b(`
                : `),Ua=b(s[5]),Na=o("span"),vt=b("h"),pt=b(`
                : `),Ba=b(s[6]),Ta=o("span"),gt=b("m"),bt=T(),ta=o("p"),za=b(s[7]),Et=b(" | "),Ka=b(s[8]),It=T(),_a=o("div"),yt=T(),Ue=o("div"),la=o("p"),St=b("GW "),Ja=b(s[9]),wt=b(" High Score"),Dt=T(),ka=o("p"),Ya=b(s[10]),Nt=T(),ma=o("p"),Xa=b(s[11]),Tt=b(" points"),Qa=T(),ha=o("div"),Qe=o("div"),Me=o("ul"),va=o("li"),sa=o("button"),kt=b("Fixtures"),xt=T(),Pt=T(),pa=o("li"),ra=o("button"),Ct=b("Leaderboards"),Ot=T(),ga=o("li"),oa=o("button"),At=b("Table"),Lt=T(),Te&&Te.c(),this.h()},l(j){a=n(j,"DIV",{class:!0});var de=i(a);t=n(de,"DIV",{class:!0});var Ze=i(t);l=n(Ze,"DIV",{class:!0});var ke=i(l);d=n(ke,"DIV",{class:!0});var Be=i(d);u=n(Be,"P",{class:!0});var qt=i(u);f=E(qt,"Gameweek"),qt.forEach(r),I=k(Be),_=n(Be,"P",{class:!0});var Ut=i(_);g=E(Ut,s[1]),Ut.forEach(r),p=k(Be),L=n(Be,"P",{class:!0});var Bt=i(L);S=E(Bt,s[2]),Bt.forEach(r),Be.forEach(r),w=k(ke),m=n(ke,"DIV",{class:!0,style:!0}),i(m).forEach(r),y=k(ke),v=n(ke,"DIV",{class:!0});var xa=i(v);h=n(xa,"P",{class:!0});var zt=i(h);N=E(zt,"Managers"),zt.forEach(r),A=k(xa),D=n(xa,"P",{class:!0});var Kt=i(D);M=E(Kt,s[3]),Kt.forEach(r),F=k(xa),$=n(xa,"P",{class:!0});var Jt=i($);P=E(Jt,"Total"),Jt.forEach(r),xa.forEach(r),G=k(ke),C=n(ke,"DIV",{class:!0,style:!0}),i(C).forEach(r),ae=k(ke),ee=n(ke,"DIV",{class:!0});var Pa=i(ee);z=n(Pa,"P",{class:!0});var Yt=i(z);te=E(Yt,"Weekly Prize Pool"),Yt.forEach(r),X=k(Pa),le=n(Pa,"P",{class:!0});var Xt=i(le);K=E(Xt,"0"),Xt.forEach(r),ie=k(Pa),ce=n(Pa,"P",{class:!0});var Qt=i(ce);se=E(Qt,"$FPL"),Qt.forEach(r),Pa.forEach(r),ke.forEach(r),J=k(Ze),re=n(Ze,"DIV",{class:!0});var ze=i(re);q=n(ze,"DIV",{class:!0});var Ca=i(q);Y=n(Ca,"P",{class:!0});var Zt=i(Y);B=E(Zt,"Next Game:"),Zt.forEach(r),ue=k(Ca),oe=n(Ca,"DIV",{class:!0});var el=i(oe);R=n(el,"DIV",{class:!0});var Oa=i(R);V=n(Oa,"DIV",{class:!0});var al=i(V);O=n(al,"A",{href:!0});var tl=i(O);Fe(x.$$.fragment,tl),tl.forEach(r),al.forEach(r),Ee=k(Oa),ve=n(Oa,"DIV",{class:!0});var ll=i(ve);ne=n(ll,"P",{class:!0});var sl=i(ne);Ie=E(sl,"v"),sl.forEach(r),ll.forEach(r),U=k(Oa),Se=n(Oa,"DIV",{class:!0});var rl=i(Se);H=n(rl,"A",{href:!0});var ol=i(H);Fe(Z.$$.fragment,ol),ol.forEach(r),rl.forEach(r),Oa.forEach(r),el.forEach(r),pe=k(Ca),we=n(Ca,"DIV",{class:!0});var Aa=i(we);De=n(Aa,"DIV",{class:!0});var nl=i(De);Ne=n(nl,"P",{class:!0});var il=i(Ne);xe=n(il,"A",{class:!0,href:!0});var cl=i(xe);_e=E(cl,Ce),cl.forEach(r),il.forEach(r),nl.forEach(r),Je=k(Aa),Ae=n(Aa,"DIV",{class:!0}),i(Ae).forEach(r),ya=k(Aa),Ye=n(Aa,"DIV",{class:!0});var dl=i(Ye);Xe=n(dl,"P",{class:!0});var ul=i(Xe);He=n(ul,"A",{class:!0,href:!0});var fl=i(He);da=E(fl,aa),fl.forEach(r),ul.forEach(r),dl.forEach(r),Aa.forEach(r),Ca.forEach(r),$e=k(ze),fa=n(ze,"DIV",{class:!0,style:!0}),i(fa).forEach(r),ut=k(ze),qe=n(ze,"DIV",{class:!0});var La=i(qe);Sa=n(La,"P",{class:!0});var _l=i(Sa);ft=E(_l,"Kick Off:"),_l.forEach(r),_t=k(La),wa=n(La,"DIV",{class:!0});var ml=i(wa);Oe=n(ml,"P",{class:!0});var ea=i(Oe);qa=E(ea,s[4]),Da=n(ea,"SPAN",{class:!0});var hl=i(Da);mt=E(hl,"d"),hl.forEach(r),ht=E(ea,`
                : `),Ua=E(ea,s[5]),Na=n(ea,"SPAN",{class:!0});var vl=i(Na);vt=E(vl,"h"),vl.forEach(r),pt=E(ea,`
                : `),Ba=E(ea,s[6]),Ta=n(ea,"SPAN",{class:!0});var pl=i(Ta);gt=E(pl,"m"),pl.forEach(r),ea.forEach(r),ml.forEach(r),bt=k(La),ta=n(La,"P",{class:!0});var rt=i(ta);za=E(rt,s[7]),Et=E(rt," | "),Ka=E(rt,s[8]),rt.forEach(r),La.forEach(r),It=k(ze),_a=n(ze,"DIV",{class:!0,style:!0}),i(_a).forEach(r),yt=k(ze),Ue=n(ze,"DIV",{class:!0});var Va=i(Ue);la=n(Va,"P",{class:!0});var ot=i(la);St=E(ot,"GW "),Ja=E(ot,s[9]),wt=E(ot," High Score"),ot.forEach(r),Dt=k(Va),ka=n(Va,"P",{class:!0});var gl=i(ka);Ya=E(gl,s[10]),gl.forEach(r),Nt=k(Va),ma=n(Va,"P",{class:!0});var Rt=i(ma);Xa=E(Rt,s[11]),Tt=E(Rt," points"),Rt.forEach(r),Va.forEach(r),ze.forEach(r),Ze.forEach(r),de.forEach(r),Qa=k(j),ha=n(j,"DIV",{class:!0});var bl=i(ha);Qe=n(bl,"DIV",{class:!0});var nt=i(Qe);Me=n(nt,"UL",{class:!0});var Ea=i(Me);va=n(Ea,"LI",{class:!0});var El=i(va);sa=n(El,"BUTTON",{class:!0});var Il=i(sa);kt=E(Il,"Fixtures"),Il.forEach(r),El.forEach(r),xt=k(Ea),Pt=k(Ea),pa=n(Ea,"LI",{class:!0});var yl=i(pa);ra=n(yl,"BUTTON",{class:!0});var Sl=i(ra);Ct=E(Sl,"Leaderboards"),Sl.forEach(r),yl.forEach(r),Ot=k(Ea),ga=n(Ea,"LI",{class:!0});var wl=i(ga);oa=n(wl,"BUTTON",{class:!0});var Dl=i(oa);At=E(Dl,"Table"),Dl.forEach(r),wl.forEach(r),Ea.forEach(r),Lt=k(nt),Te&&Te.l(nt),nt.forEach(r),bl.forEach(r),this.h()},h(){c(u,"class","text-gray-300 text-xs"),c(_,"class","text-2xl sm:text-3xl md:text-4xl mt-2 mb-2 font-bold"),c(L,"class","text-gray-300 text-xs"),c(d,"class","flex-grow"),c(m,"class","flex-shrink-0 w-px bg-gray-400 self-stretch"),na(m,"min-width","2px"),na(m,"min-height","50px"),c(h,"class","text-gray-300 text-xs"),c(D,"class","text-2xl sm:text-3xl md:text-4xl mt-2 mb-2 font-bold"),c($,"class","text-gray-300 text-xs"),c(v,"class","flex-grow"),c(C,"class","flex-shrink-0 w-px bg-gray-400 self-stretch"),na(C,"min-width","2px"),na(C,"min-height","50px"),c(z,"class","text-gray-300 text-xs"),c(le,"class","text-2xl sm:text-3xl md:text-4xl mt-2 mb-2 font-bold"),c(ce,"class","text-gray-300 text-xs"),c(ee,"class","flex-grow"),c(l,"class","flex justify-start items-center text-white space-x-4 flex-grow m-4 bg-panel p-4 rounded-md"),c(Y,"class","text-gray-300 text-xs"),c(O,"href",Q=`/club/${s[12]?s[12].id:-1}`),c(V,"class","w-10 ml-4 mr-4"),c(ne,"class","text-xs mt-2 mb-2 font-bold"),c(ve,"class","w-v ml-1 mr-1 flex justify-center svelte-1ylya66"),c(H,"href",W=`/club/${s[13]?s[13].id:-1}`),c(Se,"class","w-10 ml-4"),c(R,"class","flex justify-center items-center"),c(oe,"class","flex justify-center mb-2 mt-2"),c(xe,"class","text-gray-300 text-xs text-center"),c(xe,"href",We=`/club/${s[12]?s[12].id:-1}`),c(Ne,"class","text-gray-300 text-xs text-center"),c(De,"class","w-10 ml-4 mr-4"),c(Ae,"class","w-v ml-1 mr-1 svelte-1ylya66"),c(He,"class","text-gray-300 text-xs text-center"),c(He,"href",ua=`/club/${s[13]?s[13].id:-1}`),c(Xe,"class","text-gray-300 text-xs text-center"),c(Ye,"class","w-10 ml-4"),c(we,"class","flex justify-center"),c(q,"class","flex-grow mb-4 md:mb-0"),c(fa,"class","h-px bg-gray-400 w-full md:w-px md:h-full md:self-stretch"),na(fa,"min-height","2px"),na(fa,"min-width","2px"),c(Sa,"class","text-gray-300 text-xs mt-4 md:mt-0"),c(Da,"class","text-gray-300 text-xs ml-1"),c(Na,"class","text-gray-300 text-xs ml-1"),c(Ta,"class","text-gray-300 text-xs ml-1"),c(Oe,"class","text-2xl sm:text-3xl md:text-4xl mt-2 mb-2 font-bold"),c(wa,"class","flex"),c(ta,"class","text-gray-300 text-xs"),c(qe,"class","flex-grow mb-4 md:mb-0"),c(_a,"class","h-px bg-gray-400 w-full md:w-px md:h-full md:self-stretch"),na(_a,"min-height","2px"),na(_a,"min-width","2px"),c(la,"class","text-gray-300 text-xs mt-4 md:mt-0"),c(ka,"class","text-2xl sm:text-3xl md:text-4xl mt-2 mb-2 font-bold"),c(ma,"class","text-gray-300 text-xs"),c(Ue,"class","flex-grow"),c(re,"class","flex flex-col md:flex-row justify-start md:items-center text-white space-x-0 md:space-x-4 flex-grow m-4 bg-panel p-4 rounded-md"),c(t,"class","flex flex-col md:flex-row"),c(a,"class","m-4"),c(sa,"class",Za=Le(`p-2 ${s[0]==="fixtures"?"text-white":"text-gray-400"}`)+" svelte-1ylya66"),c(va,"class",et=Le(`mr-4 text-xs md:text-lg ${s[0]==="fixtures"?"active-tab":""}`)+" svelte-1ylya66"),c(ra,"class",at=Le(`p-2 ${s[0]==="leaderboards"?"text-white":"text-gray-400"}`)+" svelte-1ylya66"),c(pa,"class",tt=Le(`mr-4 text-xs md:text-lg ${s[0]==="leaderboards"?"active-tab":""}`)+" svelte-1ylya66"),c(oa,"class",lt=Le(`p-2 ${s[0]==="league-table"?"text-white":"text-gray-400"}`)+" svelte-1ylya66"),c(ga,"class",st=Le(`mr-4 text-xs md:text-lg ${s[0]==="league-table"?"active-tab":""}`)+" svelte-1ylya66"),c(Me,"class","flex bg-light-gray px-4 pt-2"),c(Qe,"class","bg-panel rounded-md m-4"),c(ha,"class","m-4")},m(j,de){be(j,a,de),e(a,t),e(t,l),e(l,d),e(d,u),e(u,f),e(d,I),e(d,_),e(_,g),e(d,p),e(d,L),e(L,S),e(l,w),e(l,m),e(l,y),e(l,v),e(v,h),e(h,N),e(v,A),e(v,D),e(D,M),e(v,F),e(v,$),e($,P),e(l,G),e(l,C),e(l,ae),e(l,ee),e(ee,z),e(z,te),e(ee,X),e(ee,le),e(le,K),e(ee,ie),e(ee,ce),e(ce,se),e(t,J),e(t,re),e(re,q),e(q,Y),e(Y,B),e(q,ue),e(q,oe),e(oe,R),e(R,V),e(V,O),je(x,O,null),e(R,Ee),e(R,ve),e(ve,ne),e(ne,Ie),e(R,U),e(R,Se),e(Se,H),je(Z,H,null),e(q,pe),e(q,we),e(we,De),e(De,Ne),e(Ne,xe),e(xe,_e),e(we,Je),e(we,Ae),e(we,ya),e(we,Ye),e(Ye,Xe),e(Xe,He),e(He,da),e(re,$e),e(re,fa),e(re,ut),e(re,qe),e(qe,Sa),e(Sa,ft),e(qe,_t),e(qe,wa),e(wa,Oe),e(Oe,qa),e(Oe,Da),e(Da,mt),e(Oe,ht),e(Oe,Ua),e(Oe,Na),e(Na,vt),e(Oe,pt),e(Oe,Ba),e(Oe,Ta),e(Ta,gt),e(qe,bt),e(qe,ta),e(ta,za),e(ta,Et),e(ta,Ka),e(re,It),e(re,_a),e(re,yt),e(re,Ue),e(Ue,la),e(la,St),e(la,Ja),e(la,wt),e(Ue,Dt),e(Ue,ka),e(ka,Ya),e(Ue,Nt),e(Ue,ma),e(ma,Xa),e(ma,Tt),be(j,Qa,de),be(j,ha,de),e(ha,Qe),e(Qe,Me),e(Me,va),e(va,sa),e(sa,kt),e(Me,xt),e(Me,Pt),e(Me,pa),e(pa,ra),e(ra,Ct),e(Me,Ot),e(Me,ga),e(ga,oa),e(oa,At),e(Qe,Lt),~Pe&&ba[Pe].m(Qe,null),me=!0,Vt||($t=[ye(sa,"click",s[17]),ye(ra,"click",s[19]),ye(oa,"click",s[20])],Vt=!0)},p(j,de){(!me||de&2)&&fe(g,j[1]),(!me||de&4)&&fe(S,j[2]),(!me||de&8)&&fe(M,j[3]);const Ze={};de&4096&&(Ze.primaryColour=j[12]?j[12].primaryColourHex:""),de&4096&&(Ze.secondaryColour=j[12]?j[12].secondaryColourHex:""),de&4096&&(Ze.thirdColour=j[12]?j[12].thirdColourHex:""),x.$set(Ze),(!me||de&4096&&Q!==(Q=`/club/${j[12]?j[12].id:-1}`))&&c(O,"href",Q);const ke={};de&8192&&(ke.primaryColour=j[13]?j[13].primaryColourHex:""),de&8192&&(ke.secondaryColour=j[13]?j[13].secondaryColourHex:""),de&8192&&(ke.thirdColour=j[13]?j[13].thirdColourHex:""),Z.$set(ke),(!me||de&8192&&W!==(W=`/club/${j[13]?j[13].id:-1}`))&&c(H,"href",W),(!me||de&4096)&&Ce!==(Ce=(j[12]?j[12].abbreviatedName:"")+"")&&fe(_e,Ce),(!me||de&4096&&We!==(We=`/club/${j[12]?j[12].id:-1}`))&&c(xe,"href",We),(!me||de&8192)&&aa!==(aa=(j[13]?j[13].abbreviatedName:"")+"")&&fe(da,aa),(!me||de&8192&&ua!==(ua=`/club/${j[13]?j[13].id:-1}`))&&c(He,"href",ua),(!me||de&16)&&fe(qa,j[4]),(!me||de&32)&&fe(Ua,j[5]),(!me||de&64)&&fe(Ba,j[6]),(!me||de&128)&&fe(za,j[7]),(!me||de&256)&&fe(Ka,j[8]),(!me||de&512)&&fe(Ja,j[9]),(!me||de&1024)&&fe(Ya,j[10]),(!me||de&2048)&&fe(Xa,j[11]),(!me||de&1&&Za!==(Za=Le(`p-2 ${j[0]==="fixtures"?"text-white":"text-gray-400"}`)+" svelte-1ylya66"))&&c(sa,"class",Za),(!me||de&1&&et!==(et=Le(`mr-4 text-xs md:text-lg ${j[0]==="fixtures"?"active-tab":""}`)+" svelte-1ylya66"))&&c(va,"class",et),(!me||de&1&&at!==(at=Le(`p-2 ${j[0]==="leaderboards"?"text-white":"text-gray-400"}`)+" svelte-1ylya66"))&&c(ra,"class",at),(!me||de&1&&tt!==(tt=Le(`mr-4 text-xs md:text-lg ${j[0]==="leaderboards"?"active-tab":""}`)+" svelte-1ylya66"))&&c(pa,"class",tt),(!me||de&1&&lt!==(lt=Le(`p-2 ${j[0]==="league-table"?"text-white":"text-gray-400"}`)+" svelte-1ylya66"))&&c(oa,"class",lt),(!me||de&1&&st!==(st=Le(`mr-4 text-xs md:text-lg ${j[0]==="league-table"?"active-tab":""}`)+" svelte-1ylya66"))&&c(ga,"class",st);let Be=Pe;Pe=Wt(j),Pe!==Be&&(Te&&(ja(),ge(ba[Be],1,1,()=>{ba[Be]=null}),Ga()),~Pe?(Te=ba[Pe],Te||(Te=ba[Pe]=Mt[Pe](j),Te.c()),he(Te,1),Te.m(Qe,null)):Te=null)},i(j){me||(he(x.$$.fragment,j),he(Z.$$.fragment,j),he(Te),me=!0)},o(j){ge(x.$$.fragment,j),ge(Z.$$.fragment,j),ge(Te),me=!1},d(j){j&&r(a),Ge(x),Ge(Z),j&&r(Qa),j&&r(ha),~Pe&&ba[Pe].d(),Vt=!1,Ia($t)}}}function bs(s){let a,t;return a=new ql({props:{progress:s[14]}}),{c(){Re(a.$$.fragment)},l(l){Fe(a.$$.fragment,l)},m(l,d){je(a,l,d),t=!0},p(l,d){const u={};d&16384&&(u.progress=l[14]),a.$set(u)},i(l){t||(he(a.$$.fragment,l),t=!0)},o(l){ge(a.$$.fragment,l),t=!1},d(l){Ge(a,l)}}}function Es(s){let a,t;return a=new ps({}),{c(){Re(a.$$.fragment)},l(l){Fe(a.$$.fragment,l)},m(l,d){je(a,l,d),t=!0},i(l){t||(he(a.$$.fragment,l),t=!0)},o(l){ge(a.$$.fragment,l),t=!1},d(l){Ge(a,l)}}}function Is(s){let a,t;return a=new ms({}),{c(){Re(a.$$.fragment)},l(l){Fe(a.$$.fragment,l)},m(l,d){je(a,l,d),t=!0},i(l){t||(he(a.$$.fragment,l),t=!0)},o(l){ge(a.$$.fragment,l),t=!1},d(l){Ge(a,l)}}}function ys(s){let a,t;return a=new rs({}),{c(){Re(a.$$.fragment)},l(l){Fe(a.$$.fragment,l)},m(l,d){je(a,l,d),t=!0},i(l){t||(he(a.$$.fragment,l),t=!0)},o(l){ge(a.$$.fragment,l),t=!1},d(l){Ge(a,l)}}}function Ss(s){let a,t;return a=new ls({}),{c(){Re(a.$$.fragment)},l(l){Fe(a.$$.fragment,l)},m(l,d){je(a,l,d),t=!0},i(l){t||(he(a.$$.fragment,l),t=!0)},o(l){ge(a.$$.fragment,l),t=!1},d(l){Ge(a,l)}}}function ws(s){let a,t,l,d;const u=[bs,gs],f=[];function I(_,g){return _[15]?0:1}return a=I(s),t=f[a]=u[a](s),{c(){t.c(),l=it()},l(_){t.l(_),l=it()},m(_,g){f[a].m(_,g),be(_,l,g),d=!0},p(_,g){let p=a;a=I(_),a===p?f[a].p(_,g):(ja(),ge(f[p],1,1,()=>{f[p]=null}),Ga(),t=f[a],t?t.p(_,g):(t=f[a]=u[a](_),t.c()),he(t,1),t.m(l.parentNode,l))},i(_){d||(he(t),d=!0)},o(_){ge(t),d=!1},d(_){f[a].d(_),_&&r(l)}}}function Ds(s){let a,t;return a=new Kl({props:{$$slots:{default:[ws]},$$scope:{ctx:s}}}),{c(){Re(a.$$.fragment)},l(l){Fe(a.$$.fragment,l)},m(l,d){je(a,l,d),t=!0},p(l,[d]){const u={};d&134283263&&(u.$$scope={dirty:d,ctx:l}),a.$set(u)},i(l){t||(he(a.$$.fragment,l),t=!0)},o(l){ge(a.$$.fragment,l),t=!1},d(l){Ge(a,l)}}}function Ns(s,a,t){const l=new ia,d=new Ht,u=new dt,f=new Ul,I=new es;let _="fixtures",g=-1,p="-",L=-1,S="00",w="00",m="00",y="-",v="-",h=-1,N="-",A=0,D,M,F=0,$=!0;ct(async()=>{t(15,$=!0);try{await l.updateSystemStateData(),await d.updateFixturesData(),await u.updateTeamsData(),await f.updateWeeklyLeaderboardData(),await f.updateMonthlyLeaderboardData(),await f.updateSeasonLeaderboardData(),t(3,L=await I.getTotalManagers());let te=await l.getSystemState();t(1,g=te?.activeGameweek??g),t(2,p=te?.activeSeason.name??p),t(9,h=te?.focusGameweek??g),P(40),await new Promise(ie=>setTimeout(ie,1e3));let X=await d.getNextFixture();t(12,D=await u.getTeamById(X.homeTeamId)),t(13,M=await u.getTeamById(X.awayTeamId)),t(7,y=Yl(Number(X.kickOff))),t(8,v=Gt(Number(X.kickOff)));let le=Xl(Number(X.kickOff));t(4,S=le.days.toString()),t(5,w=le.hours.toString()),t(6,m=le.minutes.toString()),P(80),await new Promise(ie=>setTimeout(ie,1e3));let K=await f.getLeadingWeeklyTeam();t(10,N=K.username),t(11,A=K.points),P(100),await new Promise(ie=>setTimeout(ie,1e3)),t(15,$=!1)}catch(te){console.error("Error fetching homepage data:",te),t(15,$=!1)}});function P(te){function K(){F<te&&(t(14,F+=1),setTimeout(K,25))}K()}function G(te){t(0,_=te)}return[_,g,p,L,S,w,m,y,v,h,N,A,D,M,F,$,G,()=>G("fixtures"),()=>G("points"),()=>G("leaderboards"),()=>G("league-table")]}class As extends $a{constructor(a){super(),Ma(this,a,Ns,Ds,Wa,{})}}export{As as component};
