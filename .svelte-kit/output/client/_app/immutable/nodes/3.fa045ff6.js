import{S as It,i as Dt,s as kt,e as Oe,b as W,H as Ae,h as i,k as r,q as m,a as P,l as f,m as d,r as p,c as V,n as o,J as Ql,G as s,K as ll,V as Tt,L as Q,Q as qe,R as Rt,u as le,W as Pt,M as Jl,N as _t,X as Vt,T as Ht,P as Zl,Y as st,y as yt,z as Et,A as gt,g as Ge,d as We,f as sl,B as wt,I as Nt,o as xl,O as $l,v as al,Z as Xl,_ as zl}from"../chunks/index.a8c54947.js";import{p as es}from"../chunks/stores.61650043.js";import{A as ts,a as ls,c as ss,t as pt,d as bt,l as Gt,j as as,r as ns}from"../chunks/Layout.ca043cdb.js";import{w as at}from"../chunks/singletons.3dcb92f8.js";import{t as nl}from"../chunks/team-store.b38566f6.js";import{f as il}from"../chunks/fixture-store.ad45d677.js";import{p as Kt}from"../chunks/player-store.7033c4f0.js";function is(){const{subscribe:a,set:e}=at([]);async function t(l,n){try{await(await ts.createIdentityActor(ls,"bboqb-jiaaa-aaaal-qb6ea-cai")).savePlayerEvents(l,n)}catch(_){throw console.error("Error submitting fixture data:",_),_}}return{subscribe:a,submitFixtureData:t}}const os=is();function ol(a,e,t){const l=a.slice();return l[20]=e[t],l[22]=t,l}function rl(a){let e,t,l,n,_,v=a[1].firstName!==""?a[1].firstName.charAt(0)+".":"",u,h,D=a[1].lastName+"",y,c,T,k,A,M,C,N,O,b,E,w,I,R,U,g,H,Z,J,$,L,G,q,Y,x,fe,he,ne,re,ue,Ie,B,F,X,se,De,ye,ee,ke,Ee,ge,Fe,Le,je,S,j,we,ce,Ke,Te,Ze,Se,Me,xe,Ue,nt,ie=a[1].position===0&&fl(),Be=a[8],oe=[];for(let ae=0;ae<Be.length;ae+=1)oe[ae]=ul(ol(a,Be,ae));return{c(){e=r("div"),t=r("div"),l=r("div"),n=r("div"),_=r("h4"),u=m(v),h=P(),y=m(D),c=m(" - Match Events"),T=P(),k=r("div"),A=r("h4"),M=m("Add Event"),C=P(),N=r("div"),O=r("div"),b=r("select"),E=r("option"),w=m("Select event type"),I=r("option"),R=m("Appearance"),U=r("option"),g=m("Goal Scored"),H=r("option"),Z=m("Goal Assisted"),J=r("option"),$=m("Penalty Missed"),L=r("option"),G=m("Yellow Card"),q=r("option"),Y=m("Card"),x=r("option"),fe=m("Own Goal"),ie&&ie.c(),he=P(),ne=r("div"),re=r("label"),ue=m("Start Minute"),Ie=P(),B=r("input"),F=P(),X=r("div"),se=r("label"),De=m("End Minute"),ye=P(),ee=r("input"),ke=P(),Ee=r("div"),ge=r("button"),Fe=m("Add Event"),je=P(),S=r("div"),j=r("h4"),we=m("Events:"),ce=P(),Ke=r("div"),Te=r("ul");for(let ae=0;ae<oe.length;ae+=1)oe[ae].c();Ze=P(),Se=r("div"),Me=r("button"),xe=m("Done"),this.h()},l(ae){e=f(ae,"DIV",{class:!0});var _e=d(e);t=f(_e,"DIV",{class:!0});var te=d(t);l=f(te,"DIV",{class:!0});var me=d(l);n=f(me,"DIV",{class:!0});var it=d(n);_=f(it,"H4",{class:!0});var Pe=d(_);u=p(Pe,v),h=V(Pe),y=p(Pe,D),c=p(Pe," - Match Events"),Pe.forEach(i),it.forEach(i),T=V(me),k=f(me,"DIV",{class:!0});var Je=d(k);A=f(Je,"H4",{class:!0});var Xe=d(A);M=p(Xe,"Add Event"),Xe.forEach(i),C=V(Je),N=f(Je,"DIV",{class:!0});var Ve=d(N);O=f(Ve,"DIV",{class:!0});var ot=d(O);b=f(ot,"SELECT",{id:!0,class:!0});var pe=d(b);E=f(pe,"OPTION",{});var rt=d(E);w=p(rt,"Select event type"),rt.forEach(i),I=f(pe,"OPTION",{});var ze=d(I);R=p(ze,"Appearance"),ze.forEach(i),U=f(pe,"OPTION",{});var $e=d(U);g=p($e,"Goal Scored"),$e.forEach(i),H=f(pe,"OPTION",{});var ft=d(H);Z=p(ft,"Goal Assisted"),ft.forEach(i),J=f(pe,"OPTION",{});var Re=d(J);$=p(Re,"Penalty Missed"),Re.forEach(i),L=f(pe,"OPTION",{});var ut=d(L);G=p(ut,"Yellow Card"),ut.forEach(i),q=f(pe,"OPTION",{});var Qe=d(q);Y=p(Qe,"Card"),Qe.forEach(i),x=f(pe,"OPTION",{});var et=d(x);fe=p(et,"Own Goal"),et.forEach(i),ie&&ie.l(pe),pe.forEach(i),ot.forEach(i),he=V(Ve),ne=f(Ve,"DIV",{class:!0});var Ye=d(ne);re=f(Ye,"LABEL",{for:!0,class:!0});var He=d(re);ue=p(He,"Start Minute"),He.forEach(i),Ie=V(Ye),B=f(Ye,"INPUT",{type:!0,id:!0,class:!0,placeholder:!0,min:!0,max:!0}),Ye.forEach(i),F=V(Ve),X=f(Ve,"DIV",{class:!0});var Ne=d(X);se=f(Ne,"LABEL",{for:!0,class:!0});var ct=d(se);De=p(ct,"End Minute"),ct.forEach(i),ye=V(Ne),ee=f(Ne,"INPUT",{type:!0,id:!0,class:!0,placeholder:!0,min:!0,max:!0}),Ne.forEach(i),ke=V(Ve),Ee=f(Ve,"DIV",{class:!0});var tt=d(Ee);ge=f(tt,"BUTTON",{class:!0});var dt=d(ge);Fe=p(dt,"Add Event"),dt.forEach(i),tt.forEach(i),Ve.forEach(i),Je.forEach(i),je=V(me),S=f(me,"DIV",{class:!0});var mt=d(S);j=f(mt,"H4",{class:!0});var de=d(j);we=p(de,"Events:"),de.forEach(i),mt.forEach(i),ce=V(me),Ke=f(me,"DIV",{class:!0});var ve=d(Ke);Te=f(ve,"UL",{class:!0});var K=d(Te);for(let vt=0;vt<oe.length;vt+=1)oe[vt].l(K);K.forEach(i),ve.forEach(i),Ze=V(me),Se=f(me,"DIV",{class:!0});var z=d(Se);Me=f(z,"BUTTON",{class:!0});var lt=d(Me);xe=p(lt,"Done"),lt.forEach(i),z.forEach(i),me.forEach(i),te.forEach(i),_e.forEach(i),this.h()},h(){o(_,"class","text-lg font-bold"),o(n,"class","flex justify-between items-center"),o(A,"class","font-bold"),E.__value=-1,E.value=E.__value,E.disabled=!0,I.__value=0,I.value=I.__value,U.__value=1,U.value=U.__value,H.__value=2,H.value=H.__value,J.__value=7,J.value=J.__value,L.__value=8,L.value=L.__value,q.__value=9,q.value=q.__value,x.__value=10,x.value=x.__value,o(b,"id","eventType"),o(b,"class","w-full p-2 fpl-dropdown"),a[4]===void 0&&Ql(()=>a[15].call(b)),o(O,"class","mt-1"),o(re,"for","startMinute"),o(re,"class","block text-sm font-medium"),o(B,"type","number"),o(B,"id","startMinute"),o(B,"class","bg-gray-900 w-full px-4 py-2 mt-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"),o(B,"placeholder","Enter start minute"),o(B,"min","0"),o(B,"max","90"),o(ne,"class","mt-1"),o(se,"for","endMinute"),o(se,"class","block text-sm font-medium"),o(ee,"type","number"),o(ee,"id","endMinute"),o(ee,"class","bg-gray-900 w-full px-4 py-2 mt-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"),o(ee,"placeholder","Enter end minute"),o(ee,"min","0"),o(ee,"max","90"),o(X,"class","mt-2"),o(ge,"class",Le=`${a[7]?"bg-gray-500":"fpl-purple-btn"} px-4 py-2 text-white text-base font-medium rounded-md w-full shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-300`),ge.disabled=a[7],o(Ee,"class","items-center mt-3 flex space-x-4"),o(N,"class","flex flex-col gap-1"),o(k,"class","mt-4 p-4 border-t border-gray-200"),o(j,"class","text-sm"),o(S,"class","px-4"),o(Te,"class","list-disc"),o(Ke,"class","mt-1 text-xs mx-4"),o(Me,"class","fpl-button mx-4 px-4 py-2 text-white text-base font-medium rounded-md w-full shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-300"),o(Se,"class","items-center mt-3 flex space-x-4"),o(l,"class","mt-3"),o(t,"class","relative top-20 mx-auto p-5 border border-gray-700 w-96 shadow-lg rounded-md bg-panel"),o(e,"class","fixed inset-0 bg-gray-900 bg-opacity-80 overflow-y-auto h-full w-full modal-backdrop")},m(ae,_e){W(ae,e,_e),s(e,t),s(t,l),s(l,n),s(n,_),s(_,u),s(_,h),s(_,y),s(_,c),s(l,T),s(l,k),s(k,A),s(A,M),s(k,C),s(k,N),s(N,O),s(O,b),s(b,E),s(E,w),s(b,I),s(I,R),s(b,U),s(U,g),s(b,H),s(H,Z),s(b,J),s(J,$),s(b,L),s(L,G),s(b,q),s(q,Y),s(b,x),s(x,fe),ie&&ie.m(b,null),ll(b,a[4],!0),s(N,he),s(N,ne),s(ne,re),s(re,ue),s(ne,Ie),s(ne,B),Tt(B,a[5]),s(N,F),s(N,X),s(X,se),s(se,De),s(X,ye),s(X,ee),Tt(ee,a[6]),s(N,ke),s(N,Ee),s(Ee,ge),s(ge,Fe),s(l,je),s(l,S),s(S,j),s(j,we),s(l,ce),s(l,Ke),s(Ke,Te);for(let te=0;te<oe.length;te+=1)oe[te]&&oe[te].m(Te,null);s(l,Ze),s(l,Se),s(Se,Me),s(Me,xe),Ue||(nt=[Q(b,"change",a[15]),Q(B,"input",a[16]),Q(ee,"input",a[17]),Q(ge,"click",a[9]),Q(Me,"click",function(){qe(a[3])&&a[3].apply(this,arguments)}),Q(t,"click",Rt(a[14])),Q(t,"keydown",a[11]),Q(e,"click",function(){qe(a[3])&&a[3].apply(this,arguments)}),Q(e,"keydown",a[11])],Ue=!0)},p(ae,_e){if(a=ae,_e&2&&v!==(v=a[1].firstName!==""?a[1].firstName.charAt(0)+".":"")&&le(u,v),_e&2&&D!==(D=a[1].lastName+"")&&le(y,D),a[1].position===0?ie||(ie=fl(),ie.c(),ie.m(b,null)):ie&&(ie.d(1),ie=null),_e&16&&ll(b,a[4]),_e&32&&Pt(B.value)!==a[5]&&Tt(B,a[5]),_e&64&&Pt(ee.value)!==a[6]&&Tt(ee,a[6]),_e&128&&Le!==(Le=`${a[7]?"bg-gray-500":"fpl-purple-btn"} px-4 py-2 text-white text-base font-medium rounded-md w-full shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-300`)&&o(ge,"class",Le),_e&128&&(ge.disabled=a[7]),_e&5376){Be=a[8];let te;for(te=0;te<Be.length;te+=1){const me=ol(a,Be,te);oe[te]?oe[te].p(me,_e):(oe[te]=ul(me),oe[te].c(),oe[te].m(Te,null))}for(;te<oe.length;te+=1)oe[te].d(1);oe.length=Be.length}},d(ae){ae&&i(e),ie&&ie.d(),Jl(oe,ae),Ue=!1,_t(nt)}}}function fl(a){let e,t,l,n;return{c(){e=r("option"),t=m("Keeper Save"),l=r("option"),n=m("Penalty Save"),this.h()},l(_){e=f(_,"OPTION",{});var v=d(e);t=p(v,"Keeper Save"),v.forEach(i),l=f(_,"OPTION",{});var u=d(l);n=p(u,"Penalty Save"),u.forEach(i),this.h()},h(){e.__value=4,e.value=e.__value,l.__value=6,l.value=l.__value},m(_,v){W(_,e,v),s(e,t),W(_,l,v),s(l,n)},d(_){_&&i(e),_&&i(l)}}}function ul(a){let e,t,l=a[12](a[20].eventType)+"",n,_,v=a[20].eventStartMinute+"",u,h,D=a[20].eventEndMinute+"",y,c,T,k,A,M,C,N;function O(){return a[18](a[22])}return{c(){e=r("li"),t=r("span"),n=m(l),_=m(" ("),u=m(v),h=m(`
                  - `),y=m(D),c=m(") mins"),T=P(),k=r("button"),A=m("Remove"),M=P(),this.h()},l(b){e=f(b,"LI",{class:!0});var E=d(e);t=f(E,"SPAN",{});var w=d(t);n=p(w,l),_=p(w," ("),u=p(w,v),h=p(w,`
                  - `),y=p(w,D),c=p(w,") mins"),w.forEach(i),T=V(E),k=f(E,"BUTTON",{class:!0});var I=d(k);A=p(I,"Remove"),I.forEach(i),M=V(E),E.forEach(i),this.h()},h(){o(k,"class","px-3 py-1 bg-red-500 rounded"),o(e,"class","flex justify-between items-center mb-2")},m(b,E){W(b,e,E),s(e,t),s(t,n),s(t,_),s(t,u),s(t,h),s(t,y),s(t,c),s(e,T),s(e,k),s(k,A),s(e,M),C||(N=Q(k,"click",O),C=!0)},p(b,E){a=b,E&256&&l!==(l=a[12](a[20].eventType)+"")&&le(n,l),E&256&&v!==(v=a[20].eventStartMinute+"")&&le(u,v),E&256&&D!==(D=a[20].eventEndMinute+"")&&le(y,D)},d(b){b&&i(e),C=!1,N()}}}function rs(a){let e,t=a[0]&&rl(a);return{c(){t&&t.c(),e=Oe()},l(l){t&&t.l(l),e=Oe()},m(l,n){t&&t.m(l,n),W(l,e,n)},p(l,[n]){l[0]?t?t.p(l,n):(t=rl(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:Ae,o:Ae,d(l){t&&t.d(l),l&&i(e)}}}function fs(a,e,t){let l,n=Ae,_=()=>(n(),n=Vt(D,g=>t(8,l=g)),D);a.$$.on_destroy.push(()=>n());let{show:v=!1}=e,{player:u}=e,{fixtureId:h}=e,{playerEventData:D}=e;_();let{closeModal:y}=e,c=-1,T=0,k=0,A=!0;const M=[{id:0,label:"Appearance"},{id:1,label:"Goal Scored"},{id:2,label:"Goal Assisted"},{id:6,label:"Penalty Saved"},{id:7,label:"Penalty Missed"},{id:8,label:"Yellow Card"},{id:9,label:"Red Card"},{id:10,label:"Own Goal"}];function C(){if(c>=0&&T!==null&&k!==null){const g={playerId:u.id,eventType:Number(c),eventStartMinute:Number(T),eventEndMinute:Number(k),fixtureId:h,teamId:u.teamId};let H=[...l,g];D.set(H),t(5,T=0),t(6,k=0),t(4,c=-1)}}function N(g){D.update(H=>H.filter((Z,J)=>J!==g))}function O(g){!(g.target instanceof HTMLInputElement)&&g.key==="Escape"&&y()}const b=g=>{const H=M.find(Z=>Z.id===g);return H?H.label:""};function E(g){Ht.call(this,a,g)}function w(){c=Zl(this),t(4,c)}function I(){T=Pt(this.value),t(5,T)}function R(){k=Pt(this.value),t(6,k)}const U=g=>N(g);return a.$$set=g=>{"show"in g&&t(0,v=g.show),"player"in g&&t(1,u=g.player),"fixtureId"in g&&t(13,h=g.fixtureId),"playerEventData"in g&&_(t(2,D=g.playerEventData)),"closeModal"in g&&t(3,y=g.closeModal)},a.$$.update=()=>{a.$$.dirty&112&&t(7,A=c<0||T<0||T>90||k<0||k>90)},[v,u,D,y,c,T,k,A,l,C,N,O,b,h,E,w,I,R,U]}class us extends It{constructor(e){super(),Dt(this,e,fs,rs,kt,{show:0,player:1,fixtureId:13,playerEventData:2,closeModal:3})}}function cl(a,e,t){const l=a.slice();l[12]=e[t];const n=l[5].some(function(...v){return a[11](l[12],...v)});return l[13]=n,l}function dl(a){let e,t,l,n,_,v=a[1].friendlyName+"",u,h,D,y,c,T,k,A,M,C,N,O,b,E=a[6].sort(bl),w=[];for(let I=0;I<E.length;I+=1)w[I]=pl(cl(a,E,I));return{c(){e=r("div"),t=r("div"),l=r("div"),n=r("h3"),_=m("Select "),u=m(v),h=m(" Players"),D=P(),y=r("div");for(let I=0;I<w.length;I+=1)w[I].c();c=P(),T=r("div"),k=r("button"),A=m("Cancel"),M=P(),C=r("button"),N=m("Select"),this.h()},l(I){e=f(I,"DIV",{class:!0});var R=d(e);t=f(R,"DIV",{class:!0});var U=d(t);l=f(U,"DIV",{class:!0});var g=d(l);n=f(g,"H3",{class:!0});var H=d(n);_=p(H,"Select "),u=p(H,v),h=p(H," Players"),H.forEach(i),D=V(g),y=f(g,"DIV",{class:!0});var Z=d(y);for(let G=0;G<w.length;G+=1)w[G].l(Z);Z.forEach(i),c=V(g),T=f(g,"DIV",{class:!0});var J=d(T);k=f(J,"BUTTON",{class:!0});var $=d(k);A=p($,"Cancel"),$.forEach(i),M=V(J),C=f(J,"BUTTON",{class:!0});var L=d(C);N=p(L,"Select"),L.forEach(i),J.forEach(i),g.forEach(i),U.forEach(i),R.forEach(i),this.h()},h(){o(n,"class","text-lg leading-6 font-medium mb-2"),o(y,"class","my-5 grid grid-cols-1 sm:grid-cols-2 gap-2"),o(k,"class","px-4 py-2 fpl-cancel-btn text-white text-base font-medium rounded-md w-full shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-300"),o(C,"class","px-4 py-2 fpl-purple-btn text-white text-base font-medium rounded-md w-full shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-300"),o(T,"class","items-center py-3 flex space-x-4"),o(l,"class","mt-3 px-4 py-2"),o(t,"class","relative top-20 mx-auto p-5 border border-gray-700 mx-8 md:mx-64 shadow-lg rounded-md bg-panel text-white"),o(e,"class","fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full")},m(I,R){W(I,e,R),s(e,t),s(t,l),s(l,n),s(n,_),s(n,u),s(n,h),s(l,D),s(l,y);for(let U=0;U<w.length;U+=1)w[U]&&w[U].m(y,null);s(l,c),s(l,T),s(T,k),s(k,A),s(T,M),s(T,C),s(C,N),O||(b=[Q(k,"click",function(){qe(a[4])&&a[4].apply(this,arguments)}),Q(C,"click",function(){qe(a[4])&&a[4].apply(this,arguments)}),Q(t,"click",Rt(a[9])),Q(t,"keydown",a[8]),Q(e,"click",function(){qe(a[4])&&a[4].apply(this,arguments)}),Q(e,"keydown",function(){qe(a[4])&&a[4].apply(this,arguments)})],O=!0)},p(I,R){if(a=I,R&2&&v!==(v=a[1].friendlyName+"")&&le(u,v),R&224){E=a[6].sort(bl);let U;for(U=0;U<E.length;U+=1){const g=cl(a,E,U);w[U]?w[U].p(g,R):(w[U]=pl(g),w[U].c(),w[U].m(y,null))}for(;U<w.length;U+=1)w[U].d(1);w.length=E.length}},d(I){I&&i(e),Jl(w,I),O=!1,_t(b)}}}function vl(a){let e;return{c(){e=m("GK")},l(t){e=p(t,"GK")},m(t,l){W(t,e,l)},d(t){t&&i(e)}}}function hl(a){let e;return{c(){e=m("DF")},l(t){e=p(t,"DF")},m(t,l){W(t,e,l)},d(t){t&&i(e)}}}function _l(a){let e;return{c(){e=m("MF")},l(t){e=p(t,"MF")},m(t,l){W(t,e,l)},d(t){t&&i(e)}}}function ml(a){let e;return{c(){e=m("FW")},l(t){e=p(t,"FW")},m(t,l){W(t,e,l)},d(t){t&&i(e)}}}function pl(a){let e,t,l,n=`${a[12].firstName.length>0?a[12].firstName.charAt(0)+".":""} ${a[12].lastName}`,_,v,u,h,D,y,c,T,k,A,M,C,N,O,b,E=a[12].position==0&&vl(),w=a[12].position==1&&hl(),I=a[12].position==2&&_l(),R=a[12].position==3&&ml();function U(...g){return a[10](a[12],...g)}return{c(){e=r("div"),t=r("div"),l=r("span"),_=m(n),v=P(),u=r("div"),h=r("span"),E&&E.c(),D=P(),w&&w.c(),y=P(),I&&I.c(),c=P(),R&&R.c(),T=P(),k=r("div"),A=r("label"),M=r("input"),N=P(),this.h()},l(g){e=f(g,"DIV",{class:!0});var H=d(e);t=f(H,"DIV",{class:!0});var Z=d(t);l=f(Z,"SPAN",{class:!0});var J=d(l);_=p(J,n),J.forEach(i),Z.forEach(i),v=V(H),u=f(H,"DIV",{class:!0});var $=d(u);h=f($,"SPAN",{class:!0});var L=d(h);E&&E.l(L),D=V(L),w&&w.l(L),y=V(L),I&&I.l(L),c=V(L),R&&R.l(L),L.forEach(i),$.forEach(i),T=V(H),k=f(H,"DIV",{class:!0});var G=d(k);A=f(G,"LABEL",{class:!0});var q=d(A);M=f(q,"INPUT",{type:!0,class:!0}),q.forEach(i),G.forEach(i),N=V(H),H.forEach(i),this.h()},h(){o(l,"class","text-lg font-medium"),o(t,"class","flex w-1/2"),o(h,"class","text-lg font-medium"),o(u,"class","flex w-1/4"),o(M,"type","checkbox"),o(M,"class","form-checkbox h-5 w-5 text-blue-600"),M.checked=C=a[13],o(A,"class","inline-flex items-center"),o(k,"class","form-checkbox w-1/4"),o(e,"class","flex flex-row justify-between items-center mx-4 border-b")},m(g,H){W(g,e,H),s(e,t),s(t,l),s(l,_),s(e,v),s(e,u),s(u,h),E&&E.m(h,null),s(h,D),w&&w.m(h,null),s(h,y),I&&I.m(h,null),s(h,c),R&&R.m(h,null),s(e,T),s(e,k),s(k,A),s(A,M),s(e,N),O||(b=Q(M,"change",U),O=!0)},p(g,H){a=g,H&64&&n!==(n=`${a[12].firstName.length>0?a[12].firstName.charAt(0)+".":""} ${a[12].lastName}`)&&le(_,n),a[12].position==0?E||(E=vl(),E.c(),E.m(h,D)):E&&(E.d(1),E=null),a[12].position==1?w||(w=hl(),w.c(),w.m(h,y)):w&&(w.d(1),w=null),a[12].position==2?I||(I=_l(),I.c(),I.m(h,c)):I&&(I.d(1),I=null),a[12].position==3?R||(R=ml(),R.c(),R.m(h,null)):R&&(R.d(1),R=null),H&96&&C!==(C=a[13])&&(M.checked=C)},d(g){g&&i(e),E&&E.d(),w&&w.d(),I&&I.d(),R&&R.d(),O=!1,b()}}}function cs(a){let e,t=a[3]&&dl(a);return{c(){t&&t.c(),e=Oe()},l(l){t&&t.l(l),e=Oe()},m(l,n){t&&t.m(l,n),W(l,e,n)},p(l,[n]){l[3]?t?t.p(l,n):(t=dl(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:Ae,o:Ae,d(l){t&&t.d(l),l&&i(e)}}}const bl=(a,e)=>a.position-e.position;function ds(a,e,t){let l,n=Ae,_=()=>(n(),n=Vt(c,b=>t(5,l=b)),c),v,u=Ae,h=()=>(u(),u=Vt(D,b=>t(6,v=b)),D);a.$$.on_destroy.push(()=>n()),a.$$.on_destroy.push(()=>u());let{teamPlayers:D=at([])}=e;h();let{selectedTeam:y}=e,{selectedPlayers:c=at([])}=e;_();let{show:T=!1}=e;function k(b,E){const w=b.target;let I=l,R=v;if(w.checked){const U=R.find(g=>g.id===E.id);U&&!I.some(g=>g.id===E.id)&&(I=[...I,U])}else I=I.filter(U=>U.id!==E.id);st(c,l=I,l)}let{closeModal:A}=e;function M(b){!(b.target instanceof HTMLInputElement)&&b.key==="Escape"&&A()}function C(b){Ht.call(this,a,b)}const N=(b,E)=>{k(E,b)},O=(b,E)=>E.id===b.id;return a.$$set=b=>{"teamPlayers"in b&&h(t(0,D=b.teamPlayers)),"selectedTeam"in b&&t(1,y=b.selectedTeam),"selectedPlayers"in b&&_(t(2,c=b.selectedPlayers)),"show"in b&&t(3,T=b.show),"closeModal"in b&&t(4,A=b.closeModal)},[D,y,c,T,A,l,v,k,M,C,N,O]}class vs extends It{constructor(e){super(),Dt(this,e,ds,cs,kt,{teamPlayers:0,selectedTeam:1,selectedPlayers:2,show:3,closeModal:4})}}function yl(a){let e,t,l,n,_,v,u,h,D,y,c,T,k,A,M,C,N,O,b,E,w,I,R,U;return{c(){e=r("div"),t=r("div"),l=r("div"),n=r("h4"),_=m("Confirm Fixture Data"),v=P(),u=r("button"),h=m("✕"),D=P(),y=r("div"),c=r("h1"),T=m("Please confirm your fixture data."),k=P(),A=r("p"),M=m(`You will not be able to edit your submission and entries that differ
          from the accepted consensus data will not receive $FPL rewards. If
          consensus has already been reached for the fixture your submission
          will also not be counted.`),C=P(),N=r("div"),O=r("button"),b=m("Cancel"),E=P(),w=r("button"),I=m("Confirm"),this.h()},l(g){e=f(g,"DIV",{class:!0});var H=d(e);t=f(H,"DIV",{class:!0});var Z=d(t);l=f(Z,"DIV",{class:!0});var J=d(l);n=f(J,"H4",{class:!0});var $=d(n);_=p($,"Confirm Fixture Data"),$.forEach(i),v=V(J),u=f(J,"BUTTON",{class:!0});var L=d(u);h=p(L,"✕"),L.forEach(i),J.forEach(i),D=V(Z),y=f(Z,"DIV",{class:!0});var G=d(y);c=f(G,"H1",{});var q=d(c);T=p(q,"Please confirm your fixture data."),q.forEach(i),k=V(G),A=f(G,"P",{class:!0});var Y=d(A);M=p(Y,`You will not be able to edit your submission and entries that differ
          from the accepted consensus data will not receive $FPL rewards. If
          consensus has already been reached for the fixture your submission
          will also not be counted.`),Y.forEach(i),G.forEach(i),C=V(Z),N=f(Z,"DIV",{class:!0});var x=d(N);O=f(x,"BUTTON",{class:!0});var fe=d(O);b=p(fe,"Cancel"),fe.forEach(i),E=V(x),w=f(x,"BUTTON",{class:!0});var he=d(w);I=p(he,"Confirm"),he.forEach(i),x.forEach(i),Z.forEach(i),H.forEach(i),this.h()},h(){o(n,"class","text-lg font-bold"),o(u,"class","text-black"),o(l,"class","flex justify-between items-center"),o(A,"class","text-sm text-gray-600"),o(y,"class","my-5"),o(O,"class","px-4 py-2 border rounded text-black"),o(w,"class","px-4 py-2 bg-blue-500 text-white rounded"),o(N,"class","flex justify-end gap-3"),o(t,"class","relative top-20 mx-auto p-5 border w-3/4 shadow-lg rounded-md"),o(e,"class","fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full")},m(g,H){W(g,e,H),s(e,t),s(t,l),s(l,n),s(n,_),s(l,v),s(l,u),s(u,h),s(t,D),s(t,y),s(y,c),s(c,T),s(y,k),s(y,A),s(A,M),s(t,C),s(t,N),s(N,O),s(O,b),s(N,E),s(N,w),s(w,I),R||(U=[Q(u,"click",a[2]),Q(O,"click",a[2]),Q(w,"click",function(){qe(a[1])&&a[1].apply(this,arguments)})],R=!0)},p(g,H){a=g},d(g){g&&i(e),R=!1,_t(U)}}}function hs(a){let e,t=a[0]&&yl(a);return{c(){t&&t.c(),e=Oe()},l(l){t&&t.l(l),e=Oe()},m(l,n){t&&t.m(l,n),W(l,e,n)},p(l,[n]){l[0]?t?t.p(l,n):(t=yl(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:Ae,o:Ae,d(l){t&&t.d(l),l&&i(e)}}}function _s(a,e,t){let{show:l=!1}=e,{onConfirm:n}=e;function _(){t(0,l=!1)}return a.$$set=v=>{"show"in v&&t(0,l=v.show),"onConfirm"in v&&t(1,n=v.onConfirm)},[l,n,_]}class ms extends It{constructor(e){super(),Dt(this,e,_s,hs,kt,{show:0,onConfirm:1})}}function El(a){let e,t,l,n,_,v,u,h,D,y,c,T,k,A;return{c(){e=r("div"),t=r("div"),l=r("div"),n=r("h3"),_=m("Please confirm you want to clear the draft from your cache."),v=P(),u=r("div"),h=r("button"),D=m("Cancel"),y=P(),c=r("button"),T=m("Clear"),this.h()},l(M){e=f(M,"DIV",{class:!0});var C=d(e);t=f(C,"DIV",{class:!0});var N=d(t);l=f(N,"DIV",{class:!0});var O=d(l);n=f(O,"H3",{class:!0});var b=d(n);_=p(b,"Please confirm you want to clear the draft from your cache."),b.forEach(i),O.forEach(i),v=V(N),u=f(N,"DIV",{class:!0});var E=d(u);h=f(E,"BUTTON",{class:!0});var w=d(h);D=p(w,"Cancel"),w.forEach(i),y=V(E),c=f(E,"BUTTON",{class:!0});var I=d(c);T=p(I,"Clear"),I.forEach(i),E.forEach(i),N.forEach(i),C.forEach(i),this.h()},h(){o(n,"class","text-lg leading-6 font-medium mb-2"),o(l,"class","mt-3 text-center"),o(h,"class","px-4 py-2 fpl-cancel-btn text-white text-base font-medium rounded-md w-full shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-300"),o(c,"class","px-4 py-2 fpl-purple-btn text-white text-base font-medium rounded-md w-full shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-300"),o(u,"class","items-center py-3 flex space-x-4"),o(t,"class","relative top-20 mx-auto p-5 border border-gray-700 w-96 shadow-lg rounded-md bg-panel text-white"),o(e,"class","fixed inset-0 bg-gray-900 bg-opacity-80 overflow-y-auto h-full w-full modal-backdrop")},m(M,C){W(M,e,C),s(e,t),s(t,l),s(l,n),s(n,_),s(t,v),s(t,u),s(u,h),s(h,D),s(u,y),s(u,c),s(c,T),k||(A=[Q(h,"click",function(){qe(a[2])&&a[2].apply(this,arguments)}),Q(c,"click",function(){qe(a[1])&&a[1].apply(this,arguments)}),Q(t,"click",Rt(a[4])),Q(t,"keydown",a[3]),Q(e,"click",function(){qe(a[2])&&a[2].apply(this,arguments)}),Q(e,"keydown",a[3])],k=!0)},p(M,C){a=M},d(M){M&&i(e),k=!1,_t(A)}}}function ps(a){let e,t=a[0]&&El(a);return{c(){t&&t.c(),e=Oe()},l(l){t&&t.l(l),e=Oe()},m(l,n){t&&t.m(l,n),W(l,e,n)},p(l,[n]){l[0]?t?t.p(l,n):(t=El(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:Ae,o:Ae,d(l){t&&t.d(l),l&&i(e)}}}function bs(a,e,t){let{show:l=!1}=e,{onConfirm:n}=e,{closeModal:_}=e;function v(h){!(h.target instanceof HTMLInputElement)&&h.key==="Escape"&&_()}function u(h){Ht.call(this,a,h)}return a.$$set=h=>{"show"in h&&t(0,l=h.show),"onConfirm"in h&&t(1,n=h.onConfirm),"closeModal"in h&&t(2,_=h.closeModal)},[l,n,_,v,u]}class ys extends It{constructor(e){super(),Dt(this,e,bs,ps,kt,{show:0,onConfirm:1,closeModal:2})}}function gl(a,e,t){const l=a.slice();return l[49]=e[t],l}function wl(a,e,t){const l=a.slice();return l[49]=e[t],l}function Il(a){let e,t,l,n,_=a[3]?.friendlyName+"",v,u,h,D,y,c,T=a[4]?.friendlyName+"",k,A,M,C,N,O,b,E,w,I,R,U,g,H,Z,J,$,L,G,q,Y,x,fe,he,ne,re,ue,Ie,B,F,X,se,De,ye=a[0].filter(Bl).length+"",ee,ke,Ee,ge,Fe=a[0].filter(Gl).length+"",Le,je,S,j,we=a[0].filter(Kl).length+"",ce,Ke,Te,Ze,Se=a[0].filter(Rl).length+"",Me,xe,Ue,nt,ie=a[0].filter(Hl).length+"",Be,oe,ae,_e,te=a[0].filter(ql).length+"",me,it,Pe,Je,Xe=a[0].filter(jl).length+"",Ve,ot,pe,rt,ze=a[0].filter(Yl).length+"",$e,ft,Re,ut,Qe=a[0].filter(Wl).length+"",et,Ye,He,Ne,ct,tt,dt,mt,de=a[11]==="home"&&Dl(a),ve=a[11]==="away"&&Sl(a);return{c(){e=r("div"),t=r("ul"),l=r("li"),n=r("button"),v=m(_),D=P(),y=r("li"),c=r("button"),k=m(T),C=P(),N=r("div"),O=r("div"),b=r("div"),E=m("Player"),w=P(),I=r("div"),R=m("Position"),U=P(),g=r("div"),H=m("Events"),Z=P(),J=r("div"),$=m("Start"),L=P(),G=r("div"),q=m("End"),Y=P(),x=r("div"),fe=m(" "),he=P(),de&&de.c(),ne=P(),ve&&ve.c(),re=P(),ue=r("div"),Ie=r("h1"),B=m("Summary"),F=P(),X=r("div"),se=r("div"),De=m("Appearances: "),ee=m(ye),ke=P(),Ee=r("div"),ge=m("Goals: "),Le=m(Fe),je=P(),S=r("div"),j=m("Own Goals: "),ce=m(we),Ke=P(),Te=r("div"),Ze=m("Assists: "),Me=m(Se),xe=P(),Ue=r("div"),nt=m("Keeper Saves: "),Be=m(ie),oe=P(),ae=r("div"),_e=m("Yellow Cards: "),me=m(te),it=P(),Pe=r("div"),Je=m("Red Cards: "),Ve=m(Xe),ot=P(),pe=r("div"),rt=m("Penalties Saved: "),$e=m(ze),ft=P(),Re=r("div"),ut=m("Penalties Missed: "),et=m(Qe),Ye=P(),He=r("div"),Ne=r("button"),ct=m("Submit Event Data"),this.h()},l(K){e=f(K,"DIV",{class:!0});var z=d(e);t=f(z,"UL",{class:!0});var lt=d(t);l=f(lt,"LI",{class:!0});var vt=d(l);n=f(vt,"BUTTON",{class:!0});var qt=d(n);v=p(qt,_),qt.forEach(i),vt.forEach(i),D=V(lt),y=f(lt,"LI",{class:!0});var jt=d(y);c=f(jt,"BUTTON",{class:!0});var Yt=d(c);k=p(Yt,T),Yt.forEach(i),jt.forEach(i),lt.forEach(i),z.forEach(i),C=V(K),N=f(K,"DIV",{class:!0});var ht=d(N);O=f(ht,"DIV",{class:!0});var Ce=d(O);b=f(Ce,"DIV",{class:!0});var Wt=d(b);E=p(Wt,"Player"),Wt.forEach(i),w=V(Ce),I=f(Ce,"DIV",{class:!0});var Jt=d(I);R=p(Jt,"Position"),Jt.forEach(i),U=V(Ce),g=f(Ce,"DIV",{class:!0});var Xt=d(g);H=p(Xt,"Events"),Xt.forEach(i),Z=V(Ce),J=f(Ce,"DIV",{class:!0});var zt=d(J);$=p(zt,"Start"),zt.forEach(i),L=V(Ce),G=f(Ce,"DIV",{class:!0});var Qt=d(G);q=p(Qt,"End"),Qt.forEach(i),Y=V(Ce),x=f(Ce,"DIV",{class:!0});var Zt=d(x);fe=p(Zt," "),Zt.forEach(i),Ce.forEach(i),he=V(ht),de&&de.l(ht),ne=V(ht),ve&&ve.l(ht),ht.forEach(i),re=V(K),ue=f(K,"DIV",{class:!0});var xt=d(ue);Ie=f(xt,"H1",{});var $t=d(Ie);B=p($t,"Summary"),$t.forEach(i),xt.forEach(i),F=V(K),X=f(K,"DIV",{class:!0});var be=d(X);se=f(be,"DIV",{class:!0});var St=d(se);De=p(St,"Appearances: "),ee=p(St,ye),St.forEach(i),ke=V(be),Ee=f(be,"DIV",{class:!0});var Mt=d(Ee);ge=p(Mt,"Goals: "),Le=p(Mt,Fe),Mt.forEach(i),je=V(be),S=f(be,"DIV",{class:!0});var Ct=d(S);j=p(Ct,"Own Goals: "),ce=p(Ct,we),Ct.forEach(i),Ke=V(be),Te=f(be,"DIV",{class:!0});var Ot=d(Te);Ze=p(Ot,"Assists: "),Me=p(Ot,Se),Ot.forEach(i),xe=V(be),Ue=f(be,"DIV",{class:!0});var At=d(Ue);nt=p(At,"Keeper Saves: "),Be=p(At,ie),At.forEach(i),oe=V(be),ae=f(be,"DIV",{class:!0});var Ft=d(ae);_e=p(Ft,"Yellow Cards: "),me=p(Ft,te),Ft.forEach(i),it=V(be),Pe=f(be,"DIV",{class:!0});var Lt=d(Pe);Je=p(Lt,"Red Cards: "),Ve=p(Lt,Xe),Lt.forEach(i),ot=V(be),pe=f(be,"DIV",{class:!0});var Ut=d(pe);rt=p(Ut,"Penalties Saved: "),$e=p(Ut,ze),Ut.forEach(i),ft=V(be),Re=f(be,"DIV",{class:!0});var Bt=d(Re);ut=p(Bt,"Penalties Missed: "),et=p(Bt,Qe),Bt.forEach(i),be.forEach(i),Ye=V(K),He=f(K,"DIV",{class:!0});var el=d(He);Ne=f(el,"BUTTON",{class:!0});var tl=d(Ne);ct=p(tl,"Submit Event Data"),tl.forEach(i),el.forEach(i),this.h()},h(){o(n,"class",u=`p-2 ${a[11]==="home"?"text-white":"text-gray-400"}`),o(l,"class",h=`mr-4 text-xs md:text-base ${a[11]==="home"?"active-tab":""}`),o(c,"class",A=`p-2 ${a[11]==="away"?"text-white":"text-gray-400"}`),o(y,"class",M=`mr-4 text-xs md:text-base ${a[11]==="away"?"active-tab":""}`),o(t,"class","flex bg-light-gray px-4 pt-2 w-full mt-4"),o(e,"class","flex w-full"),o(b,"class","w-1/6 px-4"),o(I,"class","w-1/6 px-4"),o(g,"class","w-1/6 px-4"),o(J,"class","w-1/6 px-4"),o(G,"class","w-1/6 px-4"),o(x,"class","w-1/6 px-4"),o(O,"class","flex items-center p-2 justify-between py-4 border-b border-gray-700 cursor-pointer w-full"),o(N,"class","flex w-full flex-col"),o(ue,"class","flex w-full m-4"),o(se,"class","text-sm font-medium flex-grow"),o(Ee,"class","text-sm font-medium flex-grow"),o(S,"class","text-sm font-medium flex-grow"),o(Te,"class","text-sm font-medium flex-grow"),o(Ue,"class","text-sm font-medium flex-grow"),o(ae,"class","text-sm font-medium flex-grow"),o(Pe,"class","text-sm font-medium flex-grow"),o(pe,"class","text-sm font-medium flex-grow"),o(Re,"class","text-sm font-medium flex-grow"),o(X,"class","flex flex-row w-full m-4"),o(Ne,"class",tt=`${a[12]?"bg-gray-500":"fpl-purple-btn"} 
            px-4 py-2 text-white text-base font-medium rounded-md w-full shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-300`),Ne.disabled=a[12],o(He,"class","items-center mt-3 flex space-x-4")},m(K,z){W(K,e,z),s(e,t),s(t,l),s(l,n),s(n,v),s(t,D),s(t,y),s(y,c),s(c,k),W(K,C,z),W(K,N,z),s(N,O),s(O,b),s(b,E),s(O,w),s(O,I),s(I,R),s(O,U),s(O,g),s(g,H),s(O,Z),s(O,J),s(J,$),s(O,L),s(O,G),s(G,q),s(O,Y),s(O,x),s(x,fe),s(N,he),de&&de.m(N,null),s(N,ne),ve&&ve.m(N,null),W(K,re,z),W(K,ue,z),s(ue,Ie),s(Ie,B),W(K,F,z),W(K,X,z),s(X,se),s(se,De),s(se,ee),s(X,ke),s(X,Ee),s(Ee,ge),s(Ee,Le),s(X,je),s(X,S),s(S,j),s(S,ce),s(X,Ke),s(X,Te),s(Te,Ze),s(Te,Me),s(X,xe),s(X,Ue),s(Ue,nt),s(Ue,Be),s(X,oe),s(X,ae),s(ae,_e),s(ae,me),s(X,it),s(X,Pe),s(Pe,Je),s(Pe,Ve),s(X,ot),s(X,pe),s(pe,rt),s(pe,$e),s(X,ft),s(X,Re),s(Re,ut),s(Re,et),W(K,Ye,z),W(K,He,z),s(He,Ne),s(Ne,ct),dt||(mt=[Q(n,"click",a[28]),Q(c,"click",a[29]),Q(Ne,"click",a[17])],dt=!0)},p(K,z){z[0]&8&&_!==(_=K[3]?.friendlyName+"")&&le(v,_),z[0]&2048&&u!==(u=`p-2 ${K[11]==="home"?"text-white":"text-gray-400"}`)&&o(n,"class",u),z[0]&2048&&h!==(h=`mr-4 text-xs md:text-base ${K[11]==="home"?"active-tab":""}`)&&o(l,"class",h),z[0]&16&&T!==(T=K[4]?.friendlyName+"")&&le(k,T),z[0]&2048&&A!==(A=`p-2 ${K[11]==="away"?"text-white":"text-gray-400"}`)&&o(c,"class",A),z[0]&2048&&M!==(M=`mr-4 text-xs md:text-base ${K[11]==="away"?"active-tab":""}`)&&o(y,"class",M),K[11]==="home"?de?de.p(K,z):(de=Dl(K),de.c(),de.m(N,ne)):de&&(de.d(1),de=null),K[11]==="away"?ve?ve.p(K,z):(ve=Sl(K),ve.c(),ve.m(N,null)):ve&&(ve.d(1),ve=null),z[0]&1&&ye!==(ye=K[0].filter(Bl).length+"")&&le(ee,ye),z[0]&1&&Fe!==(Fe=K[0].filter(Gl).length+"")&&le(Le,Fe),z[0]&1&&we!==(we=K[0].filter(Kl).length+"")&&le(ce,we),z[0]&1&&Se!==(Se=K[0].filter(Rl).length+"")&&le(Me,Se),z[0]&1&&ie!==(ie=K[0].filter(Hl).length+"")&&le(Be,ie),z[0]&1&&te!==(te=K[0].filter(ql).length+"")&&le(me,te),z[0]&1&&Xe!==(Xe=K[0].filter(jl).length+"")&&le(Ve,Xe),z[0]&1&&ze!==(ze=K[0].filter(Yl).length+"")&&le($e,ze),z[0]&1&&Qe!==(Qe=K[0].filter(Wl).length+"")&&le(et,Qe),z[0]&4096&&tt!==(tt=`${K[12]?"bg-gray-500":"fpl-purple-btn"} 
            px-4 py-2 text-white text-base font-medium rounded-md w-full shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-300`)&&o(Ne,"class",tt),z[0]&4096&&(Ne.disabled=K[12])},d(K){K&&i(e),K&&i(C),K&&i(N),de&&de.d(),ve&&ve.d(),K&&i(re),K&&i(ue),K&&i(F),K&&i(X),K&&i(Ye),K&&i(He),dt=!1,_t(mt)}}}function Dl(a){let e=[],t=new Map,l,n=a[1].filter(a[30]);const _=v=>v[49].id;for(let v=0;v<n.length;v+=1){let u=wl(a,n,v),h=_(u);t.set(h,e[v]=Vl(h,u))}return{c(){for(let v=0;v<e.length;v+=1)e[v].c();l=Oe()},l(v){for(let u=0;u<e.length;u+=1)e[u].l(v);l=Oe()},m(v,u){for(let h=0;h<e.length;h+=1)e[h]&&e[h].m(v,u);W(v,l,u)},p(v,u){u[0]&2097159&&(n=v[1].filter(v[30]),e=Xl(e,u,_,1,v,n,t,l.parentNode,zl,Vl,l,wl))},d(v){for(let u=0;u<e.length;u+=1)e[u].d(v);v&&i(l)}}}function kl(a){let e,t;return{c(){e=r("div"),t=m("GK"),this.h()},l(l){e=f(l,"DIV",{class:!0});var n=d(e);t=p(n,"GK"),n.forEach(i),this.h()},h(){o(e,"class","w-1/6 px-4")},m(l,n){W(l,e,n),s(e,t)},d(l){l&&i(e)}}}function Tl(a){let e,t;return{c(){e=r("div"),t=m("DF"),this.h()},l(l){e=f(l,"DIV",{class:!0});var n=d(e);t=p(n,"DF"),n.forEach(i),this.h()},h(){o(e,"class","w-1/6 px-4")},m(l,n){W(l,e,n),s(e,t)},d(l){l&&i(e)}}}function Nl(a){let e,t;return{c(){e=r("div"),t=m("MF"),this.h()},l(l){e=f(l,"DIV",{class:!0});var n=d(e);t=p(n,"MF"),n.forEach(i),this.h()},h(){o(e,"class","w-1/6 px-4")},m(l,n){W(l,e,n),s(e,t)},d(l){l&&i(e)}}}function Pl(a){let e,t;return{c(){e=r("div"),t=m("FW"),this.h()},l(l){e=f(l,"DIV",{class:!0});var n=d(e);t=p(n,"FW"),n.forEach(i),this.h()},h(){o(e,"class","w-1/6 px-4")},m(l,n){W(l,e,n),s(e,t)},d(l){l&&i(e)}}}function Vl(a,e){let t,l,n=`${e[49].firstName.length>0?e[49].firstName.charAt(0)+".":""} ${e[49].lastName}`,_,v,u,h,D,y,c,T,k=(e[0]?.length>0&&e[0]?.filter(x).length?e[0]?.filter(fe).length:0)+"",A,M,C,N=(e[0]&&e[0]?.length>0&&e[0]?.find(he)?e[0]?.find(ne)?.eventStartMinute:"-")+"",O,b,E,w=(e[0]&&e[0]?.length>0&&e[0]?.find(re)?e[0]?.find(ue)?.eventEndMinute:"-")+"",I,R,U,g,H,Z,J,$,L=e[49].position==0&&kl(),G=e[49].position==1&&Tl(),q=e[49].position==2&&Nl(),Y=e[49].position==3&&Pl();function x(...B){return e[31](e[49],...B)}function fe(...B){return e[32](e[49],...B)}function he(...B){return e[33](e[49],...B)}function ne(...B){return e[34](e[49],...B)}function re(...B){return e[35](e[49],...B)}function ue(...B){return e[36](e[49],...B)}function Ie(){return e[37](e[49])}return{key:a,first:null,c(){t=r("div"),l=r("div"),_=m(n),v=P(),L&&L.c(),u=P(),G&&G.c(),h=P(),q&&q.c(),D=P(),Y&&Y.c(),y=P(),c=r("div"),T=m(`Events:
                  `),A=m(k),M=P(),C=r("div"),O=m(N),b=P(),E=r("div"),I=m(w),R=P(),U=r("div"),g=r("button"),H=m("Update Events"),Z=P(),this.h()},l(B){t=f(B,"DIV",{class:!0});var F=d(t);l=f(F,"DIV",{class:!0});var X=d(l);_=p(X,n),X.forEach(i),v=V(F),L&&L.l(F),u=V(F),G&&G.l(F),h=V(F),q&&q.l(F),D=V(F),Y&&Y.l(F),y=V(F),c=f(F,"DIV",{class:!0});var se=d(c);T=p(se,`Events:
                  `),A=p(se,k),se.forEach(i),M=V(F),C=f(F,"DIV",{class:!0});var De=d(C);O=p(De,N),De.forEach(i),b=V(F),E=f(F,"DIV",{class:!0});var ye=d(E);I=p(ye,w),ye.forEach(i),R=V(F),U=f(F,"DIV",{class:!0});var ee=d(U);g=f(ee,"BUTTON",{class:!0});var ke=d(g);H=p(ke,"Update Events"),ke.forEach(i),ee.forEach(i),Z=V(F),F.forEach(i),this.h()},h(){o(l,"class","w-1/6 px-4"),o(c,"class","w-1/6 px-4"),o(C,"class","w-1/6 px-4"),o(E,"class","w-1/6 px-4"),o(g,"class","text-base sm:text-xs md:text-base rounded fpl-button px-3 sm:px-2 px-3 py-1 ml-1"),o(U,"class","w-1/6 px-4"),o(t,"class","flex items-center p-2 justify-between py-4 border-b border-gray-700 cursor-pointer w-full"),this.first=t},m(B,F){W(B,t,F),s(t,l),s(l,_),s(t,v),L&&L.m(t,null),s(t,u),G&&G.m(t,null),s(t,h),q&&q.m(t,null),s(t,D),Y&&Y.m(t,null),s(t,y),s(t,c),s(c,T),s(c,A),s(t,M),s(t,C),s(C,O),s(t,b),s(t,E),s(E,I),s(t,R),s(t,U),s(U,g),s(g,H),s(t,Z),J||($=Q(g,"click",Ie),J=!0)},p(B,F){e=B,F[0]&6&&n!==(n=`${e[49].firstName.length>0?e[49].firstName.charAt(0)+".":""} ${e[49].lastName}`)&&le(_,n),e[49].position==0?L||(L=kl(),L.c(),L.m(t,u)):L&&(L.d(1),L=null),e[49].position==1?G||(G=Tl(),G.c(),G.m(t,h)):G&&(G.d(1),G=null),e[49].position==2?q||(q=Nl(),q.c(),q.m(t,D)):q&&(q.d(1),q=null),e[49].position==3?Y||(Y=Pl(),Y.c(),Y.m(t,y)):Y&&(Y.d(1),Y=null),F[0]&7&&k!==(k=(e[0]?.length>0&&e[0]?.filter(x).length?e[0]?.filter(fe).length:0)+"")&&le(A,k),F[0]&7&&N!==(N=(e[0]&&e[0]?.length>0&&e[0]?.find(he)?e[0]?.find(ne)?.eventStartMinute:"-")+"")&&le(O,N),F[0]&7&&w!==(w=(e[0]&&e[0]?.length>0&&e[0]?.find(re)?e[0]?.find(ue)?.eventEndMinute:"-")+"")&&le(I,w)},d(B){B&&i(t),L&&L.d(),G&&G.d(),q&&q.d(),Y&&Y.d(),J=!1,$()}}}function Sl(a){let e=[],t=new Map,l,n=a[1].filter(a[38]);const _=v=>v[49].id;for(let v=0;v<n.length;v+=1){let u=gl(a,n,v),h=_(u);t.set(h,e[v]=Fl(h,u))}return{c(){for(let v=0;v<e.length;v+=1)e[v].c();l=Oe()},l(v){for(let u=0;u<e.length;u+=1)e[u].l(v);l=Oe()},m(v,u){for(let h=0;h<e.length;h+=1)e[h]&&e[h].m(v,u);W(v,l,u)},p(v,u){u[0]&2097159&&(n=v[1].filter(v[38]),e=Xl(e,u,_,1,v,n,t,l.parentNode,zl,Fl,l,gl))},d(v){for(let u=0;u<e.length;u+=1)e[u].d(v);v&&i(l)}}}function Ml(a){let e,t;return{c(){e=r("div"),t=m("GK"),this.h()},l(l){e=f(l,"DIV",{class:!0});var n=d(e);t=p(n,"GK"),n.forEach(i),this.h()},h(){o(e,"class","w-1/6 px-4")},m(l,n){W(l,e,n),s(e,t)},d(l){l&&i(e)}}}function Cl(a){let e,t;return{c(){e=r("div"),t=m("DF"),this.h()},l(l){e=f(l,"DIV",{class:!0});var n=d(e);t=p(n,"DF"),n.forEach(i),this.h()},h(){o(e,"class","w-1/6 px-4")},m(l,n){W(l,e,n),s(e,t)},d(l){l&&i(e)}}}function Ol(a){let e,t;return{c(){e=r("div"),t=m("MF"),this.h()},l(l){e=f(l,"DIV",{class:!0});var n=d(e);t=p(n,"MF"),n.forEach(i),this.h()},h(){o(e,"class","w-1/6 px-4")},m(l,n){W(l,e,n),s(e,t)},d(l){l&&i(e)}}}function Al(a){let e,t;return{c(){e=r("div"),t=m("FW"),this.h()},l(l){e=f(l,"DIV",{class:!0});var n=d(e);t=p(n,"FW"),n.forEach(i),this.h()},h(){o(e,"class","w-1/6 px-4")},m(l,n){W(l,e,n),s(e,t)},d(l){l&&i(e)}}}function Fl(a,e){let t,l,n=`${e[49].firstName.length>0?e[49].firstName.charAt(0)+".":""} ${e[49].lastName}`,_,v,u,h,D,y,c,T,k=(e[0]?.length>0&&e[0]?.filter(x).length?e[0]?.filter(fe).length:0)+"",A,M,C,N=(e[0]&&e[0]?.length>0&&e[0]?.find(he)?e[0]?.find(ne)?.eventStartMinute:"-")+"",O,b,E,w=(e[0]&&e[0]?.length>0&&e[0]?.find(re)?e[0]?.find(ue)?.eventEndMinute:"-")+"",I,R,U,g,H,Z,J,$,L=e[49].position==0&&Ml(),G=e[49].position==1&&Cl(),q=e[49].position==2&&Ol(),Y=e[49].position==3&&Al();function x(...B){return e[39](e[49],...B)}function fe(...B){return e[40](e[49],...B)}function he(...B){return e[41](e[49],...B)}function ne(...B){return e[42](e[49],...B)}function re(...B){return e[43](e[49],...B)}function ue(...B){return e[44](e[49],...B)}function Ie(){return e[45](e[49])}return{key:a,first:null,c(){t=r("div"),l=r("div"),_=m(n),v=P(),L&&L.c(),u=P(),G&&G.c(),h=P(),q&&q.c(),D=P(),Y&&Y.c(),y=P(),c=r("div"),T=m(`Events:
                  `),A=m(k),M=P(),C=r("div"),O=m(N),b=P(),E=r("div"),I=m(w),R=P(),U=r("div"),g=r("button"),H=m("Update Events"),Z=P(),this.h()},l(B){t=f(B,"DIV",{class:!0});var F=d(t);l=f(F,"DIV",{class:!0});var X=d(l);_=p(X,n),X.forEach(i),v=V(F),L&&L.l(F),u=V(F),G&&G.l(F),h=V(F),q&&q.l(F),D=V(F),Y&&Y.l(F),y=V(F),c=f(F,"DIV",{class:!0});var se=d(c);T=p(se,`Events:
                  `),A=p(se,k),se.forEach(i),M=V(F),C=f(F,"DIV",{class:!0});var De=d(C);O=p(De,N),De.forEach(i),b=V(F),E=f(F,"DIV",{class:!0});var ye=d(E);I=p(ye,w),ye.forEach(i),R=V(F),U=f(F,"DIV",{class:!0});var ee=d(U);g=f(ee,"BUTTON",{class:!0});var ke=d(g);H=p(ke,"Update Events"),ke.forEach(i),ee.forEach(i),Z=V(F),F.forEach(i),this.h()},h(){o(l,"class","w-1/6 px-4"),o(c,"class","w-1/6 px-4"),o(C,"class","w-1/6 px-4"),o(E,"class","w-1/6 px-4"),o(g,"class","text-base sm:text-xs md:text-base rounded fpl-button px-3 sm:px-2 px-3 py-1 ml-1"),o(U,"class","w-1/6 px-4"),o(t,"class","flex items-center p-2 justify-between py-4 border-b border-gray-700 cursor-pointer w-full"),this.first=t},m(B,F){W(B,t,F),s(t,l),s(l,_),s(t,v),L&&L.m(t,null),s(t,u),G&&G.m(t,null),s(t,h),q&&q.m(t,null),s(t,D),Y&&Y.m(t,null),s(t,y),s(t,c),s(c,T),s(c,A),s(t,M),s(t,C),s(C,O),s(t,b),s(t,E),s(E,I),s(t,R),s(t,U),s(U,g),s(g,H),s(t,Z),J||($=Q(g,"click",Ie),J=!0)},p(B,F){e=B,F[0]&6&&n!==(n=`${e[49].firstName.length>0?e[49].firstName.charAt(0)+".":""} ${e[49].lastName}`)&&le(_,n),e[49].position==0?L||(L=Ml(),L.c(),L.m(t,u)):L&&(L.d(1),L=null),e[49].position==1?G||(G=Cl(),G.c(),G.m(t,h)):G&&(G.d(1),G=null),e[49].position==2?q||(q=Ol(),q.c(),q.m(t,D)):q&&(q.d(1),q=null),e[49].position==3?Y||(Y=Al(),Y.c(),Y.m(t,y)):Y&&(Y.d(1),Y=null),F[0]&7&&k!==(k=(e[0]?.length>0&&e[0]?.filter(x).length?e[0]?.filter(fe).length:0)+"")&&le(A,k),F[0]&7&&N!==(N=(e[0]&&e[0]?.length>0&&e[0]?.find(he)?e[0]?.find(ne)?.eventStartMinute:"-")+"")&&le(O,N),F[0]&7&&w!==(w=(e[0]&&e[0]?.length>0&&e[0]?.find(re)?e[0]?.find(ue)?.eventEndMinute:"-")+"")&&le(I,w)},d(B){B&&i(t),L&&L.d(),G&&G.d(),q&&q.d(),Y&&Y.d(),J=!1,$()}}}function Es(a){let e,t,l,n,_,v,u,h,D,y,c,T,k,A,M=!a[14]&&Il(a);return{c(){e=r("div"),t=r("div"),l=r("div"),n=r("button"),_=m("Select Players"),v=P(),u=r("button"),h=m("Save Draft"),D=P(),y=r("button"),c=m("Clear Draft"),T=P(),M&&M.c(),this.h()},l(C){e=f(C,"DIV",{class:!0});var N=d(e);t=f(N,"DIV",{class:!0});var O=d(t);l=f(O,"DIV",{class:!0});var b=d(l);n=f(b,"BUTTON",{class:!0});var E=d(n);_=p(E,"Select Players"),E.forEach(i),v=V(b),u=f(b,"BUTTON",{class:!0});var w=d(u);h=p(w,"Save Draft"),w.forEach(i),D=V(b),y=f(b,"BUTTON",{class:!0});var I=d(y);c=p(I,"Clear Draft"),I.forEach(i),b.forEach(i),T=V(O),M&&M.l(O),O.forEach(i),N.forEach(i),this.h()},h(){o(n,"class","fpl-button px-4 py-2"),o(u,"class","fpl-button px-4 py-2"),o(y,"class","fpl-button px-4 py-2"),o(l,"class","flex flex-row space-x-2 p-4"),o(t,"class","flex flex-col text-xs md:text-base mt-4"),o(e,"class","container-fluid mx-4 md:mx-16 mt-4 bg-panel")},m(C,N){W(C,e,N),s(e,t),s(t,l),s(l,n),s(n,_),s(l,v),s(l,u),s(u,h),s(l,D),s(l,y),s(y,c),s(t,T),M&&M.m(t,null),k||(A=[Q(n,"click",a[23]),Q(u,"click",a[18]),Q(y,"click",a[25])],k=!0)},p(C,N){C[14]?M&&(M.d(1),M=null):M?M.p(C,N):(M=Il(C),M.c(),M.m(t,null))},d(C){C&&i(e),M&&M.d(),k=!1,_t(A)}}}function Ll(a){let e,t;return e=new vs({props:{show:a[5],teamPlayers:a[15],selectedTeam:a[8],selectedPlayers:a[16],closeModal:a[24]}}),{c(){yt(e.$$.fragment)},l(l){Et(e.$$.fragment,l)},m(l,n){gt(e,l,n),t=!0},p(l,n){const _={};n[0]&32&&(_.show=l[5]),n[0]&256&&(_.selectedTeam=l[8]),e.$set(_)},i(l){t||(Ge(e.$$.fragment,l),t=!0)},o(l){We(e.$$.fragment,l),t=!1},d(l){wt(e,l)}}}function Ul(a){let e,t;return e=new us({props:{show:a[6],player:a[9],fixtureId:a[13],playerEventData:a[10],closeModal:a[22]}}),{c(){yt(e.$$.fragment)},l(l){Et(e.$$.fragment,l)},m(l,n){gt(e,l,n),t=!0},p(l,n){const _={};n[0]&64&&(_.show=l[6]),n[0]&512&&(_.player=l[9]),n[0]&8192&&(_.fixtureId=l[13]),n[0]&1024&&(_.playerEventData=l[10]),e.$set(_)},i(l){t||(Ge(e.$$.fragment,l),t=!0)},o(l){We(e.$$.fragment,l),t=!1},d(l){wt(e,l)}}}function gs(a){let e,t,l,n,_,v,u,h;e=new ss({props:{$$slots:{default:[Es]},$$scope:{ctx:a}}});let D=a[8]&&Ll(a),y=a[9]&&Ul(a);return _=new ms({props:{show:ws,onConfirm:a[17]}}),u=new ys({props:{closeModal:a[26],show:a[7],onConfirm:a[19]}}),{c(){yt(e.$$.fragment),t=P(),D&&D.c(),l=P(),y&&y.c(),n=P(),yt(_.$$.fragment),v=P(),yt(u.$$.fragment)},l(c){Et(e.$$.fragment,c),t=V(c),D&&D.l(c),l=V(c),y&&y.l(c),n=V(c),Et(_.$$.fragment,c),v=V(c),Et(u.$$.fragment,c)},m(c,T){gt(e,c,T),W(c,t,T),D&&D.m(c,T),W(c,l,T),y&&y.m(c,T),W(c,n,T),gt(_,c,T),W(c,v,T),gt(u,c,T),h=!0},p(c,T){const k={};T[0]&22559|T[1]&8388608&&(k.$$scope={dirty:T,ctx:c}),e.$set(k),c[8]?D?(D.p(c,T),T[0]&256&&Ge(D,1)):(D=Ll(c),D.c(),Ge(D,1),D.m(l.parentNode,l)):D&&(al(),We(D,1,1,()=>{D=null}),sl()),c[9]?y?(y.p(c,T),T[0]&512&&Ge(y,1)):(y=Ul(c),y.c(),Ge(y,1),y.m(n.parentNode,n)):y&&(al(),We(y,1,1,()=>{y=null}),sl());const A={};T[0]&128&&(A.show=c[7]),u.$set(A)},i(c){h||(Ge(e.$$.fragment,c),Ge(D),Ge(y),Ge(_.$$.fragment,c),Ge(u.$$.fragment,c),h=!0)},o(c){We(e.$$.fragment,c),We(D),We(y),We(_.$$.fragment,c),We(u.$$.fragment,c),h=!1},d(c){wt(e,c),c&&i(t),D&&D.d(c),c&&i(l),y&&y.d(c),c&&i(n),wt(_,c),c&&i(v),wt(u,c)}}}let ws=!1;const Bl=a=>a.eventType==0,Gl=a=>a.eventType==1,Kl=a=>a.eventType==10,Rl=a=>a.eventType==2,Hl=a=>a.eventType==4,ql=a=>a.eventType==8,jl=a=>a.eventType==9,Yl=a=>a.eventType==6,Wl=a=>a.eventType==7;function Is(a,e,t){let l,n,_=Ae,v=()=>(_(),_=Vt(R,S=>t(0,n=S)),R),u,h,D,y;Nt(a,Gt,S=>t(48,u=S)),Nt(a,bt,S=>t(14,h=S)),Nt(a,es,S=>t(27,y=S)),a.$$.on_destroy.push(()=>_());let c=[],T=[],k,A,M,C=!1,N=!1,O=!1,b=at([]),E=at([]);Nt(a,E,S=>t(1,D=S));let w=null,I=null,R=at([]);v();let U="home",g=!0;xl(async()=>{st(bt,h=!0,h);try{await nl.sync(),await il.sync(),await Kt.sync(),nl.subscribe(we=>{c=we}),Kt.subscribe(we=>{T=we}),il.subscribe(we=>{t(2,k=we.find(ce=>ce.id==l)),t(3,A=c.find(ce=>ce.id==k?.homeTeamId)),t(4,M=c.find(ce=>ce.id==k?.awayTeamId)),t(8,w=A),b.set(T.filter(ce=>ce.teamId==w?.id))});const S=`fixtureDraft_${l}`,j=localStorage.getItem(S);if(j){let ce=JSON.parse(j).playerEventData[0];ce&&R.set(ce)}}catch(S){pt.show("Error fetching fixture validation list.","error"),console.error("Error fetching fixture validation list.",S)}finally{st(bt,h=!1,h)}}),$l(()=>{});async function H(){st(bt,h=!0,h),st(Gt,u="Saving Fixture Data",u);try{await os.submitFixtureData(l,n),localStorage.removeItem(`fixtureDraft_${l}`),pt.show("Fixture data saved","success"),as("/fixture-validation")}catch(S){pt.show("Error saving fixture data.","error"),console.error("Error saving fixture data: ",S)}finally{st(bt,h=!1,h),st(Gt,u="Loading",u)}}function Z(){const S={playerEventData:n},j=`fixtureDraft_${l}`;localStorage.setItem(j,JSON.stringify(S,ns)),pt.show("Draft saved.","success")}function J(){v(t(10,R=at([]))),localStorage.removeItem(`fixtureDraft_${l}`),pt.show("Draft cleared.","success"),fe()}async function $(S){await Kt.sync(),t(8,w=S==="home"?A:M),b.set(T.filter(j=>j.teamId==w?.id)),t(11,U=S)}function L(S){t(9,I=S),t(6,N=!0)}function G(){t(6,N=!1),t(9,I=null)}function q(){t(5,C=!0)}function Y(){t(5,C=!1)}function x(){t(7,O=!0)}function fe(){t(7,O=!1)}const he=()=>$("home"),ne=()=>$("away"),re=S=>S.teamId===k?.homeTeamId,ue=(S,j)=>j.playerId===S.id,Ie=(S,j)=>j.playerId===S.id,B=(S,j)=>j.playerId===S.id&&j.eventType==0,F=(S,j)=>j.playerId===S.id,X=(S,j)=>j.playerId===S.id&&j.eventType==0,se=(S,j)=>j.playerId===S.id,De=S=>L(S),ye=S=>S.teamId===k?.awayTeamId,ee=(S,j)=>j.playerId===S.id,ke=(S,j)=>j.playerId===S.id,Ee=(S,j)=>j.playerId===S.id&&j.eventType==0,ge=(S,j)=>j.playerId===S.id,Fe=(S,j)=>j.playerId===S.id&&j.eventType==0,Le=(S,j)=>j.playerId===S.id,je=S=>L(S);return a.$$.update=()=>{a.$$.dirty[0]&134217728&&t(13,l=Number(y.url.searchParams.get("id"))),a.$$.dirty[0]&3&&t(12,g=n.length==0||n.filter(S=>S.eventType==0).length!=D.length)},[n,D,k,A,M,C,N,O,w,I,R,U,g,l,h,b,E,H,Z,J,$,L,G,q,Y,x,fe,y,he,ne,re,ue,Ie,B,F,X,se,De,ye,ee,ke,Ee,ge,Fe,Le,je]}class Ms extends It{constructor(e){super(),Dt(this,e,Is,gs,kt,{},null,[-1,-1])}}export{Ms as component};
