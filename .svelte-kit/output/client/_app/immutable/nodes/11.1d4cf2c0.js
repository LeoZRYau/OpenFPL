import{S as Ye,i as Xe,s as je,$ as la,a0 as sa,m as _,h as n,n as r,U as Ve,p as Re,b as ce,G as l,L as J,H as Ee,e as Be,k as u,q as U,a as D,l as d,r as M,c as P,V as fa,Q as ea,a5 as ya,R as Ea,N as ta,T as Ia,o as ra,O as wa,J as Na,K as _a,M as Ta,u as $e,P as Da,v as oa,d as oe,f as ia,g as se,I as Ze,w as Pa,y as Se,z as Fe,_ as qe,A as Le,B as Ue}from"../chunks/index.245a0e92.js";import{l as Ke,L as Aa,a as Ca,i as ka,g as Ra}from"../chunks/Layout.0578a0e9.js";import{M as Sa}from"../chunks/manager-gameweeks.9b0384de.js";import{w as We}from"../chunks/index.c203a7c8.js";import{a as Me,t as Ne}from"../chunks/toast-store.4fb1a6f1.js";import{A as Oe,r as Fa,t as aa}from"../chunks/team-store.1430ecc0.js";import{s as ma}from"../chunks/system-store.c086a53a.js";function La(){const{subscribe:s,set:e,update:a}=We(null);async function t(){try{const f=await Oe.createIdentityActor(Me,"bkyz2-fmaaa-aaaaa-qaaaq-cai");let p=await f.getProfileDTO();p||(await f.createProfile(),p=await f.getProfileDTO()),localStorage.setItem("user_profile_data",JSON.stringify(p,Fa)),e(p)}catch(f){throw console.error("Error fetching user profile:",f),f}}async function o(){try{return await(await Oe.createIdentityActor(Me,"bkyz2-fmaaa-aaaaa-qaaaq-cai")).createProfile()}catch(f){throw console.error("Error updating username:",f),f}}async function c(f){try{return await(await Oe.createIdentityActor(Me,"bkyz2-fmaaa-aaaaa-qaaaq-cai")).updateDisplayName(f)}catch(p){throw console.error("Error updating username:",p),p}}async function h(f){try{return await(await Oe.createIdentityActor(Me,"bkyz2-fmaaa-aaaaa-qaaaq-cai")).updateFavouriteTeam(f)}catch(p){throw console.error("Error updating favourite team:",p),p}}async function m(){try{const p=await(await Oe.createIdentityActor(Me,"bkyz2-fmaaa-aaaaa-qaaaq-cai")).getProfileDTO();return e(p),p}catch(f){throw console.error("Error getting profile:",f),f}}async function i(f){try{if(f.size>1e3*1024)return null;const v=new FileReader;v.readAsArrayBuffer(f),v.onloadend=async()=>{const y=v.result,E=new Uint8Array(y);try{return await(await Oe.createIdentityActor(Me,"bkyz2-fmaaa-aaaaa-qaaaq-cai")).updateProfilePicture(E)}catch(I){console.error(I)}}}catch(p){throw console.error("Error updating username:",p),p}}return{subscribe:s,sync:t,updateUsername:c,updateFavouriteTeam:h,getProfile:m,updateProfilePicture:i,createProfile:o}}const fe=La();function Ua(s){let e,a,t,o,c,h;return{c(){e=la("svg"),a=la("path"),t=la("path"),this.h()},l(m){e=sa(m,"svg",{xmlns:!0,"aria-hidden":!0,class:!0,fill:!0,viewBox:!0,style:!0});var i=_(e);a=sa(i,"path",{d:!0}),_(a).forEach(n),t=sa(i,"path",{d:!0}),_(t).forEach(n),i.forEach(n),this.h()},h(){r(a,"d","M12.136.326A1.5 1.5 0 0 1 14 1.78V3h.5A1.5 1.5 0 0 1 16 4.5v9a1.5 1.5 0 0 1-1.5 1.5h-13A1.5 1.5 0 0 1 0 13.5v-9a1.5 1.5 0 0 1 1.432-1.499L12.136.326zM5.562 3H13V1.78a.5.5 0 0 0-.621-.484L5.562 3zM1.5 4a.5.5 0 0 0-.5.5v9a.5.5 0 0 0 .5.5h13a.5.5 0 0 0 .5-.5v-9a.5.5 0 0 0-.5-.5h-13z"),r(t,"d","M3.5 2a.5.5 0 0 0-.5.5v10a.5.5 0 0 0 .5.5h9a.5.5 0 0 0 .5-.5v-10a.5.5 0 0 0-.5-.5h-9zM2 2.5A1.5 1.5 0 0 1 3.5 1h9A1.5 1.5 0 0 1 14 2.5v10a1.5 1.5 0 0 1-1.5 1.5h-9A1.5 1.5 0 0 1 2 12.5v-10zm9.5 3A1.5 1.5 0 0 1 13 7h1.5V3.5a1.5 1.5 0 0 0-1.5-1.5H9V4a1.5 1.5 0 0 1 1.5 1.5v1zm0 1a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1z"),r(e,"xmlns","http://www.w3.org/2000/svg"),r(e,"aria-hidden","true"),r(e,"class",o=Ve(s[0])+" svelte-1qbujws"),r(e,"fill","currentColor"),r(e,"viewBox","0 0 16 16"),Re(e,"--hover-color",s[3]),Re(e,"cursor","'pointer'")},m(m,i){ce(m,e,i),l(e,a),l(e,t),c||(h=J(e,"click",s[4]),c=!0)},p(m,[i]){i&1&&o!==(o=Ve(m[0])+" svelte-1qbujws")&&r(e,"class",o),i&8&&Re(e,"--hover-color",m[3])},i:Ee,o:Ee,d(m){m&&n(e),c=!1,h()}}}function Ma(s,e,a){let{className:t=""}=e,{principalId:o=""}=e,{onClick:c}=e,{hoverColor:h="red"}=e;const m=()=>c(o);return s.$$set=i=>{"className"in i&&a(0,t=i.className),"principalId"in i&&a(1,o=i.principalId),"onClick"in i&&a(2,c=i.onClick),"hoverColor"in i&&a(3,h=i.hoverColor)},[t,o,c,h,m]}class Oa extends Ye{constructor(e){super(),Xe(this,e,Ma,Ua,je,{className:0,principalId:1,onClick:2,hoverColor:3})}}function pa(s){let e,a,t,o,c,h,m,i,f,p,v,y,E,I,g,w,A,O,V;return{c(){e=u("div"),a=u("div"),t=u("div"),o=u("h3"),c=U("Update Display Name"),h=D(),m=u("form"),i=u("div"),f=u("input"),p=D(),v=u("div"),y=u("button"),E=U("Cancel"),I=D(),g=u("button"),w=U("Use"),this.h()},l(B){e=d(B,"DIV",{class:!0});var H=_(e);a=d(H,"DIV",{class:!0});var R=_(a);t=d(R,"DIV",{class:!0});var F=_(t);o=d(F,"H3",{class:!0});var C=_(o);c=M(C,"Update Display Name"),C.forEach(n),h=P(F),m=d(F,"FORM",{});var k=_(m);i=d(k,"DIV",{class:!0});var q=_(i);f=d(q,"INPUT",{type:!0,class:!0,placeholder:!0}),q.forEach(n),p=P(k),v=d(k,"DIV",{class:!0});var x=_(v);y=d(x,"BUTTON",{class:!0});var G=_(y);E=M(G,"Cancel"),G.forEach(n),I=P(x),g=d(x,"BUTTON",{class:!0,type:!0});var S=_(g);w=M(S,"Use"),S.forEach(n),x.forEach(n),k.forEach(n),F.forEach(n),R.forEach(n),H.forEach(n),this.h()},h(){r(o,"class","text-lg leading-6 font-medium mb-2"),r(f,"type","text"),r(f,"class","w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-black"),r(f,"placeholder","New Username"),r(i,"class","mt-4"),r(y,"class","px-4 py-2 fpl-cancel-btn text-white text-base font-medium rounded-md w-full shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-300"),r(g,"class",A=Ve(`px-4 py-2 ${s[3]?"bg-gray-500":"fpl-purple-btn"} text-white text-base font-medium rounded-md w-full shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-300`)+" svelte-1fl295u"),r(g,"type","submit"),g.disabled=s[3],r(v,"class","items-center py-3 flex space-x-4"),r(t,"class","mt-3 text-center"),r(a,"class","relative top-20 mx-auto p-5 border border-gray-700 w-96 shadow-lg rounded-md bg-panel text-white"),r(e,"class","fixed inset-0 bg-gray-900 bg-opacity-80 overflow-y-auto h-full w-full modal-backdrop svelte-1fl295u")},m(B,H){ce(B,e,H),l(e,a),l(a,t),l(t,o),l(o,c),l(t,h),l(t,m),l(m,i),l(i,f),fa(f,s[0]),l(m,p),l(m,v),l(v,y),l(y,E),l(v,I),l(v,g),l(g,w),O||(V=[J(f,"input",s[9]),J(y,"click",function(){ea(s[2])&&s[2].apply(this,arguments)}),J(m,"submit",ya(s[4])),J(a,"click",Ea(s[8])),J(a,"keydown",s[5]),J(e,"click",function(){ea(s[2])&&s[2].apply(this,arguments)}),J(e,"keydown",s[5])],O=!0)},p(B,H){s=B,H&1&&f.value!==s[0]&&fa(f,s[0]),H&8&&A!==(A=Ve(`px-4 py-2 ${s[3]?"bg-gray-500":"fpl-purple-btn"} text-white text-base font-medium rounded-md w-full shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-300`)+" svelte-1fl295u")&&r(g,"class",A),H&8&&(g.disabled=s[3])},d(B){B&&n(e),O=!1,ta(V)}}}function qa(s){let e,a=s[1]&&pa(s);return{c(){a&&a.c(),e=Be()},l(t){a&&a.l(t),e=Be()},m(t,o){a&&a.m(t,o),ce(t,e,o)},p(t,[o]){t[1]?a?a.p(t,o):(a=pa(t),a.c(),a.m(e.parentNode,e)):a&&(a.d(1),a=null)},i:Ee,o:Ee,d(t){a&&a.d(t),t&&n(e)}}}function Va(s){return s.length<3||s.length>20?!1:/^[a-zA-Z0-9 ]+$/.test(s)}function Ba(s,e,a){let t,{showModal:o}=e,{closeModal:c}=e,{cancelModal:h}=e,{newUsername:m=""}=e,{isLoading:i}=e;async function f(){i.set(!0),Ke.set("Updating Display Name");try{fe.sync(),await fe.updateUsername(m),await c(),Ne.show("Display name updated.","success")}catch(E){Ne.show("Error updating username.","error"),console.error("Error updating username:",E),h()}finally{i.set(!1),Ke.set("Loading")}}function p(E){!(E.target instanceof HTMLInputElement)&&E.key==="Escape"&&c()}function v(E){Ia.call(this,s,E)}function y(){m=this.value,a(0,m)}return s.$$set=E=>{"showModal"in E&&a(1,o=E.showModal),"closeModal"in E&&a(6,c=E.closeModal),"cancelModal"in E&&a(2,h=E.cancelModal),"newUsername"in E&&a(0,m=E.newUsername),"isLoading"in E&&a(7,i=E.isLoading)},s.$$.update=()=>{s.$$.dirty&1&&a(3,t=!Va(m))},[m,o,h,t,f,p,c,i,v,y]}class Ka extends Ye{constructor(e){super(),Xe(this,e,Ba,qa,je,{showModal:1,closeModal:6,cancelModal:2,newUsername:0,isLoading:7})}}function ha(s,e,a){const t=s.slice();return t[12]=e[a],t}function va(s){let e,a,t,o,c,h,m,i,f,p,v,y,E,I,g,w,A,O,V,B,H,R,F,C,k,q,x,G=s[4],S=[];for(let L=0;L<G.length;L+=1)S[L]=ba(ha(s,G,L));return{c(){e=u("div"),a=u("div"),t=u("div"),o=u("h3"),c=U("Update Favourite Team"),h=D(),m=u("div"),i=u("select"),f=u("option"),p=U("Select Team");for(let L=0;L<S.length;L+=1)S[L].c();v=D(),y=u("div"),E=u("p"),I=U("Warning"),g=D(),w=u("p"),A=U("You can only set your favourite team once per season."),O=D(),V=u("div"),B=u("button"),H=U("Cancel"),R=D(),F=u("button"),C=U("Use"),this.h()},l(L){e=d(L,"DIV",{class:!0});var b=_(e);a=d(b,"DIV",{class:!0});var N=_(a);t=d(N,"DIV",{class:!0});var K=_(t);o=d(K,"H3",{class:!0});var te=_(o);c=M(te,"Update Favourite Team"),te.forEach(n),h=P(K),m=d(K,"DIV",{class:!0});var ie=_(m);i=d(ie,"SELECT",{class:!0});var ue=_(i);f=d(ue,"OPTION",{});var ee=_(f);p=M(ee,"Select Team"),ee.forEach(n);for(let X=0;X<S.length;X+=1)S[X].l(ue);ue.forEach(n),ie.forEach(n),K.forEach(n),v=P(N),y=d(N,"DIV",{class:!0,role:!0});var Q=_(y);E=d(Q,"P",{class:!0});var _e=_(E);I=M(_e,"Warning"),_e.forEach(n),g=P(Q),w=d(Q,"P",{class:!0});var me=_(w);A=M(me,"You can only set your favourite team once per season."),me.forEach(n),Q.forEach(n),O=P(N),V=d(N,"DIV",{class:!0});var $=_(V);B=d($,"BUTTON",{class:!0});var pe=_(B);H=M(pe,"Cancel"),pe.forEach(n),R=P($),F=d($,"BUTTON",{class:!0});var he=_(F);C=M(he,"Use"),he.forEach(n),$.forEach(n),N.forEach(n),b.forEach(n),this.h()},h(){r(o,"class","text-lg leading-6 font-medium mb-2"),f.__value=0,f.value=f.__value,r(i,"class","w-full p-2 rounded-md fpl-dropdown"),s[0]===void 0&&Na(()=>s[10].call(i)),r(m,"class","w-full border border-gray-500 mt-4 mb-2"),r(t,"class","mt-3 text-center"),r(E,"class","font-bold text-sm"),r(w,"class","font-bold text-xs"),r(y,"class","bg-orange-100 border-l-4 border-orange-500 text-orange-700 p-4 mb-1 mt-4"),r(y,"role","alert"),r(B,"class","px-4 py-2 fpl-cancel-btn text-white text-base font-medium rounded-md w-full shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-300"),r(F,"class",k=Ve(`px-4 py-2 ${s[3]?"bg-gray-500":"fpl-purple-btn"} text-white text-base font-medium rounded-md w-full shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-300`)+" svelte-1fl295u"),F.disabled=s[3],r(V,"class","items-center py-3 flex space-x-4"),r(a,"class","relative top-20 mx-auto p-5 border border-gray-700 w-96 shadow-lg rounded-md bg-panel text-white"),r(e,"class","fixed inset-0 bg-gray-900 bg-opacity-80 overflow-y-auto h-full w-full modal-backdrop svelte-1fl295u")},m(L,b){ce(L,e,b),l(e,a),l(a,t),l(t,o),l(o,c),l(t,h),l(t,m),l(m,i),l(i,f),l(f,p);for(let N=0;N<S.length;N+=1)S[N]&&S[N].m(i,null);_a(i,s[0],!0),l(a,v),l(a,y),l(y,E),l(E,I),l(y,g),l(y,w),l(w,A),l(a,O),l(a,V),l(V,B),l(B,H),l(V,R),l(V,F),l(F,C),q||(x=[J(i,"change",s[10]),J(B,"click",function(){ea(s[2])&&s[2].apply(this,arguments)}),J(F,"click",s[5]),J(a,"click",Ea(s[9])),J(a,"keydown",s[6]),J(e,"click",function(){ea(s[2])&&s[2].apply(this,arguments)}),J(e,"keydown",s[6])],q=!0)},p(L,b){if(s=L,b&16){G=s[4];let N;for(N=0;N<G.length;N+=1){const K=ha(s,G,N);S[N]?S[N].p(K,b):(S[N]=ba(K),S[N].c(),S[N].m(i,null))}for(;N<S.length;N+=1)S[N].d(1);S.length=G.length}b&17&&_a(i,s[0]),b&8&&k!==(k=Ve(`px-4 py-2 ${s[3]?"bg-gray-500":"fpl-purple-btn"} text-white text-base font-medium rounded-md w-full shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-300`)+" svelte-1fl295u")&&r(F,"class",k),b&8&&(F.disabled=s[3])},d(L){L&&n(e),Ta(S,L),q=!1,ta(x)}}}function ba(s){let e,a=s[12].friendlyName+"",t,o;return{c(){e=u("option"),t=U(a),this.h()},l(c){e=d(c,"OPTION",{});var h=_(e);t=M(h,a),h.forEach(n),this.h()},h(){e.__value=o=s[12].id,e.value=e.__value},m(c,h){ce(c,e,h),l(e,t)},p(c,h){h&16&&a!==(a=c[12].friendlyName+"")&&$e(t,a),h&16&&o!==(o=c[12].id)&&(e.__value=o,e.value=e.__value)},d(c){c&&n(e)}}}function za(s){let e,a=s[1]&&va(s);return{c(){a&&a.c(),e=Be()},l(t){a&&a.l(t),e=Be()},m(t,o){a&&a.m(t,o),ce(t,e,o)},p(t,[o]){t[1]?a?a.p(t,o):(a=va(t),a.c(),a.m(e.parentNode,e)):a&&(a.d(1),a=null)},i:Ee,o:Ee,d(t){a&&a.d(t),t&&n(e)}}}function Ha(s,e,a){let{showModal:t}=e,{closeModal:o}=e,{cancelModal:c}=e,{newFavouriteTeam:h=0}=e,{isLoading:m}=e,i=!0,f,p;ra(async()=>{await aa.sync(),p=aa.subscribe(g=>{a(4,f=g)})}),wa(()=>{p?.()});async function v(){m.set(!0),Ke.set("Updating Favourite Club");try{fe.sync(),await fe.updateFavouriteTeam(h),await o(),Ne.show("Favourite team updated.","success")}catch(g){Ne.show("Error updating favourite team.","error"),console.error("Error updating favourite team:",g),c()}finally{m.set(!1),Ke.set("Loading")}}function y(g){!(g.target instanceof HTMLInputElement)&&g.key==="Escape"&&o()}function E(g){Ia.call(this,s,g)}function I(){h=Da(this),a(0,h),a(4,f)}return s.$$set=g=>{"showModal"in g&&a(1,t=g.showModal),"closeModal"in g&&a(7,o=g.closeModal),"cancelModal"in g&&a(2,c=g.cancelModal),"newFavouriteTeam"in g&&a(0,h=g.newFavouriteTeam),"isLoading"in g&&a(8,m=g.isLoading)},s.$$.update=()=>{s.$$.dirty&1&&a(3,i=h<=0)},[h,t,c,i,f,v,y,o,m,E,I]}class xa extends Ye{constructor(e){super(),Xe(this,e,Ha,za,je,{showModal:1,closeModal:7,cancelModal:2,newFavouriteTeam:0,isLoading:8})}}function Ga(s){let e,a,t,o,c,h,m,i,f,p,v,y,E,I,g,w,A,O,V,B,H,R,F,C,k,q,x,G,S,L,b,N,K,te,ie,ue,ee,Q,_e,me,$,pe,he,X,le,Ie,we,ne,ae,re,Te,ye,j,Z;e=new Ka({props:{newUsername:s[0]?s[0].displayName:"",showModal:s[1],closeModal:s[13],cancelModal:s[14],isLoading:s[11]}}),t=new xa({props:{newFavouriteTeam:s[0]?s[0].favouriteTeamId:0,showModal:s[2],closeModal:s[16],cancelModal:s[17],isLoading:s[11]}});let z=s[0]&&ga(s);return{c(){Se(e.$$.fragment),a=D(),Se(t.$$.fragment),o=D(),c=u("div"),z&&z.c(),h=D(),m=u("div"),i=u("div"),f=u("div"),p=u("div"),v=u("div"),y=u("img"),I=D(),g=u("div"),w=u("p"),A=U("ICP"),O=D(),V=u("p"),B=U("0.00 ICP"),H=D(),R=u("div"),F=u("img"),k=D(),q=u("div"),x=u("p"),G=U("FPL"),S=D(),L=u("p"),b=U("0.00 FPL"),N=D(),K=u("div"),te=u("img"),ue=D(),ee=u("div"),Q=u("p"),_e=U("ckBTC"),me=D(),$=u("p"),pe=U("0.00 ckBTC"),he=D(),X=u("div"),le=u("img"),we=D(),ne=u("div"),ae=u("p"),re=U("ckETH"),Te=D(),ye=u("p"),j=U("0.00 ckETH"),this.h()},l(T){Fe(e.$$.fragment,T),a=P(T),Fe(t.$$.fragment,T),o=P(T),c=d(T,"DIV",{class:!0});var Y=_(c);z&&z.l(Y),h=P(Y),m=d(Y,"DIV",{class:!0});var ve=_(m);i=d(ve,"DIV",{class:!0});var be=_(i);f=d(be,"DIV",{class:!0});var W=_(f);p=d(W,"DIV",{class:!0});var de=_(p);v=d(de,"DIV",{class:!0});var De=_(v);y=d(De,"IMG",{src:!0,alt:!0,class:!0}),I=P(De),g=d(De,"DIV",{class:!0});var Pe=_(g);w=d(Pe,"P",{class:!0});var ze=_(w);A=M(ze,"ICP"),ze.forEach(n),O=P(Pe),V=d(Pe,"P",{});var He=_(V);B=M(He,"0.00 ICP"),He.forEach(n),Pe.forEach(n),De.forEach(n),H=P(de),R=d(de,"DIV",{class:!0});var Ae=_(R);F=d(Ae,"IMG",{src:!0,alt:!0,class:!0}),k=P(Ae),q=d(Ae,"DIV",{class:!0});var Ce=_(q);x=d(Ce,"P",{class:!0});var xe=_(x);G=M(xe,"FPL"),xe.forEach(n),S=P(Ce),L=d(Ce,"P",{});var Ge=_(L);b=M(Ge,"0.00 FPL"),Ge.forEach(n),Ce.forEach(n),Ae.forEach(n),N=P(de),K=d(de,"DIV",{class:!0});var ge=_(K);te=d(ge,"IMG",{src:!0,alt:!0,class:!0}),ue=P(ge),ee=d(ge,"DIV",{class:!0});var ke=_(ee);Q=d(ke,"P",{class:!0});var na=_(Q);_e=M(na,"ckBTC"),na.forEach(n),me=P(ke),$=d(ke,"P",{});var ca=_($);pe=M(ca,"0.00 ckBTC"),ca.forEach(n),ke.forEach(n),ge.forEach(n),he=P(de),X=d(de,"DIV",{class:!0});var Je=_(X);le=d(Je,"IMG",{src:!0,alt:!0,class:!0}),we=P(Je),ne=d(Je,"DIV",{class:!0});var Qe=_(ne);ae=d(Qe,"P",{class:!0});var ua=_(ae);re=M(ua,"ckETH"),ua.forEach(n),Te=P(Qe),ye=d(Qe,"P",{});var da=_(ye);j=M(da,"0.00 ckETH"),da.forEach(n),Qe.forEach(n),Je.forEach(n),de.forEach(n),W.forEach(n),be.forEach(n),ve.forEach(n),Y.forEach(n),this.h()},h(){qe(y.src,E="ICPCoin.png")||r(y,"src",E),r(y,"alt","ICP"),r(y,"class","h-12 w-12"),r(w,"class","font-bold"),r(g,"class","ml-4"),r(v,"class","flex items-center p-4 rounded-lg shadow-md border border-gray-700"),qe(F.src,C="FPLCoin.png")||r(F,"src",C),r(F,"alt","FPL"),r(F,"class","h-12 w-12"),r(x,"class","font-bold"),r(q,"class","ml-4"),r(R,"class","flex items-center p-4 rounded-lg shadow-md border border-gray-700"),qe(te.src,ie="ckBTCCoin.png")||r(te,"src",ie),r(te,"alt","ICP"),r(te,"class","h-12 w-12"),r(Q,"class","font-bold"),r(ee,"class","ml-4"),r(K,"class","flex items-center p-4 rounded-lg shadow-md border border-gray-700"),qe(le.src,Ie="ckETHCoin.png")||r(le,"src",Ie),r(le,"alt","ICP"),r(le,"class","h-12 w-12"),r(ae,"class","font-bold"),r(ne,"class","ml-4"),r(X,"class","flex items-center p-4 rounded-lg shadow-md border border-gray-700"),r(p,"class","grid grid-cols-1 md:grid-cols-4 gap-4"),r(f,"class","mt-4 px-2"),r(i,"class","w-full px-2 mb-4"),r(m,"class","flex flex-wrap -mx-2 mt-4"),r(c,"class","container mx-auto p-4")},m(T,Y){Le(e,T,Y),ce(T,a,Y),Le(t,T,Y),ce(T,o,Y),ce(T,c,Y),z&&z.m(c,null),l(c,h),l(c,m),l(m,i),l(i,f),l(f,p),l(p,v),l(v,y),l(v,I),l(v,g),l(g,w),l(w,A),l(g,O),l(g,V),l(V,B),l(p,H),l(p,R),l(R,F),l(R,k),l(R,q),l(q,x),l(x,G),l(q,S),l(q,L),l(L,b),l(p,N),l(p,K),l(K,te),l(K,ue),l(K,ee),l(ee,Q),l(Q,_e),l(ee,me),l(ee,$),l($,pe),l(p,he),l(p,X),l(X,le),l(X,we),l(X,ne),l(ne,ae),l(ae,re),l(ne,Te),l(ne,ye),l(ye,j),Z=!0},p(T,Y){const ve={};Y&1&&(ve.newUsername=T[0]?T[0].displayName:""),Y&2&&(ve.showModal=T[1]),e.$set(ve);const be={};Y&1&&(be.newFavouriteTeam=T[0]?T[0].favouriteTeamId:0),Y&4&&(be.showModal=T[2]),t.$set(be),T[0]?z?(z.p(T,Y),Y&1&&se(z,1)):(z=ga(T),z.c(),se(z,1),z.m(c,h)):z&&(oa(),oe(z,1,1,()=>{z=null}),ia())},i(T){Z||(se(e.$$.fragment,T),se(t.$$.fragment,T),se(z),Z=!0)},o(T){oe(e.$$.fragment,T),oe(t.$$.fragment,T),oe(z),Z=!1},d(T){Ue(e,T),T&&n(a),Ue(t,T),T&&n(o),T&&n(c),z&&z.d()}}}function Wa(s){let e,a;return e=new Aa({}),{c(){Se(e.$$.fragment)},l(t){Fe(e.$$.fragment,t)},m(t,o){Le(e,t,o),a=!0},p:Ee,i(t){a||(se(e.$$.fragment,t),a=!0)},o(t){oe(e.$$.fragment,t),a=!1},d(t){Ue(e,t)}}}function ga(s){let e,a,t,o,c,h,m,i,f,p,v,y,E,I,g,w,A,O,V=s[0]?.displayName+"",B,H,R,F,C,k,q,x,G,S,L,b,N,K,te,ie,ue,ee,Q,_e,me,$,pe,he,X,le,Ie=s[0]?.principalId+"",we,ne,ae,re,Te,ye;return ae=new Oa({props:{onClick:s[18],principalId:s[0]?.principalId,className:"ml-2 w-4 h-4"}}),{c(){e=u("div"),a=u("div"),t=u("div"),o=u("img"),h=D(),m=u("div"),i=u("button"),f=U("Upload Photo"),p=D(),v=u("input"),y=D(),E=u("div"),I=u("div"),g=u("p"),w=U("Display Name:"),A=D(),O=u("h2"),B=U(V),H=D(),R=u("button"),F=U("Update"),C=D(),k=u("p"),q=U("Favourite Team:"),x=D(),G=u("h2"),S=U(s[6]),L=D(),b=u("button"),N=U("Update"),te=D(),ie=u("p"),ue=U("Joined:"),ee=D(),Q=u("h2"),_e=U("August 2023"),me=D(),$=u("p"),pe=U("Principal:"),he=D(),X=u("div"),le=u("h2"),we=U(Ie),ne=D(),Se(ae.$$.fragment),this.h()},l(j){e=d(j,"DIV",{class:!0});var Z=_(e);a=d(Z,"DIV",{class:!0});var z=_(a);t=d(z,"DIV",{class:!0});var T=_(t);o=d(T,"IMG",{src:!0,alt:!0,class:!0}),h=P(T),m=d(T,"DIV",{class:!0});var Y=_(m);i=d(Y,"BUTTON",{class:!0});var ve=_(i);f=M(ve,"Upload Photo"),ve.forEach(n),p=P(Y),v=d(Y,"INPUT",{type:!0,id:!0,accept:!0,style:!0,class:!0}),Y.forEach(n),T.forEach(n),z.forEach(n),y=P(Z),E=d(Z,"DIV",{class:!0});var be=_(E);I=d(be,"DIV",{class:!0});var W=_(I);g=d(W,"P",{class:!0});var de=_(g);w=M(de,"Display Name:"),de.forEach(n),A=P(W),O=d(W,"H2",{class:!0});var De=_(O);B=M(De,V),De.forEach(n),H=P(W),R=d(W,"BUTTON",{class:!0});var Pe=_(R);F=M(Pe,"Update"),Pe.forEach(n),C=P(W),k=d(W,"P",{class:!0});var ze=_(k);q=M(ze,"Favourite Team:"),ze.forEach(n),x=P(W),G=d(W,"H2",{class:!0});var He=_(G);S=M(He,s[6]),He.forEach(n),L=P(W),b=d(W,"BUTTON",{class:!0});var Ae=_(b);N=M(Ae,"Update"),Ae.forEach(n),te=P(W),ie=d(W,"P",{class:!0});var Ce=_(ie);ue=M(Ce,"Joined:"),Ce.forEach(n),ee=P(W),Q=d(W,"H2",{class:!0});var xe=_(Q);_e=M(xe,"August 2023"),xe.forEach(n),me=P(W),$=d(W,"P",{class:!0});var Ge=_($);pe=M(Ge,"Principal:"),Ge.forEach(n),he=P(W),X=d(W,"DIV",{class:!0});var ge=_(X);le=d(ge,"H2",{class:!0});var ke=_(le);we=M(ke,Ie),ke.forEach(n),ne=P(ge),Fe(ae.$$.fragment,ge),ge.forEach(n),W.forEach(n),be.forEach(n),Z.forEach(n),this.h()},h(){qe(o.src,c=s[5])||r(o,"src",c),r(o,"alt","Profile"),r(o,"class","w-48 md:w-80 mb-1 rounded-lg"),r(i,"class","btn-file-upload fpl-button svelte-e6um5o"),r(v,"type","file"),r(v,"id","profile-image"),r(v,"accept","image/*"),Re(v,"opacity","0"),Re(v,"position","absolute"),Re(v,"left","0"),Re(v,"top","0"),r(v,"class","svelte-e6um5o"),r(m,"class","file-upload-wrapper mt-4 svelte-e6um5o"),r(t,"class","group"),r(a,"class","w-full md:w-auto px-2 ml-4 md:ml-0"),r(g,"class","text-xs mb-2"),r(O,"class","text-2xl font-bold mb-2"),r(R,"class","p-2 px-4 rounded fpl-button"),r(k,"class","text-xs mb-2 mt-4"),r(G,"class","text-2xl font-bold mb-2"),r(b,"class","p-2 px-4 rounded fpl-button"),b.disabled=K=s[4]>1&&(s[0]?.favouriteTeamId??0)>0,r(ie,"class","text-xs mb-2 mt-4"),r(Q,"class","text-2xl font-bold mb-2"),r($,"class","text-xs mb-2 mt-4"),r(le,"class","text-xs font-bold"),r(X,"class","flex items-center"),r(I,"class","ml-4 p-4 rounded-lg"),r(E,"class","w-full md:w-3/4 px-2 mb-4"),r(e,"class","flex flex-wrap")},m(j,Z){ce(j,e,Z),l(e,a),l(a,t),l(t,o),l(t,h),l(t,m),l(m,i),l(i,f),l(m,p),l(m,v),s[23](v),l(e,y),l(e,E),l(E,I),l(I,g),l(g,w),l(I,A),l(I,O),l(O,B),l(I,H),l(I,R),l(R,F),l(I,C),l(I,k),l(k,q),l(I,x),l(I,G),l(G,S),l(I,L),l(I,b),l(b,N),l(I,te),l(I,ie),l(ie,ue),l(I,ee),l(I,Q),l(Q,_e),l(I,me),l(I,$),l($,pe),l(I,he),l(I,X),l(X,le),l(le,we),l(X,ne),Le(ae,X,null),re=!0,Te||(ye=[J(i,"click",s[19]),J(v,"change",s[20]),J(R,"click",s[12]),J(b,"click",s[15])],Te=!0)},p(j,Z){(!re||Z&32&&!qe(o.src,c=j[5]))&&r(o,"src",c),(!re||Z&1)&&V!==(V=j[0]?.displayName+"")&&$e(B,V),(!re||Z&64)&&$e(S,j[6]),(!re||Z&17&&K!==(K=j[4]>1&&(j[0]?.favouriteTeamId??0)>0))&&(b.disabled=K),(!re||Z&1)&&Ie!==(Ie=j[0]?.principalId+"")&&$e(we,Ie);const z={};Z&1&&(z.principalId=j[0]?.principalId),ae.$set(z)},i(j){re||(se(ae.$$.fragment,j),re=!0)},o(j){oe(ae.$$.fragment,j),re=!1},d(j){j&&n(e),s[23](null),Ue(ae),Te=!1,ta(ye)}}}function Ya(s){let e,a,t,o;const c=[Wa,Ga],h=[];function m(i,f){return i[7]?0:1}return e=m(s),a=h[e]=c[e](s),{c(){a.c(),t=Be()},l(i){a.l(i),t=Be()},m(i,f){h[e].m(i,f),ce(i,t,f),o=!0},p(i,[f]){let p=e;e=m(i),e===p?h[e].p(i,f):(oa(),oe(h[p],1,1,()=>{h[p]=null}),ia(),a=h[e],a?a.p(i,f):(a=h[e]=c[e](i),a.c()),se(a,1),a.m(t.parentNode,t))},i(i){o||(se(a),o=!0)},o(i){oe(a),o=!1},d(i){h[e].d(i),i&&n(t)}}}function Xa(s,e,a){let t,o,c,h,m,i,f=We([]);Ze(s,f,b=>a(21,h=b));let p=We(null);Ze(s,p,b=>a(22,m=b));let v=We(null);Ze(s,v,b=>a(0,c=b));let y=!1,E=!1,I,g=1,w=We(!1);Ze(s,w,b=>a(7,i=b));let A,O,V;ra(async()=>{w.set(!0);try{await aa.sync(),await ma.sync(),await fe.sync(),A=aa.subscribe(b=>{f.set(b)}),O=ma.subscribe(b=>{p.set(b)}),V=fe.subscribe(b=>{v.set(b),console.log(b)})}catch(b){Ne.show("Error fetching profile detail.","error"),console.error("Error fetching profile detail:",b)}finally{w.set(!1)}}),wa(()=>{A?.(),O?.()});function B(){a(1,y=!0)}async function H(){const b=await fe.getProfile();v.set(b),a(1,y=!1)}function R(){a(1,y=!1)}function F(){a(2,E=!0)}async function C(){const b=await fe.getProfile();v.set(b),a(2,E=!1)}function k(){a(2,E=!1)}function q(b){navigator.clipboard.writeText(b).then(()=>{Ne.show("Copied!","success")})}function x(){I.click()}function G(b){const N=b.target;if(N.files&&N.files[0]){const K=N.files[0];if(K.size>1e3*1024){alert("File size exceeds 1000KB");return}S(K)}}async function S(b){w.set(!0),Ke.set("Updating Profile Picture");try{fe.sync(),await fe.updateProfilePicture(b);const N=await fe.getProfile();if(v.set(N),N&&N.profilePicture.length>0){const K=new Blob([new Uint8Array(N.profilePicture)]);a(5,t=URL.createObjectURL(K))}Ne.show("Profile image updated.","success")}catch(N){Ne.show("Error updating profile image","error"),console.error("Error updating profile image",N)}finally{w.set(!1),Ke.set("Loading")}}function L(b){Pa[b?"unshift":"push"](()=>{I=b,a(3,I)})}return s.$$.update=()=>{s.$$.dirty&1&&a(5,t=c&&c?.profilePicture&&c?.profilePicture?.length>0?URL.createObjectURL(new Blob([new Uint8Array(c.profilePicture)])):"profile_placeholder.png"),s.$$.dirty&4194304&&a(4,g=m?.activeGameweek??1),s.$$.dirty&2097153&&a(6,o=h.find(b=>b.id==c?.favouriteTeamId)??"Not Set")},[c,y,E,I,g,t,o,i,f,p,v,w,B,H,R,F,C,k,q,x,G,h,m,L]}class ja extends Ye{constructor(e){super(),Xe(this,e,Xa,Ya,je,{})}}function Ja(s){let e,a;return e=new Sa({props:{viewGameweekDetail:s[2]}}),{c(){Se(e.$$.fragment)},l(t){Fe(e.$$.fragment,t)},m(t,o){Le(e,t,o),a=!0},p:Ee,i(t){a||(se(e.$$.fragment,t),a=!0)},o(t){oe(e.$$.fragment,t),a=!1},d(t){Ue(e,t)}}}function Qa(s){let e,a;return e=new ja({}),{c(){Se(e.$$.fragment)},l(t){Fe(e.$$.fragment,t)},m(t,o){Le(e,t,o),a=!0},p:Ee,i(t){a||(se(e.$$.fragment,t),a=!0)},o(t){oe(e.$$.fragment,t),a=!1},d(t){Ue(e,t)}}}function Za(s){let e,a,t,o,c,h,m,i,f,p,v,y,E,I,g,w,A,O,V,B;const H=[Qa,Ja],R=[];function F(C,k){return C[0]==="details"?0:C[0]==="gameweeks"?1:-1}return~(w=F(s))&&(A=R[w]=H[w](s)),{c(){e=u("div"),a=u("div"),t=u("ul"),o=u("li"),c=u("button"),h=U("Details"),f=D(),p=u("li"),v=u("button"),y=U("Gameweeks"),g=D(),A&&A.c(),this.h()},l(C){e=d(C,"DIV",{class:!0});var k=_(e);a=d(k,"DIV",{class:!0});var q=_(a);t=d(q,"UL",{class:!0});var x=_(t);o=d(x,"LI",{class:!0});var G=_(o);c=d(G,"BUTTON",{class:!0});var S=_(c);h=M(S,"Details"),S.forEach(n),G.forEach(n),f=P(x),p=d(x,"LI",{class:!0});var L=_(p);v=d(L,"BUTTON",{class:!0});var b=_(v);y=M(b,"Gameweeks"),b.forEach(n),L.forEach(n),x.forEach(n),g=P(q),A&&A.l(q),q.forEach(n),k.forEach(n),this.h()},h(){r(c,"class",m=`p-2 ${s[0]==="details"?"text-white":"text-gray-400"}`),r(o,"class",i=`mr-4 text-xs md:text-base ${s[0]==="details"?"active-tab":""}`),r(v,"class",E=`p-2 ${s[0]==="gameweeks"?"text-white":"text-gray-400"}`),r(p,"class",I=`mr-4 text-xs md:text-base ${s[0]==="gameweeks"?"active-tab":""}`),r(t,"class","flex rounded-t-lg bg-light-gray px-4 pt-2"),r(a,"class","bg-panel rounded-lg m-4"),r(e,"class","m-4")},m(C,k){ce(C,e,k),l(e,a),l(a,t),l(t,o),l(o,c),l(c,h),l(t,f),l(t,p),l(p,v),l(v,y),l(a,g),~w&&R[w].m(a,null),O=!0,V||(B=[J(c,"click",s[3]),J(v,"click",s[4])],V=!0)},p(C,k){(!O||k&1&&m!==(m=`p-2 ${C[0]==="details"?"text-white":"text-gray-400"}`))&&r(c,"class",m),(!O||k&1&&i!==(i=`mr-4 text-xs md:text-base ${C[0]==="details"?"active-tab":""}`))&&r(o,"class",i),(!O||k&1&&E!==(E=`p-2 ${C[0]==="gameweeks"?"text-white":"text-gray-400"}`))&&r(v,"class",E),(!O||k&1&&I!==(I=`mr-4 text-xs md:text-base ${C[0]==="gameweeks"?"active-tab":""}`))&&r(p,"class",I);let q=w;w=F(C),w===q?~w&&R[w].p(C,k):(A&&(oa(),oe(R[q],1,1,()=>{R[q]=null}),ia()),~w?(A=R[w],A?A.p(C,k):(A=R[w]=H[w](C),A.c()),se(A,1),A.m(a,null)):A=null)},i(C){O||(se(A),O=!0)},o(C){oe(A),O=!1},d(C){C&&n(e),~w&&R[w].d(),V=!1,ta(B)}}}function $a(s){let e,a;return e=new Ca({props:{$$slots:{default:[Za]},$$scope:{ctx:s}}}),{c(){Se(e.$$.fragment)},l(t){Fe(e.$$.fragment,t)},m(t,o){Le(e,t,o),a=!0},p(t,[o]){const c={};o&33&&(c.$$scope={dirty:o,ctx:t}),e.$set(c)},i(t){a||(se(e.$$.fragment,t),a=!0)},o(t){oe(e.$$.fragment,t),a=!1},d(t){Ue(e,t)}}}function et(s,e,a){let t="details";ra(async()=>{ka.set(!1)});function o(i){a(0,t=i)}function c(i,f){Ra(`/manager?id=${i}&gw=${f}`)}return[t,o,c,()=>o("details"),()=>o("gameweeks")]}class nt extends Ye{constructor(e){super(),Xe(this,e,et,$a,je,{})}}export{nt as component};
