import{S as ue,i as ve,s as _e,e as ce,b as Q,H as x,h as s,o as me,k as n,q as w,a as V,l as d,m as c,r as D,c as $,n as _,G as t,u as Y,Z as pe,_ as ye}from"../chunks/index.85206748.js";import{t as be}from"../chunks/toast-store.55f7539f.js";function he(g,e,a){const l=g.slice();return l[7]=e[a],l[9]=a,l}function Ee(g){let e,a,l,r,o,i,h,u=`Season ${g[2]}`,m,b,E=`Gameweek ${g[1]}`,I,G,P,T,S,p,H,M,F,k,v,O,N,R,j,B,U,W,q,A=[],ee=new Map,Z=g[0];const te=f=>f[7].id;for(let f=0;f<Z.length;f+=1){let y=he(g,Z,f),L=te(y);ee.set(L,A[f]=fe(L,y))}return{c(){e=n("div"),a=n("div"),l=n("p"),r=w("This view will be removed after the SNS decentralisation sale"),o=V(),i=n("div"),h=n("div"),m=w(u),b=w(" - "),I=w(E),G=V(),P=n("div"),T=n("table"),S=n("thead"),p=n("tr"),H=n("th"),M=w("#"),F=V(),k=n("th"),v=w("Match"),O=V(),N=n("th"),R=w("Status"),j=V(),B=n("th"),U=w("Action"),W=V(),q=n("tbody");for(let f=0;f<A.length;f+=1)A[f].c();this.h()},l(f){e=d(f,"DIV",{class:!0});var y=c(e);a=d(y,"DIV",{class:!0});var L=c(a);l=d(L,"P",{});var ae=c(l);r=D(ae,"This view will be removed after the SNS decentralisation sale"),ae.forEach(s),L.forEach(s),o=$(y),i=d(y,"DIV",{class:!0});var z=c(i);h=d(z,"DIV",{class:!0});var J=c(h);m=D(J,u),b=D(J," - "),I=D(J,E),J.forEach(s),G=$(z),P=d(z,"DIV",{class:!0});var le=c(P);T=d(le,"TABLE",{class:!0});var K=c(T);S=d(K,"THEAD",{class:!0});var re=c(S);p=d(re,"TR",{});var C=c(p);H=d(C,"TH",{scope:!0});var se=c(H);M=D(se,"#"),se.forEach(s),F=$(C),k=d(C,"TH",{scope:!0});var oe=c(k);v=D(oe,"Match"),oe.forEach(s),O=$(C),N=d(C,"TH",{scope:!0});var ie=c(N);R=D(ie,"Status"),ie.forEach(s),j=$(C),B=d(C,"TH",{scope:!0});var ne=c(B);U=D(ne,"Action"),ne.forEach(s),C.forEach(s),re.forEach(s),W=$(K),q=d(K,"TBODY",{class:!0});var de=c(q);for(let X=0;X<A.length;X+=1)A[X].l(de);de.forEach(s),K.forEach(s),le.forEach(s),z.forEach(s),y.forEach(s),this.h()},h(){_(a,"class","card mb-3 p-4"),_(h,"class","card-header"),_(H,"scope","col"),_(k,"scope","col"),_(N,"scope","col"),_(B,"scope","col"),_(S,"class","bg-gray-50"),_(q,"class","bg-white divide-y divide-gray-200"),_(T,"class","min-w-full divide-y divide-gray-200"),_(P,"class","card-body"),_(i,"class","card custom-card mt-3 p-4"),_(e,"class","container mx-auto my-5 flex-grow")},m(f,y){Q(f,e,y),t(e,a),t(a,l),t(l,r),t(e,o),t(e,i),t(i,h),t(h,m),t(h,b),t(h,I),t(i,G),t(i,P),t(P,T),t(T,S),t(S,p),t(p,H),t(H,M),t(p,F),t(p,k),t(k,v),t(p,O),t(p,N),t(N,R),t(p,j),t(p,B),t(B,U),t(T,W),t(T,q);for(let L=0;L<A.length;L+=1)A[L]&&A[L].m(q,null)},p(f,y){y&4&&u!==(u=`Season ${f[2]}`)&&Y(m,u),y&2&&E!==(E=`Gameweek ${f[1]}`)&&Y(I,E),y&17&&(Z=f[0],A=pe(A,y,te,1,f,Z,ee,q,ye,fe,null,he))},d(f){f&&s(e);for(let y=0;y<A.length;y+=1)A[y].d()}}}function ge(g){let e,a,l,r,o,i,h;return{c(){e=n("div"),a=n("div"),l=n("span"),r=w("Loading..."),o=V(),i=n("p"),h=w("Loading Fixtures"),this.h()},l(u){e=d(u,"DIV",{class:!0});var m=c(e);a=d(m,"DIV",{class:!0,role:!0});var b=c(a);l=d(b,"SPAN",{class:!0});var E=c(l);r=D(E,"Loading..."),E.forEach(s),b.forEach(s),o=$(m),i=d(m,"P",{class:!0});var I=c(i);h=D(I,"Loading Fixtures"),I.forEach(s),m.forEach(s),this.h()},h(){_(l,"class","visually-hidden"),_(a,"class","spinner-border animate-spin inline-block w-8 h-8 border-4 rounded-full"),_(a,"role","status"),_(i,"class","text-center mt-1"),_(e,"class","flex items-center justify-center h-screen")},m(u,m){Q(u,e,m),t(e,a),t(a,l),t(l,r),t(e,o),t(e,i),t(i,h)},p:x,d(u){u&&s(e)}}}function fe(g,e){let a,l,r=e[9]+1+"",o,i,h,u=`${e[4](e[7].homeTeamId).name} vs ${e[4](e[7].awayTeamId).name}`,m,b,E,I=e[7].status===2?"Completed":"Active",G,P,T,S,p,H,M,F;return{key:g,first:null,c(){a=n("tr"),l=n("td"),o=w(r),i=V(),h=n("td"),m=w(u),b=V(),E=n("td"),G=w(I),P=V(),T=n("td"),S=n("a"),p=n("button"),H=w("Add Player Event Data"),F=V(),this.h()},l(k){a=d(k,"TR",{});var v=c(a);l=d(v,"TD",{});var O=c(l);o=D(O,r),O.forEach(s),i=$(v),h=d(v,"TD",{});var N=c(h);m=D(N,u),N.forEach(s),b=$(v),E=d(v,"TD",{});var R=c(E);G=D(R,I),R.forEach(s),P=$(v),T=d(v,"TD",{});var j=c(T);S=d(j,"A",{href:!0});var B=c(S);p=d(B,"BUTTON",{class:!0});var U=c(p);H=D(U,"Add Player Event Data"),U.forEach(s),B.forEach(s),j.forEach(s),F=$(v),v.forEach(s),this.h()},h(){_(p,"class","btn btn-primary"),_(S,"href",M=`/add-fixture-data?id=${e[7].id}`),this.first=a},m(k,v){Q(k,a,v),t(a,l),t(l,o),t(a,i),t(a,h),t(h,m),t(a,b),t(a,E),t(E,G),t(a,P),t(a,T),t(T,S),t(S,p),t(p,H),t(a,F)},p(k,v){e=k,v&1&&r!==(r=e[9]+1+"")&&Y(o,r),v&1&&u!==(u=`${e[4](e[7].homeTeamId).name} vs ${e[4](e[7].awayTeamId).name}`)&&Y(m,u),v&1&&I!==(I=e[7].status===2?"Completed":"Active")&&Y(G,I),v&1&&M!==(M=`/add-fixture-data?id=${e[7].id}`)&&_(S,"href",M)},d(k){k&&s(a)}}}function Te(g){let e;function a(o,i){return o[3]?ge:Ee}let l=a(g),r=l(g);return{c(){r.c(),e=ce()},l(o){r.l(o),e=ce()},m(o,i){r.m(o,i),Q(o,e,i)},p(o,[i]){l===(l=a(o))&&r?r.p(o,i):(r.d(1),r=l(o),r&&(r.c(),r.m(e.parentNode,e)))},i:x,o:x,d(o){r.d(o),o&&s(e)}}}function Se(g,e,a){let l,r,o,i,h,u=!0;me(async()=>{try{a(0,r=await governanceService.getValidatableFixtures()),a(1,i=r[0].gameweek),o=await playerService.getPlayers(),l=await teamService.getTeams();let b=await systemService.getSystemState();a(2,h=b?.activeSeason.name??"")}catch(b){be.show("Error fetching fixture validation list.","error"),console.error("Error fetching fixture validation list.",b)}finally{a(3,u=!1)}});function m(b){return l.find(E=>E.id===b)}return[r,i,h,u,m]}class De extends ue{constructor(e){super(),ve(this,e,Se,Te,_e,{})}}export{De as component};
