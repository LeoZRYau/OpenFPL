import{S as gt,i as wt,s as It,e as Me,b as W,H as Ve,h as i,k as u,q as p,a as P,l as c,m as v,r as b,c as V,n as o,J as zl,G as a,K as sl,V as Dt,L as Z,Q as je,R as qt,u as le,W as kt,M as Wl,N as bt,X as Tt,T as Ht,P as Ql,Y as Gt,y as _t,z as ht,A as mt,g as Se,d as Ue,f as Kt,B as pt,I as Lt,o as Zl,O as $l,v as Rt,Z as Jl,_ as Xl}from"../chunks/index.a8c54947.js";import{p as xl}from"../chunks/stores.68a73d15.js";import{A as es,c as ts,e as ls,t as al,f as nl,j as Ut,a as Et,k as ss,r as as,m as Bt,L as ns}from"../chunks/Layout.b1215686.js";import{w as st}from"../chunks/singletons.94507497.js";function is(){const{subscribe:s,set:e}=st([]);async function t(l,n){try{await(await es.createIdentityActor(ts,"bboqb-jiaaa-aaaal-qb6ea-cai")).savePlayerEvents(l,n)}catch(h){throw console.error("Error submitting fixture data:",h),h}}return{subscribe:s,submitFixtureData:t}}const os=is();function il(s,e,t){const l=s.slice();return l[21]=e[t],l[23]=t,l}function ol(s){let e,t,l,n,h,r=s[1].firstName!==""?s[1].firstName.charAt(0)+".":"",f,_,E=s[1].lastName+"",m,d,I,k,L,S,M,T,O,y,g,D,w,H,B,A,N,z,J,x,U,K,q,Y,$,he,ue,ne,fe,ce,De,G,F,X,se,ke,Ee,ee,Te,ge,we,Be,Ge,Ye,Ie,C,j,de,ie,Ne,Ze,Ae,Fe,$e,Ke,at,oe=s[1].position===0&&rl(),Re=s[8].filter(s[18]),re=[];for(let ae=0;ae<Re.length;ae+=1)re[ae]=fl(il(s,Re,ae));return{c(){e=u("div"),t=u("div"),l=u("div"),n=u("div"),h=u("h4"),f=p(r),_=P(),m=p(E),d=p(" - Match Events"),I=P(),k=u("div"),L=u("h4"),S=p("Add Event"),M=P(),T=u("div"),O=u("div"),y=u("select"),g=u("option"),D=p("Select event type"),w=u("option"),H=p("Appearance"),B=u("option"),A=p("Goal Scored"),N=u("option"),z=p("Goal Assisted"),J=u("option"),x=p("Penalty Missed"),U=u("option"),K=p("Yellow Card"),q=u("option"),Y=p("Card"),$=u("option"),he=p("Own Goal"),oe&&oe.c(),ue=P(),ne=u("div"),fe=u("label"),ce=p("Start Minute"),De=P(),G=u("input"),F=P(),X=u("div"),se=u("label"),ke=p("End Minute"),Ee=P(),ee=u("input"),Te=P(),ge=u("div"),we=u("button"),Be=p("Add Event"),Ye=P(),Ie=u("div"),C=u("h4"),j=p("Events:"),de=P(),ie=u("div"),Ne=u("ul");for(let ae=0;ae<re.length;ae+=1)re[ae].c();Ze=P(),Ae=u("div"),Fe=u("button"),$e=p("Done"),this.h()},l(ae){e=c(ae,"DIV",{class:!0});var me=v(e);t=c(me,"DIV",{class:!0});var te=v(t);l=c(te,"DIV",{class:!0});var pe=v(l);n=c(pe,"DIV",{class:!0});var nt=v(n);h=c(nt,"H4",{class:!0});var Oe=v(h);f=b(Oe,r),_=V(Oe),m=b(Oe,E),d=b(Oe," - Match Events"),Oe.forEach(i),nt.forEach(i),I=V(pe),k=c(pe,"DIV",{class:!0});var Je=v(k);L=c(Je,"H4",{class:!0});var Xe=v(L);S=b(Xe,"Add Event"),Xe.forEach(i),M=V(Je),T=c(Je,"DIV",{class:!0});var Ce=v(T);O=c(Ce,"DIV",{class:!0});var it=v(O);y=c(it,"SELECT",{id:!0,class:!0});var be=v(y);g=c(be,"OPTION",{});var ot=v(g);D=b(ot,"Select event type"),ot.forEach(i),w=c(be,"OPTION",{});var ze=v(w);H=b(ze,"Appearance"),ze.forEach(i),B=c(be,"OPTION",{});var xe=v(B);A=b(xe,"Goal Scored"),xe.forEach(i),N=c(be,"OPTION",{});var rt=v(N);z=b(rt,"Goal Assisted"),rt.forEach(i),J=c(be,"OPTION",{});var qe=v(J);x=b(qe,"Penalty Missed"),qe.forEach(i),U=c(be,"OPTION",{});var ft=v(U);K=b(ft,"Yellow Card"),ft.forEach(i),q=c(be,"OPTION",{});var Qe=v(q);Y=b(Qe,"Card"),Qe.forEach(i),$=c(be,"OPTION",{});var et=v($);he=b(et,"Own Goal"),et.forEach(i),oe&&oe.l(be),be.forEach(i),it.forEach(i),ue=V(Ce),ne=c(Ce,"DIV",{class:!0});var We=v(ne);fe=c(We,"LABEL",{for:!0,class:!0});var He=v(fe);ce=b(He,"Start Minute"),He.forEach(i),De=V(We),G=c(We,"INPUT",{type:!0,id:!0,class:!0,placeholder:!0,min:!0,max:!0}),We.forEach(i),F=V(Ce),X=c(Ce,"DIV",{class:!0});var Pe=v(X);se=c(Pe,"LABEL",{for:!0,class:!0});var ut=v(se);ke=b(ut,"End Minute"),ut.forEach(i),Ee=V(Pe),ee=c(Pe,"INPUT",{type:!0,id:!0,class:!0,placeholder:!0,min:!0,max:!0}),Pe.forEach(i),Te=V(Ce),ge=c(Ce,"DIV",{class:!0});var tt=v(ge);we=c(tt,"BUTTON",{class:!0});var ct=v(we);Be=b(ct,"Add Event"),ct.forEach(i),tt.forEach(i),Ce.forEach(i),Je.forEach(i),Ye=V(pe),Ie=c(pe,"DIV",{class:!0});var yt=v(Ie);C=c(yt,"H4",{class:!0});var ve=v(C);j=b(ve,"Events:"),ve.forEach(i),yt.forEach(i),de=V(pe),ie=c(pe,"DIV",{class:!0});var _e=v(ie);Ne=c(_e,"UL",{class:!0});var R=v(Ne);for(let dt=0;dt<re.length;dt+=1)re[dt].l(R);R.forEach(i),_e.forEach(i),Ze=V(pe),Ae=c(pe,"DIV",{class:!0});var Q=v(Ae);Fe=c(Q,"BUTTON",{class:!0});var lt=v(Fe);$e=b(lt,"Done"),lt.forEach(i),Q.forEach(i),pe.forEach(i),te.forEach(i),me.forEach(i),this.h()},h(){o(h,"class","text-lg font-bold"),o(n,"class","flex justify-between items-center"),o(L,"class","font-bold"),g.__value=-1,g.value=g.__value,g.disabled=!0,w.__value=0,w.value=w.__value,B.__value=1,B.value=B.__value,N.__value=2,N.value=N.__value,J.__value=7,J.value=J.__value,U.__value=8,U.value=U.__value,q.__value=9,q.value=q.__value,$.__value=10,$.value=$.__value,o(y,"id","eventType"),o(y,"class","w-full p-2 fpl-dropdown"),s[4]===void 0&&zl(()=>s[15].call(y)),o(O,"class","mt-1"),o(fe,"for","startMinute"),o(fe,"class","block text-sm font-medium"),o(G,"type","number"),o(G,"id","startMinute"),o(G,"class","bg-gray-900 w-full px-4 py-2 mt-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"),o(G,"placeholder","Enter start minute"),o(G,"min","0"),o(G,"max","90"),o(ne,"class","mt-1"),o(se,"for","endMinute"),o(se,"class","block text-sm font-medium"),o(ee,"type","number"),o(ee,"id","endMinute"),o(ee,"class","bg-gray-900 w-full px-4 py-2 mt-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"),o(ee,"placeholder","Enter end minute"),o(ee,"min","0"),o(ee,"max","90"),o(X,"class","mt-2"),o(we,"class",Ge=`${s[7]?"bg-gray-500":"fpl-purple-btn"} px-4 py-2 text-white text-base font-medium rounded-md w-full shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-300`),we.disabled=s[7],o(ge,"class","items-center mt-3 flex space-x-4"),o(T,"class","flex flex-col gap-1"),o(k,"class","mt-4 p-4 border-t border-gray-200"),o(C,"class","text-sm"),o(Ie,"class","px-4"),o(Ne,"class","list-disc"),o(ie,"class","mt-1 text-xs mx-4"),o(Fe,"class","fpl-button mx-4 px-4 py-2 text-white text-base font-medium rounded-md w-full shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-300"),o(Ae,"class","items-center mt-3 flex space-x-4"),o(l,"class","mt-3"),o(t,"class","relative top-20 mx-auto p-5 border border-gray-700 w-96 shadow-lg rounded-md bg-panel"),o(e,"class","fixed inset-0 bg-gray-900 bg-opacity-80 overflow-y-auto h-full w-full modal-backdrop")},m(ae,me){W(ae,e,me),a(e,t),a(t,l),a(l,n),a(n,h),a(h,f),a(h,_),a(h,m),a(h,d),a(l,I),a(l,k),a(k,L),a(L,S),a(k,M),a(k,T),a(T,O),a(O,y),a(y,g),a(g,D),a(y,w),a(w,H),a(y,B),a(B,A),a(y,N),a(N,z),a(y,J),a(J,x),a(y,U),a(U,K),a(y,q),a(q,Y),a(y,$),a($,he),oe&&oe.m(y,null),sl(y,s[4],!0),a(T,ue),a(T,ne),a(ne,fe),a(fe,ce),a(ne,De),a(ne,G),Dt(G,s[5]),a(T,F),a(T,X),a(X,se),a(se,ke),a(X,Ee),a(X,ee),Dt(ee,s[6]),a(T,Te),a(T,ge),a(ge,we),a(we,Be),a(l,Ye),a(l,Ie),a(Ie,C),a(C,j),a(l,de),a(l,ie),a(ie,Ne);for(let te=0;te<re.length;te+=1)re[te]&&re[te].m(Ne,null);a(l,Ze),a(l,Ae),a(Ae,Fe),a(Fe,$e),Ke||(at=[Z(y,"change",s[15]),Z(G,"input",s[16]),Z(ee,"input",s[17]),Z(we,"click",s[9]),Z(Fe,"click",function(){je(s[3])&&s[3].apply(this,arguments)}),Z(t,"click",qt(s[14])),Z(t,"keydown",s[11]),Z(e,"click",function(){je(s[3])&&s[3].apply(this,arguments)}),Z(e,"keydown",s[11])],Ke=!0)},p(ae,me){if(s=ae,me&2&&r!==(r=s[1].firstName!==""?s[1].firstName.charAt(0)+".":"")&&le(f,r),me&2&&E!==(E=s[1].lastName+"")&&le(m,E),s[1].position===0?oe||(oe=rl(),oe.c(),oe.m(y,null)):oe&&(oe.d(1),oe=null),me&16&&sl(y,s[4]),me&32&&kt(G.value)!==s[5]&&Dt(G,s[5]),me&64&&kt(ee.value)!==s[6]&&Dt(ee,s[6]),me&128&&Ge!==(Ge=`${s[7]?"bg-gray-500":"fpl-purple-btn"} px-4 py-2 text-white text-base font-medium rounded-md w-full shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-300`)&&o(we,"class",Ge),me&128&&(we.disabled=s[7]),me&5378){Re=s[8].filter(s[18]);let te;for(te=0;te<Re.length;te+=1){const pe=il(s,Re,te);re[te]?re[te].p(pe,me):(re[te]=fl(pe),re[te].c(),re[te].m(Ne,null))}for(;te<re.length;te+=1)re[te].d(1);re.length=Re.length}},d(ae){ae&&i(e),oe&&oe.d(),Wl(re,ae),Ke=!1,bt(at)}}}function rl(s){let e,t,l,n;return{c(){e=u("option"),t=p("Keeper Save"),l=u("option"),n=p("Penalty Save"),this.h()},l(h){e=c(h,"OPTION",{});var r=v(e);t=b(r,"Keeper Save"),r.forEach(i),l=c(h,"OPTION",{});var f=v(l);n=b(f,"Penalty Save"),f.forEach(i),this.h()},h(){e.__value=4,e.value=e.__value,l.__value=6,l.value=l.__value},m(h,r){W(h,e,r),a(e,t),W(h,l,r),a(l,n)},d(h){h&&i(e),h&&i(l)}}}function fl(s){let e,t,l=s[12](s[21].eventType)+"",n,h,r=s[21].eventStartMinute+"",f,_,E=s[21].eventEndMinute+"",m,d,I,k,L,S,M,T;function O(){return s[19](s[23])}return{c(){e=u("li"),t=u("span"),n=p(l),h=p(" ("),f=p(r),_=p(`
                  - `),m=p(E),d=p(") mins"),I=P(),k=u("button"),L=p("Remove"),S=P(),this.h()},l(y){e=c(y,"LI",{class:!0});var g=v(e);t=c(g,"SPAN",{});var D=v(t);n=b(D,l),h=b(D," ("),f=b(D,r),_=b(D,`
                  - `),m=b(D,E),d=b(D,") mins"),D.forEach(i),I=V(g),k=c(g,"BUTTON",{class:!0});var w=v(k);L=b(w,"Remove"),w.forEach(i),S=V(g),g.forEach(i),this.h()},h(){o(k,"class","px-3 py-1 bg-red-500 rounded"),o(e,"class","flex justify-between items-center mb-2")},m(y,g){W(y,e,g),a(e,t),a(t,n),a(t,h),a(t,f),a(t,_),a(t,m),a(t,d),a(e,I),a(e,k),a(k,L),a(e,S),M||(T=Z(k,"click",O),M=!0)},p(y,g){s=y,g&258&&l!==(l=s[12](s[21].eventType)+"")&&le(n,l),g&258&&r!==(r=s[21].eventStartMinute+"")&&le(f,r),g&258&&E!==(E=s[21].eventEndMinute+"")&&le(m,E)},d(y){y&&i(e),M=!1,T()}}}function rs(s){let e,t=s[0]&&ol(s);return{c(){t&&t.c(),e=Me()},l(l){t&&t.l(l),e=Me()},m(l,n){t&&t.m(l,n),W(l,e,n)},p(l,[n]){l[0]?t?t.p(l,n):(t=ol(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:Ve,o:Ve,d(l){t&&t.d(l),l&&i(e)}}}function fs(s,e,t){let l,n=Ve,h=()=>(n(),n=Tt(E,N=>t(8,l=N)),E);s.$$.on_destroy.push(()=>n());let{show:r=!1}=e,{player:f}=e,{fixtureId:_}=e,{playerEventData:E}=e;h();let{closeModal:m}=e,d=-1,I=0,k=0,L=!0;const S=[{id:0,label:"Appearance"},{id:1,label:"Goal Scored"},{id:2,label:"Goal Assisted"},{id:6,label:"Penalty Saved"},{id:7,label:"Penalty Missed"},{id:8,label:"Yellow Card"},{id:9,label:"Red Card"},{id:10,label:"Own Goal"}];function M(){if(d>=0&&I!==null&&k!==null){const N={playerId:f.id,eventType:Number(d),eventStartMinute:Number(I),eventEndMinute:Number(k),fixtureId:_,teamId:f.teamId};let z=[...l,N];E.set(z),t(5,I=0),t(6,k=0),t(4,d=-1)}}function T(N){E.update(z=>z.filter((J,x)=>x!==N))}function O(N){!(N.target instanceof HTMLInputElement)&&N.key==="Escape"&&m()}const y=N=>{const z=S.find(J=>J.id===N);return z?z.label:""};function g(N){Ht.call(this,s,N)}function D(){d=Ql(this),t(4,d)}function w(){I=kt(this.value),t(5,I)}function H(){k=kt(this.value),t(6,k)}const B=N=>N.playerId==f.id,A=N=>T(N);return s.$$set=N=>{"show"in N&&t(0,r=N.show),"player"in N&&t(1,f=N.player),"fixtureId"in N&&t(13,_=N.fixtureId),"playerEventData"in N&&h(t(2,E=N.playerEventData)),"closeModal"in N&&t(3,m=N.closeModal)},s.$$.update=()=>{s.$$.dirty&112&&t(7,L=d<0||I<0||I>90||k<0||k>90)},[r,f,E,m,d,I,k,L,l,M,T,O,y,_,g,D,w,H,B,A]}class us extends gt{constructor(e){super(),wt(this,e,fs,rs,It,{show:0,player:1,fixtureId:13,playerEventData:2,closeModal:3})}}function ul(s,e,t){const l=s.slice();l[12]=e[t];const n=l[5].some(function(...r){return s[11](l[12],...r)});return l[13]=n,l}function cl(s){let e,t,l,n,h,r=s[1].friendlyName+"",f,_,E,m,d,I,k,L,S,M,T,O,y,g=s[6].sort(pl),D=[];for(let w=0;w<g.length;w+=1)D[w]=ml(ul(s,g,w));return{c(){e=u("div"),t=u("div"),l=u("div"),n=u("h3"),h=p("Select "),f=p(r),_=p(" Players"),E=P(),m=u("div");for(let w=0;w<D.length;w+=1)D[w].c();d=P(),I=u("div"),k=u("button"),L=p("Cancel"),S=P(),M=u("button"),T=p("Select"),this.h()},l(w){e=c(w,"DIV",{class:!0});var H=v(e);t=c(H,"DIV",{class:!0});var B=v(t);l=c(B,"DIV",{class:!0});var A=v(l);n=c(A,"H3",{class:!0});var N=v(n);h=b(N,"Select "),f=b(N,r),_=b(N," Players"),N.forEach(i),E=V(A),m=c(A,"DIV",{class:!0});var z=v(m);for(let K=0;K<D.length;K+=1)D[K].l(z);z.forEach(i),d=V(A),I=c(A,"DIV",{class:!0});var J=v(I);k=c(J,"BUTTON",{class:!0});var x=v(k);L=b(x,"Cancel"),x.forEach(i),S=V(J),M=c(J,"BUTTON",{class:!0});var U=v(M);T=b(U,"Select"),U.forEach(i),J.forEach(i),A.forEach(i),B.forEach(i),H.forEach(i),this.h()},h(){o(n,"class","text-lg leading-6 font-medium mb-2"),o(m,"class","my-5 grid grid-cols-1 sm:grid-cols-2 gap-2"),o(k,"class","px-4 py-2 fpl-cancel-btn text-white text-base font-medium rounded-md w-full shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-300"),o(M,"class","px-4 py-2 fpl-purple-btn text-white text-base font-medium rounded-md w-full shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-300"),o(I,"class","items-center py-3 flex space-x-4"),o(l,"class","mt-3 px-4 py-2"),o(t,"class","relative top-20 mx-auto p-5 border border-gray-700 mx-8 md:mx-64 shadow-lg rounded-md bg-panel text-white"),o(e,"class","fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full")},m(w,H){W(w,e,H),a(e,t),a(t,l),a(l,n),a(n,h),a(n,f),a(n,_),a(l,E),a(l,m);for(let B=0;B<D.length;B+=1)D[B]&&D[B].m(m,null);a(l,d),a(l,I),a(I,k),a(k,L),a(I,S),a(I,M),a(M,T),O||(y=[Z(k,"click",function(){je(s[4])&&s[4].apply(this,arguments)}),Z(M,"click",function(){je(s[4])&&s[4].apply(this,arguments)}),Z(t,"click",qt(s[9])),Z(t,"keydown",s[8]),Z(e,"click",function(){je(s[4])&&s[4].apply(this,arguments)}),Z(e,"keydown",function(){je(s[4])&&s[4].apply(this,arguments)})],O=!0)},p(w,H){if(s=w,H&2&&r!==(r=s[1].friendlyName+"")&&le(f,r),H&224){g=s[6].sort(pl);let B;for(B=0;B<g.length;B+=1){const A=ul(s,g,B);D[B]?D[B].p(A,H):(D[B]=ml(A),D[B].c(),D[B].m(m,null))}for(;B<D.length;B+=1)D[B].d(1);D.length=g.length}},d(w){w&&i(e),Wl(D,w),O=!1,bt(y)}}}function dl(s){let e;return{c(){e=p("GK")},l(t){e=b(t,"GK")},m(t,l){W(t,e,l)},d(t){t&&i(e)}}}function vl(s){let e;return{c(){e=p("DF")},l(t){e=b(t,"DF")},m(t,l){W(t,e,l)},d(t){t&&i(e)}}}function _l(s){let e;return{c(){e=p("MF")},l(t){e=b(t,"MF")},m(t,l){W(t,e,l)},d(t){t&&i(e)}}}function hl(s){let e;return{c(){e=p("FW")},l(t){e=b(t,"FW")},m(t,l){W(t,e,l)},d(t){t&&i(e)}}}function ml(s){let e,t,l,n=`${s[12].firstName.length>0?s[12].firstName.charAt(0)+".":""} ${s[12].lastName}`,h,r,f,_,E,m,d,I,k,L,S,M,T,O,y,g=s[12].position==0&&dl(),D=s[12].position==1&&vl(),w=s[12].position==2&&_l(),H=s[12].position==3&&hl();function B(...A){return s[10](s[12],...A)}return{c(){e=u("div"),t=u("div"),l=u("span"),h=p(n),r=P(),f=u("div"),_=u("span"),g&&g.c(),E=P(),D&&D.c(),m=P(),w&&w.c(),d=P(),H&&H.c(),I=P(),k=u("div"),L=u("label"),S=u("input"),T=P(),this.h()},l(A){e=c(A,"DIV",{class:!0});var N=v(e);t=c(N,"DIV",{class:!0});var z=v(t);l=c(z,"SPAN",{class:!0});var J=v(l);h=b(J,n),J.forEach(i),z.forEach(i),r=V(N),f=c(N,"DIV",{class:!0});var x=v(f);_=c(x,"SPAN",{class:!0});var U=v(_);g&&g.l(U),E=V(U),D&&D.l(U),m=V(U),w&&w.l(U),d=V(U),H&&H.l(U),U.forEach(i),x.forEach(i),I=V(N),k=c(N,"DIV",{class:!0});var K=v(k);L=c(K,"LABEL",{class:!0});var q=v(L);S=c(q,"INPUT",{type:!0,class:!0}),q.forEach(i),K.forEach(i),T=V(N),N.forEach(i),this.h()},h(){o(l,"class","text-lg font-medium"),o(t,"class","flex w-1/2"),o(_,"class","text-lg font-medium"),o(f,"class","flex w-1/4"),o(S,"type","checkbox"),o(S,"class","form-checkbox h-5 w-5 text-blue-600"),S.checked=M=s[13],o(L,"class","inline-flex items-center"),o(k,"class","form-checkbox w-1/4"),o(e,"class","flex flex-row justify-between items-center mx-4 border-b")},m(A,N){W(A,e,N),a(e,t),a(t,l),a(l,h),a(e,r),a(e,f),a(f,_),g&&g.m(_,null),a(_,E),D&&D.m(_,null),a(_,m),w&&w.m(_,null),a(_,d),H&&H.m(_,null),a(e,I),a(e,k),a(k,L),a(L,S),a(e,T),O||(y=Z(S,"change",B),O=!0)},p(A,N){s=A,N&64&&n!==(n=`${s[12].firstName.length>0?s[12].firstName.charAt(0)+".":""} ${s[12].lastName}`)&&le(h,n),s[12].position==0?g||(g=dl(),g.c(),g.m(_,E)):g&&(g.d(1),g=null),s[12].position==1?D||(D=vl(),D.c(),D.m(_,m)):D&&(D.d(1),D=null),s[12].position==2?w||(w=_l(),w.c(),w.m(_,d)):w&&(w.d(1),w=null),s[12].position==3?H||(H=hl(),H.c(),H.m(_,null)):H&&(H.d(1),H=null),N&96&&M!==(M=s[13])&&(S.checked=M)},d(A){A&&i(e),g&&g.d(),D&&D.d(),w&&w.d(),H&&H.d(),O=!1,y()}}}function cs(s){let e,t=s[3]&&cl(s);return{c(){t&&t.c(),e=Me()},l(l){t&&t.l(l),e=Me()},m(l,n){t&&t.m(l,n),W(l,e,n)},p(l,[n]){l[3]?t?t.p(l,n):(t=cl(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:Ve,o:Ve,d(l){t&&t.d(l),l&&i(e)}}}const pl=(s,e)=>s.position-e.position;function ds(s,e,t){let l,n=Ve,h=()=>(n(),n=Tt(d,y=>t(5,l=y)),d),r,f=Ve,_=()=>(f(),f=Tt(E,y=>t(6,r=y)),E);s.$$.on_destroy.push(()=>n()),s.$$.on_destroy.push(()=>f());let{teamPlayers:E=st([])}=e;_();let{selectedTeam:m}=e,{selectedPlayers:d=st([])}=e;h();let{show:I=!1}=e;function k(y,g){const D=y.target;let w=l,H=r;if(D.checked){const B=H.find(A=>A.id===g.id);B&&!w.some(A=>A.id===g.id)&&(w=[...w,B])}else w=w.filter(B=>B.id!==g.id);Gt(d,l=w,l)}let{closeModal:L}=e;function S(y){!(y.target instanceof HTMLInputElement)&&y.key==="Escape"&&L()}function M(y){Ht.call(this,s,y)}const T=(y,g)=>{k(g,y)},O=(y,g)=>g.id===y.id;return s.$$set=y=>{"teamPlayers"in y&&_(t(0,E=y.teamPlayers)),"selectedTeam"in y&&t(1,m=y.selectedTeam),"selectedPlayers"in y&&h(t(2,d=y.selectedPlayers)),"show"in y&&t(3,I=y.show),"closeModal"in y&&t(4,L=y.closeModal)},[E,m,d,I,L,l,r,k,S,M,T,O]}class vs extends gt{constructor(e){super(),wt(this,e,ds,cs,It,{teamPlayers:0,selectedTeam:1,selectedPlayers:2,show:3,closeModal:4})}}function bl(s){let e,t,l,n,h,r,f,_,E,m,d,I,k,L,S,M,T,O,y,g,D,w,H,B;return{c(){e=u("div"),t=u("div"),l=u("div"),n=u("h4"),h=p("Confirm Fixture Data"),r=P(),f=u("button"),_=p("✕"),E=P(),m=u("div"),d=u("h1"),I=p("Please confirm your fixture data."),k=P(),L=u("p"),S=p(`You will not be able to edit your submission and entries that differ
          from the accepted consensus data will not receive $FPL rewards. If
          consensus has already been reached for the fixture your submission
          will also not be counted.`),M=P(),T=u("div"),O=u("button"),y=p("Cancel"),g=P(),D=u("button"),w=p("Confirm"),this.h()},l(A){e=c(A,"DIV",{class:!0});var N=v(e);t=c(N,"DIV",{class:!0});var z=v(t);l=c(z,"DIV",{class:!0});var J=v(l);n=c(J,"H4",{class:!0});var x=v(n);h=b(x,"Confirm Fixture Data"),x.forEach(i),r=V(J),f=c(J,"BUTTON",{class:!0});var U=v(f);_=b(U,"✕"),U.forEach(i),J.forEach(i),E=V(z),m=c(z,"DIV",{class:!0});var K=v(m);d=c(K,"H1",{});var q=v(d);I=b(q,"Please confirm your fixture data."),q.forEach(i),k=V(K),L=c(K,"P",{class:!0});var Y=v(L);S=b(Y,`You will not be able to edit your submission and entries that differ
          from the accepted consensus data will not receive $FPL rewards. If
          consensus has already been reached for the fixture your submission
          will also not be counted.`),Y.forEach(i),K.forEach(i),M=V(z),T=c(z,"DIV",{class:!0});var $=v(T);O=c($,"BUTTON",{class:!0});var he=v(O);y=b(he,"Cancel"),he.forEach(i),g=V($),D=c($,"BUTTON",{class:!0});var ue=v(D);w=b(ue,"Confirm"),ue.forEach(i),$.forEach(i),z.forEach(i),N.forEach(i),this.h()},h(){o(n,"class","text-lg font-bold"),o(f,"class","text-black"),o(l,"class","flex justify-between items-center"),o(L,"class","text-sm text-gray-600"),o(m,"class","my-5"),o(O,"class","px-4 py-2 border rounded text-black"),o(D,"class","px-4 py-2 bg-blue-500 text-white rounded"),o(T,"class","flex justify-end gap-3"),o(t,"class","relative top-20 mx-auto p-5 border w-3/4 shadow-lg rounded-md"),o(e,"class","fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full")},m(A,N){W(A,e,N),a(e,t),a(t,l),a(l,n),a(n,h),a(l,r),a(l,f),a(f,_),a(t,E),a(t,m),a(m,d),a(d,I),a(m,k),a(m,L),a(L,S),a(t,M),a(t,T),a(T,O),a(O,y),a(T,g),a(T,D),a(D,w),H||(B=[Z(f,"click",s[2]),Z(O,"click",s[2]),Z(D,"click",function(){je(s[1])&&s[1].apply(this,arguments)})],H=!0)},p(A,N){s=A},d(A){A&&i(e),H=!1,bt(B)}}}function _s(s){let e,t=s[0]&&bl(s);return{c(){t&&t.c(),e=Me()},l(l){t&&t.l(l),e=Me()},m(l,n){t&&t.m(l,n),W(l,e,n)},p(l,[n]){l[0]?t?t.p(l,n):(t=bl(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:Ve,o:Ve,d(l){t&&t.d(l),l&&i(e)}}}function hs(s,e,t){let{show:l=!1}=e,{onConfirm:n}=e;function h(){t(0,l=!1)}return s.$$set=r=>{"show"in r&&t(0,l=r.show),"onConfirm"in r&&t(1,n=r.onConfirm)},[l,n,h]}class ms extends gt{constructor(e){super(),wt(this,e,hs,_s,It,{show:0,onConfirm:1})}}function yl(s){let e,t,l,n,h,r,f,_,E,m,d,I,k,L;return{c(){e=u("div"),t=u("div"),l=u("div"),n=u("h3"),h=p("Please confirm you want to clear the draft from your cache."),r=P(),f=u("div"),_=u("button"),E=p("Cancel"),m=P(),d=u("button"),I=p("Clear"),this.h()},l(S){e=c(S,"DIV",{class:!0});var M=v(e);t=c(M,"DIV",{class:!0});var T=v(t);l=c(T,"DIV",{class:!0});var O=v(l);n=c(O,"H3",{class:!0});var y=v(n);h=b(y,"Please confirm you want to clear the draft from your cache."),y.forEach(i),O.forEach(i),r=V(T),f=c(T,"DIV",{class:!0});var g=v(f);_=c(g,"BUTTON",{class:!0});var D=v(_);E=b(D,"Cancel"),D.forEach(i),m=V(g),d=c(g,"BUTTON",{class:!0});var w=v(d);I=b(w,"Clear"),w.forEach(i),g.forEach(i),T.forEach(i),M.forEach(i),this.h()},h(){o(n,"class","text-lg leading-6 font-medium mb-2"),o(l,"class","mt-3 text-center"),o(_,"class","px-4 py-2 fpl-cancel-btn text-white text-base font-medium rounded-md w-full shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-300"),o(d,"class","px-4 py-2 fpl-purple-btn text-white text-base font-medium rounded-md w-full shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-300"),o(f,"class","items-center py-3 flex space-x-4"),o(t,"class","relative top-20 mx-auto p-5 border border-gray-700 w-96 shadow-lg rounded-md bg-panel text-white"),o(e,"class","fixed inset-0 bg-gray-900 bg-opacity-80 overflow-y-auto h-full w-full modal-backdrop")},m(S,M){W(S,e,M),a(e,t),a(t,l),a(l,n),a(n,h),a(t,r),a(t,f),a(f,_),a(_,E),a(f,m),a(f,d),a(d,I),k||(L=[Z(_,"click",function(){je(s[2])&&s[2].apply(this,arguments)}),Z(d,"click",function(){je(s[1])&&s[1].apply(this,arguments)}),Z(t,"click",qt(s[4])),Z(t,"keydown",s[3]),Z(e,"click",function(){je(s[2])&&s[2].apply(this,arguments)}),Z(e,"keydown",s[3])],k=!0)},p(S,M){s=S},d(S){S&&i(e),k=!1,bt(L)}}}function ps(s){let e,t=s[0]&&yl(s);return{c(){t&&t.c(),e=Me()},l(l){t&&t.l(l),e=Me()},m(l,n){t&&t.m(l,n),W(l,e,n)},p(l,[n]){l[0]?t?t.p(l,n):(t=yl(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:Ve,o:Ve,d(l){t&&t.d(l),l&&i(e)}}}function bs(s,e,t){let{show:l=!1}=e,{onConfirm:n}=e,{closeModal:h}=e;function r(_){!(_.target instanceof HTMLInputElement)&&_.key==="Escape"&&h()}function f(_){Ht.call(this,s,_)}return s.$$set=_=>{"show"in _&&t(0,l=_.show),"onConfirm"in _&&t(1,n=_.onConfirm),"closeModal"in _&&t(2,h=_.closeModal)},[l,n,h,r,f]}class ys extends gt{constructor(e){super(),wt(this,e,bs,ps,It,{show:0,onConfirm:1,closeModal:2})}}function El(s,e,t){const l=s.slice();return l[50]=e[t],l}function gl(s,e,t){const l=s.slice();return l[50]=e[t],l}function Es(s){let e,t,l,n,h,r,f,_,E,m,d,I,k,L,S=s[13]&&wl(s);return{c(){e=u("div"),t=u("div"),l=u("div"),n=u("button"),h=p("Select Players"),r=P(),f=u("button"),_=p("Save Draft"),E=P(),m=u("button"),d=p("Clear Draft"),I=P(),S&&S.c(),this.h()},l(M){e=c(M,"DIV",{class:!0});var T=v(e);t=c(T,"DIV",{class:!0});var O=v(t);l=c(O,"DIV",{class:!0});var y=v(l);n=c(y,"BUTTON",{class:!0});var g=v(n);h=b(g,"Select Players"),g.forEach(i),r=V(y),f=c(y,"BUTTON",{class:!0});var D=v(f);_=b(D,"Save Draft"),D.forEach(i),E=V(y),m=c(y,"BUTTON",{class:!0});var w=v(m);d=b(w,"Clear Draft"),w.forEach(i),y.forEach(i),I=V(O),S&&S.l(O),O.forEach(i),T.forEach(i),this.h()},h(){o(n,"class","fpl-button px-4 py-2"),o(f,"class","fpl-button px-4 py-2"),o(m,"class","fpl-button px-4 py-2"),o(l,"class","flex flex-row space-x-2 p-4"),o(t,"class","flex flex-col text-xs md:text-base mt-4"),o(e,"class","container-fluid mx-4 md:mx-16 mt-4 bg-panel")},m(M,T){W(M,e,T),a(e,t),a(t,l),a(l,n),a(n,h),a(l,r),a(l,f),a(f,_),a(l,E),a(l,m),a(m,d),a(t,I),S&&S.m(t,null),k||(L=[Z(n,"click",s[23]),Z(f,"click",s[18]),Z(m,"click",s[25])],k=!0)},p(M,T){M[13]?S?S.p(M,T):(S=wl(M),S.c(),S.m(t,null)):S&&(S.d(1),S=null)},i:Ve,o:Ve,d(M){M&&i(e),S&&S.d(),k=!1,bt(L)}}}function gs(s){let e,t;return e=new ns({}),{c(){_t(e.$$.fragment)},l(l){ht(e.$$.fragment,l)},m(l,n){mt(e,l,n),t=!0},p:Ve,i(l){t||(Se(e.$$.fragment,l),t=!0)},o(l){Ue(e.$$.fragment,l),t=!1},d(l){pt(e,l)}}}function wl(s){let e,t,l,n,h=s[3]?.friendlyName+"",r,f,_,E,m,d,I=s[4]?.friendlyName+"",k,L,S,M,T,O,y,g,D,w,H,B,A,N,z,J,x,U,K,q,Y,$,he,ue,ne,fe,ce,De,G,F,X,se,ke,Ee=s[0].filter(Ul).length+"",ee,Te,ge,we,Be=s[0].filter(Bl).length+"",Ge,Ye,Ie,C,j=s[0].filter(Gl).length+"",de,ie,Ne,Ze,Ae=s[0].filter(Kl).length+"",Fe,$e,Ke,at,oe=s[0].filter(Rl).length+"",Re,re,ae,me,te=s[0].filter(ql).length+"",pe,nt,Oe,Je,Xe=s[0].filter(Hl).length+"",Ce,it,be,ot,ze=s[0].filter(jl).length+"",xe,rt,qe,ft,Qe=s[0].filter(Yl).length+"",et,We,He,Pe,ut,tt,ct,yt,ve=s[11]==="home"&&Il(s),_e=s[11]==="away"&&Vl(s);return{c(){e=u("div"),t=u("ul"),l=u("li"),n=u("button"),r=p(h),E=P(),m=u("li"),d=u("button"),k=p(I),M=P(),T=u("div"),O=u("div"),y=u("div"),g=p("Player"),D=P(),w=u("div"),H=p("Position"),B=P(),A=u("div"),N=p("Events"),z=P(),J=u("div"),x=p("Start"),U=P(),K=u("div"),q=p("End"),Y=P(),$=u("div"),he=p(" "),ue=P(),ve&&ve.c(),ne=P(),_e&&_e.c(),fe=P(),ce=u("div"),De=u("h1"),G=p("Summary"),F=P(),X=u("div"),se=u("div"),ke=p("Appearances: "),ee=p(Ee),Te=P(),ge=u("div"),we=p("Goals: "),Ge=p(Be),Ye=P(),Ie=u("div"),C=p("Own Goals: "),de=p(j),ie=P(),Ne=u("div"),Ze=p("Assists: "),Fe=p(Ae),$e=P(),Ke=u("div"),at=p("Keeper Saves: "),Re=p(oe),re=P(),ae=u("div"),me=p("Yellow Cards: "),pe=p(te),nt=P(),Oe=u("div"),Je=p("Red Cards: "),Ce=p(Xe),it=P(),be=u("div"),ot=p("Penalties Saved: "),xe=p(ze),rt=P(),qe=u("div"),ft=p("Penalties Missed: "),et=p(Qe),We=P(),He=u("div"),Pe=u("button"),ut=p("Submit Event Data"),this.h()},l(R){e=c(R,"DIV",{class:!0});var Q=v(e);t=c(Q,"UL",{class:!0});var lt=v(t);l=c(lt,"LI",{class:!0});var dt=v(l);n=c(dt,"BUTTON",{class:!0});var jt=v(n);r=b(jt,h),jt.forEach(i),dt.forEach(i),E=V(lt),m=c(lt,"LI",{class:!0});var Yt=v(m);d=c(Yt,"BUTTON",{class:!0});var Wt=v(d);k=b(Wt,I),Wt.forEach(i),Yt.forEach(i),lt.forEach(i),Q.forEach(i),M=V(R),T=c(R,"DIV",{class:!0});var vt=v(T);O=c(vt,"DIV",{class:!0});var Le=v(O);y=c(Le,"DIV",{class:!0});var Jt=v(y);g=b(Jt,"Player"),Jt.forEach(i),D=V(Le),w=c(Le,"DIV",{class:!0});var Xt=v(w);H=b(Xt,"Position"),Xt.forEach(i),B=V(Le),A=c(Le,"DIV",{class:!0});var zt=v(A);N=b(zt,"Events"),zt.forEach(i),z=V(Le),J=c(Le,"DIV",{class:!0});var Qt=v(J);x=b(Qt,"Start"),Qt.forEach(i),U=V(Le),K=c(Le,"DIV",{class:!0});var Zt=v(K);q=b(Zt,"End"),Zt.forEach(i),Y=V(Le),$=c(Le,"DIV",{class:!0});var $t=v($);he=b($t," "),$t.forEach(i),Le.forEach(i),ue=V(vt),ve&&ve.l(vt),ne=V(vt),_e&&_e.l(vt),vt.forEach(i),fe=V(R),ce=c(R,"DIV",{class:!0});var xt=v(ce);De=c(xt,"H1",{});var el=v(De);G=b(el,"Summary"),el.forEach(i),xt.forEach(i),F=V(R),X=c(R,"DIV",{class:!0});var ye=v(X);se=c(ye,"DIV",{class:!0});var Nt=v(se);ke=b(Nt,"Appearances: "),ee=b(Nt,Ee),Nt.forEach(i),Te=V(ye),ge=c(ye,"DIV",{class:!0});var Pt=v(ge);we=b(Pt,"Goals: "),Ge=b(Pt,Be),Pt.forEach(i),Ye=V(ye),Ie=c(ye,"DIV",{class:!0});var Vt=v(Ie);C=b(Vt,"Own Goals: "),de=b(Vt,j),Vt.forEach(i),ie=V(ye),Ne=c(ye,"DIV",{class:!0});var St=v(Ne);Ze=b(St,"Assists: "),Fe=b(St,Ae),St.forEach(i),$e=V(ye),Ke=c(ye,"DIV",{class:!0});var Mt=v(Ke);at=b(Mt,"Keeper Saves: "),Re=b(Mt,oe),Mt.forEach(i),re=V(ye),ae=c(ye,"DIV",{class:!0});var Ot=v(ae);me=b(Ot,"Yellow Cards: "),pe=b(Ot,te),Ot.forEach(i),nt=V(ye),Oe=c(ye,"DIV",{class:!0});var Ct=v(Oe);Je=b(Ct,"Red Cards: "),Ce=b(Ct,Xe),Ct.forEach(i),it=V(ye),be=c(ye,"DIV",{class:!0});var At=v(be);ot=b(At,"Penalties Saved: "),xe=b(At,ze),At.forEach(i),rt=V(ye),qe=c(ye,"DIV",{class:!0});var Ft=v(qe);ft=b(Ft,"Penalties Missed: "),et=b(Ft,Qe),Ft.forEach(i),ye.forEach(i),We=V(R),He=c(R,"DIV",{class:!0});var tl=v(He);Pe=c(tl,"BUTTON",{class:!0});var ll=v(Pe);ut=b(ll,"Submit Event Data"),ll.forEach(i),tl.forEach(i),this.h()},h(){o(n,"class",f=`p-2 ${s[11]==="home"?"text-white":"text-gray-400"}`),o(l,"class",_=`mr-4 text-xs md:text-base ${s[11]==="home"?"active-tab":""}`),o(d,"class",L=`p-2 ${s[11]==="away"?"text-white":"text-gray-400"}`),o(m,"class",S=`mr-4 text-xs md:text-base ${s[11]==="away"?"active-tab":""}`),o(t,"class","flex bg-light-gray px-4 pt-2 w-full mt-4"),o(e,"class","flex w-full"),o(y,"class","w-1/6 px-4"),o(w,"class","w-1/6 px-4"),o(A,"class","w-1/6 px-4"),o(J,"class","w-1/6 px-4"),o(K,"class","w-1/6 px-4"),o($,"class","w-1/6 px-4"),o(O,"class","flex items-center p-2 justify-between py-4 border-b border-gray-700 cursor-pointer w-full"),o(T,"class","flex w-full flex-col"),o(ce,"class","flex w-full m-4"),o(se,"class","text-sm font-medium flex-grow"),o(ge,"class","text-sm font-medium flex-grow"),o(Ie,"class","text-sm font-medium flex-grow"),o(Ne,"class","text-sm font-medium flex-grow"),o(Ke,"class","text-sm font-medium flex-grow"),o(ae,"class","text-sm font-medium flex-grow"),o(Oe,"class","text-sm font-medium flex-grow"),o(be,"class","text-sm font-medium flex-grow"),o(qe,"class","text-sm font-medium flex-grow"),o(X,"class","flex flex-row w-full m-4"),o(Pe,"class",tt=`${s[12]?"bg-gray-500":"fpl-purple-btn"} 
              px-4 py-2 text-white text-base font-medium rounded-md w-full shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-300`),Pe.disabled=s[12],o(He,"class","items-center mt-3 flex space-x-4")},m(R,Q){W(R,e,Q),a(e,t),a(t,l),a(l,n),a(n,r),a(t,E),a(t,m),a(m,d),a(d,k),W(R,M,Q),W(R,T,Q),a(T,O),a(O,y),a(y,g),a(O,D),a(O,w),a(w,H),a(O,B),a(O,A),a(A,N),a(O,z),a(O,J),a(J,x),a(O,U),a(O,K),a(K,q),a(O,Y),a(O,$),a($,he),a(T,ue),ve&&ve.m(T,null),a(T,ne),_e&&_e.m(T,null),W(R,fe,Q),W(R,ce,Q),a(ce,De),a(De,G),W(R,F,Q),W(R,X,Q),a(X,se),a(se,ke),a(se,ee),a(X,Te),a(X,ge),a(ge,we),a(ge,Ge),a(X,Ye),a(X,Ie),a(Ie,C),a(Ie,de),a(X,ie),a(X,Ne),a(Ne,Ze),a(Ne,Fe),a(X,$e),a(X,Ke),a(Ke,at),a(Ke,Re),a(X,re),a(X,ae),a(ae,me),a(ae,pe),a(X,nt),a(X,Oe),a(Oe,Je),a(Oe,Ce),a(X,it),a(X,be),a(be,ot),a(be,xe),a(X,rt),a(X,qe),a(qe,ft),a(qe,et),W(R,We,Q),W(R,He,Q),a(He,Pe),a(Pe,ut),ct||(yt=[Z(n,"click",s[28]),Z(d,"click",s[29]),Z(Pe,"click",s[17])],ct=!0)},p(R,Q){Q[0]&8&&h!==(h=R[3]?.friendlyName+"")&&le(r,h),Q[0]&2048&&f!==(f=`p-2 ${R[11]==="home"?"text-white":"text-gray-400"}`)&&o(n,"class",f),Q[0]&2048&&_!==(_=`mr-4 text-xs md:text-base ${R[11]==="home"?"active-tab":""}`)&&o(l,"class",_),Q[0]&16&&I!==(I=R[4]?.friendlyName+"")&&le(k,I),Q[0]&2048&&L!==(L=`p-2 ${R[11]==="away"?"text-white":"text-gray-400"}`)&&o(d,"class",L),Q[0]&2048&&S!==(S=`mr-4 text-xs md:text-base ${R[11]==="away"?"active-tab":""}`)&&o(m,"class",S),R[11]==="home"?ve?ve.p(R,Q):(ve=Il(R),ve.c(),ve.m(T,ne)):ve&&(ve.d(1),ve=null),R[11]==="away"?_e?_e.p(R,Q):(_e=Vl(R),_e.c(),_e.m(T,null)):_e&&(_e.d(1),_e=null),Q[0]&1&&Ee!==(Ee=R[0].filter(Ul).length+"")&&le(ee,Ee),Q[0]&1&&Be!==(Be=R[0].filter(Bl).length+"")&&le(Ge,Be),Q[0]&1&&j!==(j=R[0].filter(Gl).length+"")&&le(de,j),Q[0]&1&&Ae!==(Ae=R[0].filter(Kl).length+"")&&le(Fe,Ae),Q[0]&1&&oe!==(oe=R[0].filter(Rl).length+"")&&le(Re,oe),Q[0]&1&&te!==(te=R[0].filter(ql).length+"")&&le(pe,te),Q[0]&1&&Xe!==(Xe=R[0].filter(Hl).length+"")&&le(Ce,Xe),Q[0]&1&&ze!==(ze=R[0].filter(jl).length+"")&&le(xe,ze),Q[0]&1&&Qe!==(Qe=R[0].filter(Yl).length+"")&&le(et,Qe),Q[0]&4096&&tt!==(tt=`${R[12]?"bg-gray-500":"fpl-purple-btn"} 
              px-4 py-2 text-white text-base font-medium rounded-md w-full shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-300`)&&o(Pe,"class",tt),Q[0]&4096&&(Pe.disabled=R[12])},d(R){R&&i(e),R&&i(M),R&&i(T),ve&&ve.d(),_e&&_e.d(),R&&i(fe),R&&i(ce),R&&i(F),R&&i(X),R&&i(We),R&&i(He),ct=!1,bt(yt)}}}function Il(s){let e=[],t=new Map,l,n=s[1].filter(s[30]);const h=r=>r[50].id;for(let r=0;r<n.length;r+=1){let f=gl(s,n,r),_=h(f);t.set(_,e[r]=Pl(_,f))}return{c(){for(let r=0;r<e.length;r+=1)e[r].c();l=Me()},l(r){for(let f=0;f<e.length;f+=1)e[f].l(r);l=Me()},m(r,f){for(let _=0;_<e.length;_+=1)e[_]&&e[_].m(r,f);W(r,l,f)},p(r,f){f[0]&2097159&&(n=r[1].filter(r[30]),e=Jl(e,f,h,1,r,n,t,l.parentNode,Xl,Pl,l,gl))},d(r){for(let f=0;f<e.length;f+=1)e[f].d(r);r&&i(l)}}}function Dl(s){let e,t;return{c(){e=u("div"),t=p("GK"),this.h()},l(l){e=c(l,"DIV",{class:!0});var n=v(e);t=b(n,"GK"),n.forEach(i),this.h()},h(){o(e,"class","w-1/6 px-4")},m(l,n){W(l,e,n),a(e,t)},d(l){l&&i(e)}}}function kl(s){let e,t;return{c(){e=u("div"),t=p("DF"),this.h()},l(l){e=c(l,"DIV",{class:!0});var n=v(e);t=b(n,"DF"),n.forEach(i),this.h()},h(){o(e,"class","w-1/6 px-4")},m(l,n){W(l,e,n),a(e,t)},d(l){l&&i(e)}}}function Tl(s){let e,t;return{c(){e=u("div"),t=p("MF"),this.h()},l(l){e=c(l,"DIV",{class:!0});var n=v(e);t=b(n,"MF"),n.forEach(i),this.h()},h(){o(e,"class","w-1/6 px-4")},m(l,n){W(l,e,n),a(e,t)},d(l){l&&i(e)}}}function Nl(s){let e,t;return{c(){e=u("div"),t=p("FW"),this.h()},l(l){e=c(l,"DIV",{class:!0});var n=v(e);t=b(n,"FW"),n.forEach(i),this.h()},h(){o(e,"class","w-1/6 px-4")},m(l,n){W(l,e,n),a(e,t)},d(l){l&&i(e)}}}function Pl(s,e){let t,l,n=`${e[50].firstName.length>0?e[50].firstName.charAt(0)+".":""} ${e[50].lastName}`,h,r,f,_,E,m,d,I,k=(e[0]?.length>0&&e[0]?.filter($).length?e[0]?.filter(he).length:0)+"",L,S,M,T=(e[0]&&e[0]?.length>0&&e[0]?.find(ue)?e[0]?.find(ne)?.eventStartMinute:"-")+"",O,y,g,D=(e[0]&&e[0]?.length>0&&e[0]?.find(fe)?e[0]?.find(ce)?.eventEndMinute:"-")+"",w,H,B,A,N,z,J,x,U=e[50].position==0&&Dl(),K=e[50].position==1&&kl(),q=e[50].position==2&&Tl(),Y=e[50].position==3&&Nl();function $(...G){return e[31](e[50],...G)}function he(...G){return e[32](e[50],...G)}function ue(...G){return e[33](e[50],...G)}function ne(...G){return e[34](e[50],...G)}function fe(...G){return e[35](e[50],...G)}function ce(...G){return e[36](e[50],...G)}function De(){return e[37](e[50])}return{key:s,first:null,c(){t=u("div"),l=u("div"),h=p(n),r=P(),U&&U.c(),f=P(),K&&K.c(),_=P(),q&&q.c(),E=P(),Y&&Y.c(),m=P(),d=u("div"),I=p(`Events:
                    `),L=p(k),S=P(),M=u("div"),O=p(T),y=P(),g=u("div"),w=p(D),H=P(),B=u("div"),A=u("button"),N=p("Update Events"),z=P(),this.h()},l(G){t=c(G,"DIV",{class:!0});var F=v(t);l=c(F,"DIV",{class:!0});var X=v(l);h=b(X,n),X.forEach(i),r=V(F),U&&U.l(F),f=V(F),K&&K.l(F),_=V(F),q&&q.l(F),E=V(F),Y&&Y.l(F),m=V(F),d=c(F,"DIV",{class:!0});var se=v(d);I=b(se,`Events:
                    `),L=b(se,k),se.forEach(i),S=V(F),M=c(F,"DIV",{class:!0});var ke=v(M);O=b(ke,T),ke.forEach(i),y=V(F),g=c(F,"DIV",{class:!0});var Ee=v(g);w=b(Ee,D),Ee.forEach(i),H=V(F),B=c(F,"DIV",{class:!0});var ee=v(B);A=c(ee,"BUTTON",{class:!0});var Te=v(A);N=b(Te,"Update Events"),Te.forEach(i),ee.forEach(i),z=V(F),F.forEach(i),this.h()},h(){o(l,"class","w-1/6 px-4"),o(d,"class","w-1/6 px-4"),o(M,"class","w-1/6 px-4"),o(g,"class","w-1/6 px-4"),o(A,"class","text-base sm:text-xs md:text-base rounded fpl-button px-3 sm:px-2 px-3 py-1 ml-1"),o(B,"class","w-1/6 px-4"),o(t,"class","flex items-center p-2 justify-between py-4 border-b border-gray-700 cursor-pointer w-full"),this.first=t},m(G,F){W(G,t,F),a(t,l),a(l,h),a(t,r),U&&U.m(t,null),a(t,f),K&&K.m(t,null),a(t,_),q&&q.m(t,null),a(t,E),Y&&Y.m(t,null),a(t,m),a(t,d),a(d,I),a(d,L),a(t,S),a(t,M),a(M,O),a(t,y),a(t,g),a(g,w),a(t,H),a(t,B),a(B,A),a(A,N),a(t,z),J||(x=Z(A,"click",De),J=!0)},p(G,F){e=G,F[0]&6&&n!==(n=`${e[50].firstName.length>0?e[50].firstName.charAt(0)+".":""} ${e[50].lastName}`)&&le(h,n),e[50].position==0?U||(U=Dl(),U.c(),U.m(t,f)):U&&(U.d(1),U=null),e[50].position==1?K||(K=kl(),K.c(),K.m(t,_)):K&&(K.d(1),K=null),e[50].position==2?q||(q=Tl(),q.c(),q.m(t,E)):q&&(q.d(1),q=null),e[50].position==3?Y||(Y=Nl(),Y.c(),Y.m(t,m)):Y&&(Y.d(1),Y=null),F[0]&7&&k!==(k=(e[0]?.length>0&&e[0]?.filter($).length?e[0]?.filter(he).length:0)+"")&&le(L,k),F[0]&7&&T!==(T=(e[0]&&e[0]?.length>0&&e[0]?.find(ue)?e[0]?.find(ne)?.eventStartMinute:"-")+"")&&le(O,T),F[0]&7&&D!==(D=(e[0]&&e[0]?.length>0&&e[0]?.find(fe)?e[0]?.find(ce)?.eventEndMinute:"-")+"")&&le(w,D)},d(G){G&&i(t),U&&U.d(),K&&K.d(),q&&q.d(),Y&&Y.d(),J=!1,x()}}}function Vl(s){let e=[],t=new Map,l,n=s[1].filter(s[38]);const h=r=>r[50].id;for(let r=0;r<n.length;r+=1){let f=El(s,n,r),_=h(f);t.set(_,e[r]=Al(_,f))}return{c(){for(let r=0;r<e.length;r+=1)e[r].c();l=Me()},l(r){for(let f=0;f<e.length;f+=1)e[f].l(r);l=Me()},m(r,f){for(let _=0;_<e.length;_+=1)e[_]&&e[_].m(r,f);W(r,l,f)},p(r,f){f[0]&2097159&&(n=r[1].filter(r[38]),e=Jl(e,f,h,1,r,n,t,l.parentNode,Xl,Al,l,El))},d(r){for(let f=0;f<e.length;f+=1)e[f].d(r);r&&i(l)}}}function Sl(s){let e,t;return{c(){e=u("div"),t=p("GK"),this.h()},l(l){e=c(l,"DIV",{class:!0});var n=v(e);t=b(n,"GK"),n.forEach(i),this.h()},h(){o(e,"class","w-1/6 px-4")},m(l,n){W(l,e,n),a(e,t)},d(l){l&&i(e)}}}function Ml(s){let e,t;return{c(){e=u("div"),t=p("DF"),this.h()},l(l){e=c(l,"DIV",{class:!0});var n=v(e);t=b(n,"DF"),n.forEach(i),this.h()},h(){o(e,"class","w-1/6 px-4")},m(l,n){W(l,e,n),a(e,t)},d(l){l&&i(e)}}}function Ol(s){let e,t;return{c(){e=u("div"),t=p("MF"),this.h()},l(l){e=c(l,"DIV",{class:!0});var n=v(e);t=b(n,"MF"),n.forEach(i),this.h()},h(){o(e,"class","w-1/6 px-4")},m(l,n){W(l,e,n),a(e,t)},d(l){l&&i(e)}}}function Cl(s){let e,t;return{c(){e=u("div"),t=p("FW"),this.h()},l(l){e=c(l,"DIV",{class:!0});var n=v(e);t=b(n,"FW"),n.forEach(i),this.h()},h(){o(e,"class","w-1/6 px-4")},m(l,n){W(l,e,n),a(e,t)},d(l){l&&i(e)}}}function Al(s,e){let t,l,n=`${e[50].firstName.length>0?e[50].firstName.charAt(0)+".":""} ${e[50].lastName}`,h,r,f,_,E,m,d,I,k=(e[0]?.length>0&&e[0]?.filter($).length?e[0]?.filter(he).length:0)+"",L,S,M,T=(e[0]&&e[0]?.length>0&&e[0]?.find(ue)?e[0]?.find(ne)?.eventStartMinute:"-")+"",O,y,g,D=(e[0]&&e[0]?.length>0&&e[0]?.find(fe)?e[0]?.find(ce)?.eventEndMinute:"-")+"",w,H,B,A,N,z,J,x,U=e[50].position==0&&Sl(),K=e[50].position==1&&Ml(),q=e[50].position==2&&Ol(),Y=e[50].position==3&&Cl();function $(...G){return e[39](e[50],...G)}function he(...G){return e[40](e[50],...G)}function ue(...G){return e[41](e[50],...G)}function ne(...G){return e[42](e[50],...G)}function fe(...G){return e[43](e[50],...G)}function ce(...G){return e[44](e[50],...G)}function De(){return e[45](e[50])}return{key:s,first:null,c(){t=u("div"),l=u("div"),h=p(n),r=P(),U&&U.c(),f=P(),K&&K.c(),_=P(),q&&q.c(),E=P(),Y&&Y.c(),m=P(),d=u("div"),I=p(`Events:
                    `),L=p(k),S=P(),M=u("div"),O=p(T),y=P(),g=u("div"),w=p(D),H=P(),B=u("div"),A=u("button"),N=p("Update Events"),z=P(),this.h()},l(G){t=c(G,"DIV",{class:!0});var F=v(t);l=c(F,"DIV",{class:!0});var X=v(l);h=b(X,n),X.forEach(i),r=V(F),U&&U.l(F),f=V(F),K&&K.l(F),_=V(F),q&&q.l(F),E=V(F),Y&&Y.l(F),m=V(F),d=c(F,"DIV",{class:!0});var se=v(d);I=b(se,`Events:
                    `),L=b(se,k),se.forEach(i),S=V(F),M=c(F,"DIV",{class:!0});var ke=v(M);O=b(ke,T),ke.forEach(i),y=V(F),g=c(F,"DIV",{class:!0});var Ee=v(g);w=b(Ee,D),Ee.forEach(i),H=V(F),B=c(F,"DIV",{class:!0});var ee=v(B);A=c(ee,"BUTTON",{class:!0});var Te=v(A);N=b(Te,"Update Events"),Te.forEach(i),ee.forEach(i),z=V(F),F.forEach(i),this.h()},h(){o(l,"class","w-1/6 px-4"),o(d,"class","w-1/6 px-4"),o(M,"class","w-1/6 px-4"),o(g,"class","w-1/6 px-4"),o(A,"class","text-base sm:text-xs md:text-base rounded fpl-button px-3 sm:px-2 px-3 py-1 ml-1"),o(B,"class","w-1/6 px-4"),o(t,"class","flex items-center p-2 justify-between py-4 border-b border-gray-700 cursor-pointer w-full"),this.first=t},m(G,F){W(G,t,F),a(t,l),a(l,h),a(t,r),U&&U.m(t,null),a(t,f),K&&K.m(t,null),a(t,_),q&&q.m(t,null),a(t,E),Y&&Y.m(t,null),a(t,m),a(t,d),a(d,I),a(d,L),a(t,S),a(t,M),a(M,O),a(t,y),a(t,g),a(g,w),a(t,H),a(t,B),a(B,A),a(A,N),a(t,z),J||(x=Z(A,"click",De),J=!0)},p(G,F){e=G,F[0]&6&&n!==(n=`${e[50].firstName.length>0?e[50].firstName.charAt(0)+".":""} ${e[50].lastName}`)&&le(h,n),e[50].position==0?U||(U=Sl(),U.c(),U.m(t,f)):U&&(U.d(1),U=null),e[50].position==1?K||(K=Ml(),K.c(),K.m(t,_)):K&&(K.d(1),K=null),e[50].position==2?q||(q=Ol(),q.c(),q.m(t,E)):q&&(q.d(1),q=null),e[50].position==3?Y||(Y=Cl(),Y.c(),Y.m(t,m)):Y&&(Y.d(1),Y=null),F[0]&7&&k!==(k=(e[0]?.length>0&&e[0]?.filter($).length?e[0]?.filter(he).length:0)+"")&&le(L,k),F[0]&7&&T!==(T=(e[0]&&e[0]?.length>0&&e[0]?.find(ue)?e[0]?.find(ne)?.eventStartMinute:"-")+"")&&le(O,T),F[0]&7&&D!==(D=(e[0]&&e[0]?.length>0&&e[0]?.find(fe)?e[0]?.find(ce)?.eventEndMinute:"-")+"")&&le(w,D)},d(G){G&&i(t),U&&U.d(),K&&K.d(),q&&q.d(),Y&&Y.d(),J=!1,x()}}}function ws(s){let e,t,l,n;const h=[gs,Es],r=[];function f(_,E){return _[13]?0:1}return e=f(s),t=r[e]=h[e](s),{c(){t.c(),l=Me()},l(_){t.l(_),l=Me()},m(_,E){r[e].m(_,E),W(_,l,E),n=!0},p(_,E){let m=e;e=f(_),e===m?r[e].p(_,E):(Rt(),Ue(r[m],1,1,()=>{r[m]=null}),Kt(),t=r[e],t?t.p(_,E):(t=r[e]=h[e](_),t.c()),Se(t,1),t.m(l.parentNode,l))},i(_){n||(Se(t),n=!0)},o(_){Ue(t),n=!1},d(_){r[e].d(_),_&&i(l)}}}function Fl(s){let e,t;return e=new vs({props:{show:s[5],teamPlayers:s[15],selectedTeam:s[8],selectedPlayers:s[16],closeModal:s[24]}}),{c(){_t(e.$$.fragment)},l(l){ht(e.$$.fragment,l)},m(l,n){mt(e,l,n),t=!0},p(l,n){const h={};n[0]&32&&(h.show=l[5]),n[0]&256&&(h.selectedTeam=l[8]),e.$set(h)},i(l){t||(Se(e.$$.fragment,l),t=!0)},o(l){Ue(e.$$.fragment,l),t=!1},d(l){pt(e,l)}}}function Ll(s){let e,t;return e=new us({props:{show:s[6],player:s[9],fixtureId:s[14],playerEventData:s[10],closeModal:s[22]}}),{c(){_t(e.$$.fragment)},l(l){ht(e.$$.fragment,l)},m(l,n){mt(e,l,n),t=!0},p(l,n){const h={};n[0]&64&&(h.show=l[6]),n[0]&512&&(h.player=l[9]),n[0]&16384&&(h.fixtureId=l[14]),n[0]&1024&&(h.playerEventData=l[10]),e.$set(h)},i(l){t||(Se(e.$$.fragment,l),t=!0)},o(l){Ue(e.$$.fragment,l),t=!1},d(l){pt(e,l)}}}function Is(s){let e,t,l,n,h,r,f,_;e=new ls({props:{$$slots:{default:[ws]},$$scope:{ctx:s}}});let E=s[8]&&Fl(s),m=s[9]&&Ll(s);return h=new ms({props:{show:Ds,onConfirm:s[17]}}),f=new ys({props:{closeModal:s[26],show:s[7],onConfirm:s[19]}}),{c(){_t(e.$$.fragment),t=P(),E&&E.c(),l=P(),m&&m.c(),n=P(),_t(h.$$.fragment),r=P(),_t(f.$$.fragment)},l(d){ht(e.$$.fragment,d),t=V(d),E&&E.l(d),l=V(d),m&&m.l(d),n=V(d),ht(h.$$.fragment,d),r=V(d),ht(f.$$.fragment,d)},m(d,I){mt(e,d,I),W(d,t,I),E&&E.m(d,I),W(d,l,I),m&&m.m(d,I),W(d,n,I),mt(h,d,I),W(d,r,I),mt(f,d,I),_=!0},p(d,I){const k={};I[0]&14367|I[1]&16777216&&(k.$$scope={dirty:I,ctx:d}),e.$set(k),d[8]?E?(E.p(d,I),I[0]&256&&Se(E,1)):(E=Fl(d),E.c(),Se(E,1),E.m(l.parentNode,l)):E&&(Rt(),Ue(E,1,1,()=>{E=null}),Kt()),d[9]?m?(m.p(d,I),I[0]&512&&Se(m,1)):(m=Ll(d),m.c(),Se(m,1),m.m(n.parentNode,n)):m&&(Rt(),Ue(m,1,1,()=>{m=null}),Kt());const L={};I[0]&128&&(L.show=d[7]),f.$set(L)},i(d){_||(Se(e.$$.fragment,d),Se(E),Se(m),Se(h.$$.fragment,d),Se(f.$$.fragment,d),_=!0)},o(d){Ue(e.$$.fragment,d),Ue(E),Ue(m),Ue(h.$$.fragment,d),Ue(f.$$.fragment,d),_=!1},d(d){pt(e,d),d&&i(t),E&&E.d(d),d&&i(l),m&&m.d(d),d&&i(n),pt(h,d),d&&i(r),pt(f,d)}}}let Ds=!1;const Ul=s=>s.eventType==0,Bl=s=>s.eventType==1,Gl=s=>s.eventType==10,Kl=s=>s.eventType==2,Rl=s=>s.eventType==4,ql=s=>s.eventType==8,Hl=s=>s.eventType==9,jl=s=>s.eventType==6,Yl=s=>s.eventType==7;function ks(s,e,t){let l,n,h=Ve,r=()=>(h(),h=Tt(w,C=>t(0,n=C)),w),f,_,E;Lt(s,Bt,C=>t(48,f=C)),Lt(s,xl,C=>t(27,E=C)),s.$$.on_destroy.push(()=>h());let m=[],d=[],I,k,L,S=!1,M=!1,T=!1,O=st([]),y=st([]);Lt(s,y,C=>t(1,_=C));let g=null,D=null,w=st([]);r();let H="home",B=!0,A=!0;Zl(async()=>{try{await al.sync(),await nl.sync(),await Ut.sync(),al.subscribe(de=>{m=de}),Ut.subscribe(de=>{d=de}),nl.subscribe(de=>{t(2,I=de.find(ie=>ie.id==l)),t(3,k=m.find(ie=>ie.id==I?.homeTeamId)),t(4,L=m.find(ie=>ie.id==I?.awayTeamId)),t(8,g=k),O.set(d.filter(ie=>ie.teamId==g?.id))});const C=`fixtureDraft_${l}`,j=localStorage.getItem(C);if(j){let ie=JSON.parse(j).playerEventData;ie&&(w.set(ie),z())}}catch(C){Et.show("Error fetching fixture validation list.","error"),console.error("Error fetching fixture validation list.",C)}finally{t(13,A=!1)}}),$l(()=>{});async function N(){t(13,A=!0),Gt(Bt,f="Saving Fixture Data",f);try{await os.submitFixtureData(l,n),localStorage.removeItem(`fixtureDraft_${l}`),Et.show("Fixture data saved","success"),ss("/fixture-validation")}catch(C){Et.show("Error saving fixture data.","error"),console.error("Error saving fixture data: ",C)}finally{t(13,A=!1),Gt(Bt,f="Loading",f)}}function z(){const C=new Set(n.map(de=>de.playerId)),j=d.filter(de=>C.has(de.id));y.set(j)}function J(){const C={playerEventData:n},j=`fixtureDraft_${l}`;localStorage.setItem(j,JSON.stringify(C,as)),Et.show("Draft saved.","success")}function x(){r(t(10,w=st([]))),localStorage.removeItem(`fixtureDraft_${l}`),Et.show("Draft cleared.","success"),ue()}async function U(C){await Ut.sync(),t(8,g=C==="home"?k:L),O.set(d.filter(j=>j.teamId==g?.id)),t(11,H=C)}function K(C){t(9,D=C),t(6,M=!0)}function q(){t(6,M=!1),t(9,D=null)}function Y(){t(5,S=!0)}function $(){t(5,S=!1)}function he(){t(7,T=!0)}function ue(){t(7,T=!1)}const ne=()=>U("home"),fe=()=>U("away"),ce=C=>C.teamId===I?.homeTeamId,De=(C,j)=>j.playerId===C.id,G=(C,j)=>j.playerId===C.id,F=(C,j)=>j.playerId===C.id&&j.eventType==0,X=(C,j)=>j.playerId===C.id&&j.eventType==0,se=(C,j)=>j.playerId===C.id&&j.eventType==0,ke=(C,j)=>j.playerId===C.id&&j.eventType==0,Ee=C=>K(C),ee=C=>C.teamId===I?.awayTeamId,Te=(C,j)=>j.playerId===C.id,ge=(C,j)=>j.playerId===C.id,we=(C,j)=>j.playerId===C.id&&j.eventType==0,Be=(C,j)=>j.playerId===C.id,Ge=(C,j)=>j.playerId===C.id&&j.eventType==0,Ye=(C,j)=>j.playerId===C.id,Ie=C=>K(C);return s.$$.update=()=>{s.$$.dirty[0]&134217728&&t(14,l=Number(E.url.searchParams.get("id"))),s.$$.dirty[0]&3&&t(12,B=n.length==0||n.filter(C=>C.eventType==0).length!=_.length)},[n,_,I,k,L,S,M,T,g,D,w,H,B,A,l,O,y,N,J,x,U,K,q,Y,$,he,ue,E,ne,fe,ce,De,G,F,X,se,ke,Ee,ee,Te,ge,we,Be,Ge,Ye,Ie]}class Ss extends gt{constructor(e){super(),wt(this,e,ks,Is,It,{},null,[-1,-1])}}export{Ss as component};
