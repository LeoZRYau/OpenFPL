import{S as ye,i as Ee,s as ge,e as te,b as K,H as le,h as c,k as h,a as A,q as V,l as _,m as b,c as F,r as C,n as d,G as a,L as z,J as mt,K as qe,V as Pe,u as ee,W as Ce,M as Be,N as we,X as Se,P as vt,Q as Le,y as he,z as _e,A as me,g as ve,d as be,B as pe,I as ze,o as bt,O as pt,Y as ht,Z as _t}from"../chunks/index.245a0e92.js";import{p as yt}from"../chunks/stores.1b616741.js";import{w as de}from"../chunks/index.c203a7c8.js";import{t as Qe}from"../chunks/team-store.fd743fd2.js";import{f as We}from"../chunks/fixture-store.e0823489.js";import{t as Ve,r as Et}from"../chunks/Helpers.5827f282.js";import{a as gt,i as Ae,l as Xe,g as wt}from"../chunks/Layout.24679a1a.js";import{g as kt}from"../chunks/governance-store.8aefbe67.js";function Ze(s,t,e){const l=s.slice();return l[17]=t[e],l[19]=e,l}function $e(s,t,e){const l=s.slice();return l[20]=t[e],l}function et(s){let t,e,l,n,f,r,o,p,m=s[1]&&tt(s);return{c(){t=h("div"),e=h("div"),m&&m.c(),l=A(),n=h("div"),f=h("button"),r=V("Done"),this.h()},l(v){t=_(v,"DIV",{class:!0});var i=b(t);e=_(i,"DIV",{class:!0});var u=b(e);m&&m.l(u),l=F(u),n=_(u,"DIV",{class:!0});var y=b(n);f=_(y,"BUTTON",{class:!0});var D=b(f);r=C(D,"Done"),D.forEach(c),y.forEach(c),u.forEach(c),i.forEach(c),this.h()},h(){d(f,"class","px-4 py-2 bg-blue-500 text-white rounded"),d(n,"class","flex justify-end gap-3 mt-4"),d(e,"class","relative top-20 mx-auto p-5 border w-3/4 shadow-lg rounded-md"),d(t,"class","fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full")},m(v,i){K(v,t,i),a(t,e),m&&m.m(e,null),a(e,l),a(e,n),a(n,f),a(f,r),o||(p=z(f,"click",s[16]),o=!0)},p(v,i){v[1]?m?m.p(v,i):(m=tt(v),m.c(),m.m(e,l)):m&&(m.d(1),m=null)},d(v){v&&c(t),m&&m.d(),o=!1,p()}}}function tt(s){let t,e,l=s[1].firstName!==""?s[1].firstName.charAt(0)+".":"",n,f,r=s[1].lastName+"",o,p,m,v,i,u,y,D,N,U,k,T,P,S,L,I,B,O,E,g,w,G,Y,x,J,R,W,$,H,q,ae,ne,Me,ke,oe,ie,Oe,Fe,fe=s[7],X=[];for(let M=0;M<fe.length;M+=1)X[M]=lt($e(s,fe,M));let ue=s[6],Z=[];for(let M=0;M<ue.length;M+=1)Z[M]=at(Ze(s,ue,M));return{c(){t=h("div"),e=h("h4"),n=V(l),f=A(),o=V(r),p=V(" - Match Events"),m=A(),v=h("button"),i=V("✕"),u=A(),y=h("div"),D=h("h4"),N=V("Add Event"),U=A(),k=h("div"),T=h("div"),P=h("label"),S=V("Event Type"),L=A(),I=h("select"),B=h("option"),O=V("Select event type");for(let M=0;M<X.length;M+=1)X[M].c();E=A(),g=h("div"),w=h("label"),G=V("Start Minute"),Y=A(),x=h("input"),J=A(),R=h("div"),W=h("label"),$=V("End Minute"),H=A(),q=h("input"),ae=A(),ne=h("button"),Me=V("Add Event"),ke=A(),oe=h("div"),ie=h("ul");for(let M=0;M<Z.length;M+=1)Z[M].c();this.h()},l(M){t=_(M,"DIV",{class:!0});var Q=b(t);e=_(Q,"H4",{class:!0});var j=b(e);n=C(j,l),f=F(j),o=C(j,r),p=C(j," - Match Events"),j.forEach(c),m=F(Q),v=_(Q,"BUTTON",{class:!0});var se=b(v);i=C(se,"✕"),se.forEach(c),Q.forEach(c),u=F(M),y=_(M,"DIV",{class:!0});var De=b(y);D=_(De,"H4",{class:!0});var je=b(D);N=C(je,"Add Event"),je.forEach(c),U=F(De),k=_(De,"DIV",{class:!0});var re=b(k);T=_(re,"DIV",{});var Ie=b(T);P=_(Ie,"LABEL",{for:!0,class:!0});var He=b(P);S=C(He,"Event Type"),He.forEach(c),L=F(Ie),I=_(Ie,"SELECT",{id:!0,class:!0});var Ue=b(I);B=_(Ue,"OPTION",{});var xe=b(B);O=C(xe,"Select event type"),xe.forEach(c);for(let ce=0;ce<X.length;ce+=1)X[ce].l(Ue);Ue.forEach(c),Ie.forEach(c),E=F(re),g=_(re,"DIV",{});var Te=b(g);w=_(Te,"LABEL",{for:!0,class:!0});var Ge=b(w);G=C(Ge,"Start Minute"),Ge.forEach(c),Y=F(Te),x=_(Te,"INPUT",{type:!0,id:!0,class:!0,placeholder:!0}),Te.forEach(c),J=F(re),R=_(re,"DIV",{});var Ne=b(R);W=_(Ne,"LABEL",{for:!0,class:!0});var Re=b(W);$=C(Re,"End Minute"),Re.forEach(c),H=F(Ne),q=_(Ne,"INPUT",{type:!0,id:!0,class:!0,placeholder:!0}),Ne.forEach(c),ae=F(re),ne=_(re,"BUTTON",{class:!0});var Ye=b(ne);Me=C(Ye,"Add Event"),Ye.forEach(c),re.forEach(c),De.forEach(c),ke=F(M),oe=_(M,"DIV",{class:!0});var Je=b(oe);ie=_(Je,"UL",{class:!0});var Ke=b(ie);for(let ce=0;ce<Z.length;ce+=1)Z[ce].l(Ke);Ke.forEach(c),Je.forEach(c),this.h()},h(){d(e,"class","text-lg font-bold"),d(v,"class","text-black"),d(t,"class","flex justify-between items-center"),d(D,"class","text-lg font-bold mb-3"),d(P,"for","eventType"),d(P,"class","block text-sm font-medium text-gray-700"),B.__value="-1",B.value=B.__value,B.disabled=!0,d(I,"id","eventType"),d(I,"class","mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md"),s[3]===void 0&&mt(()=>s[12].call(I)),d(w,"for","startMinute"),d(w,"class","block text-sm font-medium text-gray-700"),d(x,"type","number"),d(x,"id","startMinute"),d(x,"class","mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md"),d(x,"placeholder","Enter start minute"),d(W,"for","endMinute"),d(W,"class","block text-sm font-medium text-gray-700"),d(q,"type","number"),d(q,"id","endMinute"),d(q,"class","mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md"),d(q,"placeholder","Enter end minute"),d(ne,"class","mt-2 px-4 py-2 bg-blue-500 text-white rounded"),d(k,"class","flex flex-col gap-3"),d(y,"class","mt-4 p-4 border-t border-gray-200"),d(ie,"class","list-disc pl-5"),d(oe,"class","mt-4")},m(M,Q){K(M,t,Q),a(t,e),a(e,n),a(e,f),a(e,o),a(e,p),a(t,m),a(t,v),a(v,i),K(M,u,Q),K(M,y,Q),a(y,D),a(D,N),a(y,U),a(y,k),a(k,T),a(T,P),a(P,S),a(T,L),a(T,I),a(I,B),a(B,O);for(let j=0;j<X.length;j+=1)X[j]&&X[j].m(I,null);qe(I,s[3],!0),a(k,E),a(k,g),a(g,w),a(w,G),a(g,Y),a(g,x),Pe(x,s[4]),a(k,J),a(k,R),a(R,W),a(W,$),a(R,H),a(R,q),Pe(q,s[5]),a(k,ae),a(k,ne),a(ne,Me),K(M,ke,Q),K(M,oe,Q),a(oe,ie);for(let j=0;j<Z.length;j+=1)Z[j]&&Z[j].m(ie,null);Oe||(Fe=[z(v,"click",s[11]),z(I,"change",s[12]),z(x,"input",s[13]),z(q,"input",s[14]),z(ne,"click",s[8])],Oe=!0)},p(M,Q){if(Q&2&&l!==(l=M[1].firstName!==""?M[1].firstName.charAt(0)+".":"")&&ee(n,l),Q&2&&r!==(r=M[1].lastName+"")&&ee(o,r),Q&128){fe=M[7];let j;for(j=0;j<fe.length;j+=1){const se=$e(M,fe,j);X[j]?X[j].p(se,Q):(X[j]=lt(se),X[j].c(),X[j].m(I,null))}for(;j<X.length;j+=1)X[j].d(1);X.length=fe.length}if(Q&136&&qe(I,M[3]),Q&16&&Ce(x.value)!==M[4]&&Pe(x,M[4]),Q&32&&Ce(q.value)!==M[5]&&Pe(q,M[5]),Q&576){ue=M[6];let j;for(j=0;j<ue.length;j+=1){const se=Ze(M,ue,j);Z[j]?Z[j].p(se,Q):(Z[j]=at(se),Z[j].c(),Z[j].m(ie,null))}for(;j<Z.length;j+=1)Z[j].d(1);Z.length=ue.length}},d(M){M&&c(t),M&&c(u),M&&c(y),Be(X,M),M&&c(ke),M&&c(oe),Be(Z,M),Oe=!1,we(Fe)}}}function lt(s){let t,e=s[20].label+"",l;return{c(){t=h("option"),l=V(e),this.h()},l(n){t=_(n,"OPTION",{});var f=b(t);l=C(f,e),f.forEach(c),this.h()},h(){t.__value=s[20].id,t.value=t.__value},m(n,f){K(n,t,f),a(t,l)},p:le,d(n){n&&c(t)}}}function at(s){let t,e,l=s[17].eventType+"",n,f,r=s[17].eventStartMinute+"",o,p,m=s[17].eventEndMinute+"",v,i,u,y,D,N,U,k;function T(){return s[15](s[19])}return{c(){t=h("li"),e=h("span"),n=V(l),f=V(" - From "),o=V(r),p=V(" to "),v=V(m),i=V(`
                  minutes`),u=A(),y=h("button"),D=V("Remove"),N=A(),this.h()},l(P){t=_(P,"LI",{class:!0});var S=b(t);e=_(S,"SPAN",{});var L=b(e);n=C(L,l),f=C(L," - From "),o=C(L,r),p=C(L," to "),v=C(L,m),i=C(L,`
                  minutes`),L.forEach(c),u=F(S),y=_(S,"BUTTON",{class:!0});var I=b(y);D=C(I,"Remove"),I.forEach(c),N=F(S),S.forEach(c),this.h()},h(){d(y,"class","px-3 py-1 bg-red-500 text-white rounded"),d(t,"class","flex justify-between items-center mb-2")},m(P,S){K(P,t,S),a(t,e),a(e,n),a(e,f),a(e,o),a(e,p),a(e,v),a(e,i),a(t,u),a(t,y),a(y,D),a(t,N),U||(k=z(y,"click",T),U=!0)},p(P,S){s=P,S&64&&l!==(l=s[17].eventType+"")&&ee(n,l),S&64&&r!==(r=s[17].eventStartMinute+"")&&ee(o,r),S&64&&m!==(m=s[17].eventEndMinute+"")&&ee(v,m)},d(P){P&&c(t),U=!1,k()}}}function Dt(s){let t,e=s[0]&&et(s);return{c(){e&&e.c(),t=te()},l(l){e&&e.l(l),t=te()},m(l,n){e&&e.m(l,n),K(l,t,n)},p(l,[n]){l[0]?e?e.p(l,n):(e=et(l),e.c(),e.m(t.parentNode,t)):e&&(e.d(1),e=null)},i:le,o:le,d(l){e&&e.d(l),l&&c(t)}}}function It(s,t,e){let l,n=le,f=()=>(n(),n=Se(m,I=>e(6,l=I)),m);s.$$.on_destroy.push(()=>n());let{show:r=!1}=t,{player:o}=t,{fixtureId:p}=t,{playerEventData:m}=t;f();let v=-1,i=0,u=0;const y=[{id:0,label:"Appearance"},{id:1,label:"Goal Scored"},{id:2,label:"Goal Assisted"},{id:7,label:"Penalty Missed"},{id:8,label:"Yellow Card"},{id:9,label:"Red Card"},{id:10,label:"Own Goal"}];function D(){if(v&&i!==null&&u!==null){const I={playerId:o.id,eventType:Number(v),eventStartMinute:Number(i),eventEndMinute:Number(u),fixtureId:p,teamId:o.teamId};let B=[...l,I];m.set(B),e(4,i=0),e(5,u=0),e(3,v=-1)}}function N(I){m.update(B=>B.filter((O,E)=>E!==I))}const U=()=>e(0,r=!1);function k(){v=vt(this),e(3,v),e(7,y)}function T(){i=Ce(this.value),e(4,i)}function P(){u=Ce(this.value),e(5,u)}const S=I=>N(I),L=()=>e(0,r=!1);return s.$$set=I=>{"show"in I&&e(0,r=I.show),"player"in I&&e(1,o=I.player),"fixtureId"in I&&e(10,p=I.fixtureId),"playerEventData"in I&&f(e(2,m=I.playerEventData))},[r,o,m,v,i,u,l,y,D,N,p,U,k,T,P,S,L]}class Tt extends ye{constructor(t){super(),Ee(this,t,It,Dt,ge,{show:0,player:1,fixtureId:10,playerEventData:2})}}function st(s,t,e){const l=s.slice();l[10]=t[e];const n=l[5].some(function(...r){return s[9](l[10],...r)});return l[11]=n,l}function rt(s){let t,e,l,n,f,r=s[2].friendlyName+"",o,p,m,v,i,u,y,D,N,U,k,T,P,S,L,I,B=s[4],O=[];for(let E=0;E<B.length;E+=1)O[E]=nt(st(s,B,E));return{c(){t=h("div"),e=h("div"),l=h("div"),n=h("h4"),f=V("Select "),o=V(r),p=V(" Players"),m=A(),v=h("button"),i=V("✕"),u=A(),y=h("div");for(let E=0;E<O.length;E+=1)O[E].c();D=A(),N=h("div"),U=h("button"),k=V("Cancel"),T=A(),P=h("button"),S=V("Select Players"),this.h()},l(E){t=_(E,"DIV",{class:!0});var g=b(t);e=_(g,"DIV",{class:!0});var w=b(e);l=_(w,"DIV",{class:!0});var G=b(l);n=_(G,"H4",{class:!0});var Y=b(n);f=C(Y,"Select "),o=C(Y,r),p=C(Y," Players"),Y.forEach(c),m=F(G),v=_(G,"BUTTON",{class:!0});var x=b(v);i=C(x,"✕"),x.forEach(c),G.forEach(c),u=F(w),y=_(w,"DIV",{class:!0});var J=b(y);for(let H=0;H<O.length;H+=1)O[H].l(J);J.forEach(c),D=F(w),N=_(w,"DIV",{class:!0});var R=b(N);U=_(R,"BUTTON",{class:!0});var W=b(U);k=C(W,"Cancel"),W.forEach(c),T=F(R),P=_(R,"BUTTON",{class:!0});var $=b(P);S=C($,"Select Players"),$.forEach(c),R.forEach(c),w.forEach(c),g.forEach(c),this.h()},h(){d(n,"class","text-lg font-bold"),d(v,"class","text-black"),d(l,"class","flex justify-between items-center"),d(y,"class","my-5 flex flex-wrap"),d(U,"class","px-4 py-2 border rounded text-black"),d(P,"class","px-4 py-2 bg-blue-500 text-white rounded"),d(N,"class","flex justify-end gap-3"),d(e,"class","relative top-20 mx-auto p-5 border w-3/4 shadow-lg rounded-md"),d(t,"class","fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full")},m(E,g){K(E,t,g),a(t,e),a(e,l),a(l,n),a(n,f),a(n,o),a(n,p),a(l,m),a(l,v),a(v,i),a(e,u),a(e,y);for(let w=0;w<O.length;w+=1)O[w]&&O[w].m(y,null);a(e,D),a(e,N),a(N,U),a(U,k),a(N,T),a(N,P),a(P,S),L||(I=[z(v,"click",s[7]),z(U,"click",s[7]),z(P,"click",s[7])],L=!0)},p(E,g){if(g&4&&r!==(r=E[2].friendlyName+"")&&ee(o,r),g&112){B=E[4];let w;for(w=0;w<B.length;w+=1){const G=st(E,B,w);O[w]?O[w].p(G,g):(O[w]=nt(G),O[w].c(),O[w].m(y,null))}for(;w<O.length;w+=1)O[w].d(1);O.length=B.length}},d(E){E&&c(t),Be(O,E),L=!1,we(I)}}}function nt(s){let t,e,l,n,f,r=`${s[10].firstName.length>0?s[10].firstName.charAt(0)+".":""} ${s[10].lastName}`,o,p,m,v;function i(...u){return s[8](s[10],...u)}return{c(){t=h("div"),e=h("label"),l=h("input"),f=A(),o=V(r),p=A(),this.h()},l(u){t=_(u,"DIV",{class:!0});var y=b(t);e=_(y,"LABEL",{class:!0});var D=b(e);l=_(D,"INPUT",{type:!0}),f=F(D),o=C(D,r),D.forEach(c),p=F(y),y.forEach(c),this.h()},h(){d(l,"type","checkbox"),l.checked=n=s[11],d(e,"class","block"),d(t,"class","flex-1 sm:flex-basis-1/2")},m(u,y){K(u,t,y),a(t,e),a(e,l),a(e,f),a(e,o),a(t,p),m||(v=z(l,"change",i),m=!0)},p(u,y){s=u,y&48&&n!==(n=s[11])&&(l.checked=n),y&16&&r!==(r=`${s[10].firstName.length>0?s[10].firstName.charAt(0)+".":""} ${s[10].lastName}`)&&ee(o,r)},d(u){u&&c(t),m=!1,v()}}}function Nt(s){let t,e=s[0]&&rt(s);return{c(){e&&e.c(),t=te()},l(l){e&&e.l(l),t=te()},m(l,n){e&&e.m(l,n),K(l,t,n)},p(l,[n]){l[0]?e?e.p(l,n):(e=rt(l),e.c(),e.m(t.parentNode,t)):e&&(e.d(1),e=null)},i:le,o:le,d(l){e&&e.d(l),l&&c(t)}}}function Pt(s,t,e){let l,n=le,f=()=>(n(),n=Se(m,k=>e(4,l=k)),m),r,o=le,p=()=>(o(),o=Se(i,k=>e(5,r=k)),i);s.$$.on_destroy.push(()=>n()),s.$$.on_destroy.push(()=>o());let{teamPlayers:m=de([])}=t;f();let{selectedTeam:v}=t,{selectedPlayers:i=de([])}=t;p();let{show:u=!1}=t;function y(k,T){const P=k.target;let S=r,L=l;if(P.checked){const I=L.find(B=>B.id===T.id);I&&!S.some(B=>B.id===T.id)&&(S=[...S,I])}else S=S.filter(I=>I.id!==T.id)}function D(){e(0,u=!1)}const N=(k,T)=>{y(T,k)},U=(k,T)=>T.id===k.id;return s.$$set=k=>{"teamPlayers"in k&&f(e(1,m=k.teamPlayers)),"selectedTeam"in k&&e(2,v=k.selectedTeam),"selectedPlayers"in k&&p(e(3,i=k.selectedPlayers)),"show"in k&&e(0,u=k.show)},[u,m,v,i,l,r,y,D,N,U]}class Vt extends ye{constructor(t){super(),Ee(this,t,Pt,Nt,ge,{teamPlayers:1,selectedTeam:2,selectedPlayers:3,show:0})}}function ot(s){let t,e,l,n,f,r,o,p,m,v,i,u,y,D,N,U,k,T,P,S,L,I,B,O;return{c(){t=h("div"),e=h("div"),l=h("div"),n=h("h4"),f=V("Confirm Fixture Data"),r=A(),o=h("button"),p=V("✕"),m=A(),v=h("div"),i=h("h1"),u=V("Please confirm your fixture data."),y=A(),D=h("p"),N=V(`You will not be able to edit your submission and entries that differ
          from the accepted consensus data will not receive $FPL rewards. If
          consensus has already been reached for the fixture your submission
          will also not be counted.`),U=A(),k=h("div"),T=h("button"),P=V("Cancel"),S=A(),L=h("button"),I=V("Confirm"),this.h()},l(E){t=_(E,"DIV",{class:!0});var g=b(t);e=_(g,"DIV",{class:!0});var w=b(e);l=_(w,"DIV",{class:!0});var G=b(l);n=_(G,"H4",{class:!0});var Y=b(n);f=C(Y,"Confirm Fixture Data"),Y.forEach(c),r=F(G),o=_(G,"BUTTON",{class:!0});var x=b(o);p=C(x,"✕"),x.forEach(c),G.forEach(c),m=F(w),v=_(w,"DIV",{class:!0});var J=b(v);i=_(J,"H1",{});var R=b(i);u=C(R,"Please confirm your fixture data."),R.forEach(c),y=F(J),D=_(J,"P",{class:!0});var W=b(D);N=C(W,`You will not be able to edit your submission and entries that differ
          from the accepted consensus data will not receive $FPL rewards. If
          consensus has already been reached for the fixture your submission
          will also not be counted.`),W.forEach(c),J.forEach(c),U=F(w),k=_(w,"DIV",{class:!0});var $=b(k);T=_($,"BUTTON",{class:!0});var H=b(T);P=C(H,"Cancel"),H.forEach(c),S=F($),L=_($,"BUTTON",{class:!0});var q=b(L);I=C(q,"Confirm"),q.forEach(c),$.forEach(c),w.forEach(c),g.forEach(c),this.h()},h(){d(n,"class","text-lg font-bold"),d(o,"class","text-black"),d(l,"class","flex justify-between items-center"),d(D,"class","text-sm text-gray-600"),d(v,"class","my-5"),d(T,"class","px-4 py-2 border rounded text-black"),d(L,"class","px-4 py-2 bg-blue-500 text-white rounded"),d(k,"class","flex justify-end gap-3"),d(e,"class","relative top-20 mx-auto p-5 border w-3/4 shadow-lg rounded-md"),d(t,"class","fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full")},m(E,g){K(E,t,g),a(t,e),a(e,l),a(l,n),a(n,f),a(l,r),a(l,o),a(o,p),a(e,m),a(e,v),a(v,i),a(i,u),a(v,y),a(v,D),a(D,N),a(e,U),a(e,k),a(k,T),a(T,P),a(k,S),a(k,L),a(L,I),B||(O=[z(o,"click",s[2]),z(T,"click",s[2]),z(L,"click",function(){Le(s[1])&&s[1].apply(this,arguments)})],B=!0)},p(E,g){s=E},d(E){E&&c(t),B=!1,we(O)}}}function Ct(s){let t,e=s[0]&&ot(s);return{c(){e&&e.c(),t=te()},l(l){e&&e.l(l),t=te()},m(l,n){e&&e.m(l,n),K(l,t,n)},p(l,[n]){l[0]?e?e.p(l,n):(e=ot(l),e.c(),e.m(t.parentNode,t)):e&&(e.d(1),e=null)},i:le,o:le,d(l){e&&e.d(l),l&&c(t)}}}function St(s,t,e){let{show:l=!1}=t,{onConfirm:n}=t;function f(){e(0,l=!1)}return s.$$set=r=>{"show"in r&&e(0,l=r.show),"onConfirm"in r&&e(1,n=r.onConfirm)},[l,n,f]}class Mt extends ye{constructor(t){super(),Ee(this,t,St,Ct,ge,{show:0,onConfirm:1})}}function it(s){let t,e,l,n,f,r,o,p,m,v,i,u,y,D,N,U,k,T,P,S,L;return{c(){t=h("div"),e=h("div"),l=h("div"),n=h("h4"),f=V("Confirm Clear Draft"),r=A(),o=h("button"),p=V("✕"),m=A(),v=h("div"),i=h("h1"),u=V("Please confirm you want to clear the draft from your cache."),y=A(),D=h("div"),N=h("button"),U=V("Cancel"),k=A(),T=h("button"),P=V("Confirm"),this.h()},l(I){t=_(I,"DIV",{class:!0});var B=b(t);e=_(B,"DIV",{class:!0});var O=b(e);l=_(O,"DIV",{class:!0});var E=b(l);n=_(E,"H4",{class:!0});var g=b(n);f=C(g,"Confirm Clear Draft"),g.forEach(c),r=F(E),o=_(E,"BUTTON",{class:!0});var w=b(o);p=C(w,"✕"),w.forEach(c),E.forEach(c),m=F(O),v=_(O,"DIV",{class:!0});var G=b(v);i=_(G,"H1",{});var Y=b(i);u=C(Y,"Please confirm you want to clear the draft from your cache."),Y.forEach(c),G.forEach(c),y=F(O),D=_(O,"DIV",{class:!0});var x=b(D);N=_(x,"BUTTON",{class:!0});var J=b(N);U=C(J,"Cancel"),J.forEach(c),k=F(x),T=_(x,"BUTTON",{class:!0});var R=b(T);P=C(R,"Confirm"),R.forEach(c),x.forEach(c),O.forEach(c),B.forEach(c),this.h()},h(){d(n,"class","text-lg font-bold"),d(o,"class","text-black"),d(l,"class","flex justify-between items-center"),d(v,"class","my-5"),d(N,"class","px-4 py-2 border rounded text-black"),d(T,"class","px-4 py-2 bg-blue-500 text-white rounded"),d(D,"class","flex justify-end gap-3"),d(e,"class","relative top-20 mx-auto p-5 border w-3/4 shadow-lg rounded-md"),d(t,"class","fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full")},m(I,B){K(I,t,B),a(t,e),a(e,l),a(l,n),a(n,f),a(l,r),a(l,o),a(o,p),a(e,m),a(e,v),a(v,i),a(i,u),a(e,y),a(e,D),a(D,N),a(N,U),a(D,k),a(D,T),a(T,P),S||(L=[z(o,"click",function(){Le(s[1])&&s[1].apply(this,arguments)}),z(N,"click",s[2]),z(T,"click",function(){Le(s[1])&&s[1].apply(this,arguments)})],S=!0)},p(I,B){s=I},d(I){I&&c(t),S=!1,we(L)}}}function Ot(s){let t,e=s[0]&&it(s);return{c(){e&&e.c(),t=te()},l(l){e&&e.l(l),t=te()},m(l,n){e&&e.m(l,n),K(l,t,n)},p(l,[n]){l[0]?e?e.p(l,n):(e=it(l),e.c(),e.m(t.parentNode,t)):e&&(e.d(1),e=null)},i:le,o:le,d(l){e&&e.d(l),l&&c(t)}}}function Ut(s,t,e){let{show:l=!1}=t,{onConfirm:n}=t;function f(){e(0,l=!1)}return s.$$set=r=>{"show"in r&&e(0,l=r.show),"onConfirm"in r&&e(1,n=r.onConfirm)},[l,n,f]}class Bt extends ye{constructor(t){super(),Ee(this,t,Ut,Ot,ge,{show:0,onConfirm:1})}}function ct(s,t,e){const l=s.slice();return l[30]=t[e],l}function ft(s,t,e){const l=s.slice();return l[30]=t[e],l}function Lt(s){let t,e,l,n,f,r,o,p,m=s[15](s[0]?.homeTeamId??0)?.friendlyName+"",v,i,u,y,D,N,U=s[15](s[0]?.awayTeamId??0)?.friendlyName+"",k,T,P,S,L,I;function B(g,w){if(g[4]==="home")return jt;if(g[4]==="away")return Ft}let O=B(s),E=O&&O(s);return{c(){t=h("div"),e=h("button"),l=V("Save Draft"),n=A(),f=h("div"),r=h("ul"),o=h("li"),p=h("button"),v=V(m),y=A(),D=h("li"),N=h("button"),k=V(U),S=A(),E&&E.c(),this.h()},l(g){t=_(g,"DIV",{class:!0});var w=b(t);e=_(w,"BUTTON",{class:!0});var G=b(e);l=C(G,"Save Draft"),G.forEach(c),n=F(w),f=_(w,"DIV",{class:!0});var Y=b(f);r=_(Y,"UL",{class:!0});var x=b(r);o=_(x,"LI",{class:!0});var J=b(o);p=_(J,"BUTTON",{class:!0});var R=b(p);v=C(R,m),R.forEach(c),J.forEach(c),y=F(x),D=_(x,"LI",{class:!0});var W=b(D);N=_(W,"BUTTON",{class:!0});var $=b(N);k=C($,U),$.forEach(c),W.forEach(c),x.forEach(c),S=F(Y),E&&E.l(Y),Y.forEach(c),w.forEach(c),this.h()},h(){d(e,"class","fpl-button"),d(p,"class",i=`p-2 ${s[4]==="home"?"text-white":"text-gray-400"}`),d(o,"class",u=`mr-4 text-xs md:text-base ${s[4]==="home"?"active-tab":""}`),d(N,"class",T=`p-2 ${s[4]==="away"?"text-white":"text-gray-400"}`),d(D,"class",P=`mr-4 text-xs md:text-base ${s[4]==="away"?"active-tab":""}`),d(r,"class","flex rounded-t-lg bg-light-gray px-4 pt-2"),d(f,"class","bg-panel rounded-lg m-4"),d(t,"class","m-4")},m(g,w){K(g,t,w),a(t,e),a(e,l),a(t,n),a(t,f),a(f,r),a(r,o),a(o,p),a(p,v),a(r,y),a(r,D),a(D,N),a(N,k),a(f,S),E&&E.m(f,null),L||(I=[z(e,"click",s[12]),z(p,"click",s[18]),z(N,"click",s[19])],L=!0)},p(g,w){w[0]&1&&m!==(m=g[15](g[0]?.homeTeamId??0)?.friendlyName+"")&&ee(v,m),w[0]&16&&i!==(i=`p-2 ${g[4]==="home"?"text-white":"text-gray-400"}`)&&d(p,"class",i),w[0]&16&&u!==(u=`mr-4 text-xs md:text-base ${g[4]==="home"?"active-tab":""}`)&&d(o,"class",u),w[0]&1&&U!==(U=g[15](g[0]?.awayTeamId??0)?.friendlyName+"")&&ee(k,U),w[0]&16&&T!==(T=`p-2 ${g[4]==="away"?"text-white":"text-gray-400"}`)&&d(N,"class",T),w[0]&16&&P!==(P=`mr-4 text-xs md:text-base ${g[4]==="away"?"active-tab":""}`)&&d(D,"class",P),O===(O=B(g))&&E?E.p(g,w):(E&&E.d(1),E=O&&O(g),E&&(E.c(),E.m(f,null)))},d(g){g&&c(t),E&&E.d(),L=!1,we(I)}}}function At(s){let t,e,l;return{c(){t=h("div"),e=h("p"),l=V("Loading Fixture Data..."),this.h()},l(n){t=_(n,"DIV",{class:!0});var f=b(t);e=_(f,"P",{class:!0});var r=b(e);l=C(r,"Loading Fixture Data..."),r.forEach(c),f.forEach(c),this.h()},h(){d(e,"class","text-center mt-1"),d(t,"class","flex items-center justify-center h-screen")},m(n,f){K(n,t,f),a(t,e),a(e,l)},p:le,d(n){n&&c(t)}}}function Ft(s){let t=[],e=new Map,l,n=s[7].filter(s[23]);const f=r=>r[30].id;for(let r=0;r<n.length;r+=1){let o=ct(s,n,r),p=f(o);e.set(p,t[r]=ut(p,o))}return{c(){for(let r=0;r<t.length;r+=1)t[r].c();l=te()},l(r){for(let o=0;o<t.length;o+=1)t[o].l(r);l=te()},m(r,o){for(let p=0;p<t.length;p+=1)t[p]&&t[p].m(r,o);K(r,l,o)},p(r,o){o[0]&65729&&(n=r[7].filter(r[23]),t=ht(t,o,f,1,r,n,e,l.parentNode,_t,ut,l,ct))},d(r){for(let o=0;o<t.length;o+=1)t[o].d(r);r&&c(l)}}}function jt(s){let t=[],e=new Map,l,n=s[7].filter(s[20]);const f=r=>r[30].id;for(let r=0;r<n.length;r+=1){let o=ft(s,n,r),p=f(o);e.set(p,t[r]=dt(p,o))}return{c(){for(let r=0;r<t.length;r+=1)t[r].c();l=te()},l(r){for(let o=0;o<t.length;o+=1)t[o].l(r);l=te()},m(r,o){for(let p=0;p<t.length;p+=1)t[p]&&t[p].m(r,o);K(r,l,o)},p(r,o){o[0]&65729&&(n=r[7].filter(r[20]),t=ht(t,o,f,1,r,n,e,l.parentNode,_t,dt,l,ft))},d(r){for(let o=0;o<t.length;o+=1)t[o].d(r);r&&c(l)}}}function ut(s,t){let e,l,n,f=t[30].lastName+"",r,o,p,m=t[30].firstName+"",v,i,u,y,D,N=t[6].filter(B).length+"",U,k,T,P,S,L,I;function B(...E){return t[24](t[30],...E)}function O(){return t[25](t[30])}return{key:s,first:null,c(){e=h("div"),l=h("div"),n=h("h5"),r=V(f),o=A(),p=h("p"),v=V(m),i=A(),u=h("div"),y=h("p"),D=V("Events: "),U=V(N),k=A(),T=h("button"),P=V("Update"),S=A(),this.h()},l(E){e=_(E,"DIV",{class:!0});var g=b(e);l=_(g,"DIV",{class:!0});var w=b(l);n=_(w,"H5",{});var G=b(n);r=C(G,f),G.forEach(c),o=F(w),p=_(w,"P",{class:!0});var Y=b(p);v=C(Y,m),Y.forEach(c),w.forEach(c),i=F(g),u=_(g,"DIV",{class:!0});var x=b(u);y=_(x,"P",{});var J=b(y);D=C(J,"Events: "),U=C(J,N),J.forEach(c),k=F(x),T=_(x,"BUTTON",{});var R=b(T);P=C(R,"Update"),R.forEach(c),x.forEach(c),S=F(g),g.forEach(c),this.h()},h(){d(p,"class","small-text mb-0 mt-0"),d(l,"class","card-header"),d(u,"class","card-body"),d(e,"class","card player-card mb-4"),this.first=e},m(E,g){K(E,e,g),a(e,l),a(l,n),a(n,r),a(l,o),a(l,p),a(p,v),a(e,i),a(e,u),a(u,y),a(y,D),a(y,U),a(u,k),a(u,T),a(T,P),a(e,S),L||(I=z(T,"click",O),L=!0)},p(E,g){t=E,g[0]&129&&f!==(f=t[30].lastName+"")&&ee(r,f),g[0]&129&&m!==(m=t[30].firstName+"")&&ee(v,m),g[0]&193&&N!==(N=t[6].filter(B).length+"")&&ee(U,N)},d(E){E&&c(e),L=!1,I()}}}function dt(s,t){let e,l,n,f=t[30].lastName+"",r,o,p,m=t[30].firstName+"",v,i,u,y,D,N=t[6].filter(B).length+"",U,k,T,P,S,L,I;function B(...E){return t[21](t[30],...E)}function O(){return t[22](t[30])}return{key:s,first:null,c(){e=h("div"),l=h("div"),n=h("h5"),r=V(f),o=A(),p=h("p"),v=V(m),i=A(),u=h("div"),y=h("p"),D=V("Events: "),U=V(N),k=A(),T=h("button"),P=V("Update"),S=A(),this.h()},l(E){e=_(E,"DIV",{class:!0});var g=b(e);l=_(g,"DIV",{class:!0});var w=b(l);n=_(w,"H5",{});var G=b(n);r=C(G,f),G.forEach(c),o=F(w),p=_(w,"P",{class:!0});var Y=b(p);v=C(Y,m),Y.forEach(c),w.forEach(c),i=F(g),u=_(g,"DIV",{class:!0});var x=b(u);y=_(x,"P",{});var J=b(y);D=C(J,"Events: "),U=C(J,N),J.forEach(c),k=F(x),T=_(x,"BUTTON",{});var R=b(T);P=C(R,"Update"),R.forEach(c),x.forEach(c),S=F(g),g.forEach(c),this.h()},h(){d(p,"class","small-text mb-0 mt-0"),d(l,"class","card-header"),d(u,"class","card-body"),d(e,"class","card player-card mb-4"),this.first=e},m(E,g){K(E,e,g),a(e,l),a(l,n),a(n,r),a(l,o),a(l,p),a(p,v),a(e,i),a(e,u),a(u,y),a(y,D),a(y,U),a(u,k),a(u,T),a(T,P),a(e,S),L||(I=z(T,"click",O),L=!0)},p(E,g){t=E,g[0]&129&&f!==(f=t[30].lastName+"")&&ee(r,f),g[0]&129&&m!==(m=t[30].firstName+"")&&ee(v,m),g[0]&193&&N!==(N=t[6].filter(B).length+"")&&ee(U,N)},d(E){E&&c(e),L=!1,I()}}}function Ht(s){let t;function e(f,r){return Ae?At:Lt}let n=e()(s);return{c(){n.c(),t=te()},l(f){n.l(f),t=te()},m(f,r){n.m(f,r),K(f,t,r)},p(f,r){n.p(f,r)},d(f){n.d(f),f&&c(t)}}}function xt(s){let t,e,l,n,f,r,o,p,m,v;return t=new gt({props:{$$slots:{default:[Ht]},$$scope:{ctx:s}}}),l=new Vt({props:{show:Gt,teamPlayers:s[8],selectedTeam:s[10],selectedPlayers:s[9]}}),f=new Tt({props:{show:s[1],player:s[2],fixtureId:s[5],playerEventData:s[3]}}),o=new Mt({props:{show:Yt,onConfirm:s[11]}}),m=new Bt({props:{show:Rt,onConfirm:s[13]}}),{c(){he(t.$$.fragment),e=A(),he(l.$$.fragment),n=A(),he(f.$$.fragment),r=A(),he(o.$$.fragment),p=A(),he(m.$$.fragment)},l(i){_e(t.$$.fragment,i),e=F(i),_e(l.$$.fragment,i),n=F(i),_e(f.$$.fragment,i),r=F(i),_e(o.$$.fragment,i),p=F(i),_e(m.$$.fragment,i)},m(i,u){me(t,i,u),K(i,e,u),me(l,i,u),K(i,n,u),me(f,i,u),K(i,r,u),me(o,i,u),K(i,p,u),me(m,i,u),v=!0},p(i,u){const y={};u[0]&209|u[1]&16&&(y.$$scope={dirty:u,ctx:i}),t.$set(y);const D={};u[0]&2&&(D.show=i[1]),u[0]&4&&(D.player=i[2]),u[0]&32&&(D.fixtureId=i[5]),u[0]&8&&(D.playerEventData=i[3]),f.$set(D)},i(i){v||(ve(t.$$.fragment,i),ve(l.$$.fragment,i),ve(f.$$.fragment,i),ve(o.$$.fragment,i),ve(m.$$.fragment,i),v=!0)},o(i){be(t.$$.fragment,i),be(l.$$.fragment,i),be(f.$$.fragment,i),be(o.$$.fragment,i),be(m.$$.fragment,i),v=!1},d(i){pe(t,i),i&&c(e),pe(l,i),i&&c(n),pe(f,i),i&&c(r),pe(o,i),i&&c(p),pe(m,i)}}}let Gt=!1,Rt=!1,Yt=!1;function Jt(s,t,e){let l,n,f=le,r=()=>(f(),f=Se(P,H=>e(6,n=H)),P),o,p;ze(s,yt,H=>e(17,o=H)),s.$$.on_destroy.push(()=>f());let m,v,i,u,y,D=!1,N=de([]),U=de([]);ze(s,U,H=>e(7,p=H));let k,T,P=de([]);r();let S="home";bt(async()=>{await Qe.sync(),await We.sync(),i=Qe.subscribe(ae=>{m=ae}),u=We.subscribe(ae=>{v=ae}),e(0,y=v.find(ae=>ae.id===l)??null);const H=`fixtureDraft_${l}`,q=localStorage.getItem(H);if(q){const ae=JSON.parse(q);P.set(ae)}}),pt(()=>{i?.(),u?.()});async function L(){Ae.set(!0),Xe.set("Saving Fixture Data");try{await kt.submitFixtureData(l,n),localStorage.removeItem(`fixtureDraft_${l}`),Ve.show("Fixture data saved","success"),wt("/fixture-validation")}catch(H){Ve.show("Error saving fixture data.","error"),console.error("Error saving fixture data: ",H)}finally{Ae.set(!1),Xe.set("Loading")}}function I(){const H={playerEventData:n},q=`fixtureDraft_${l}`;localStorage.setItem(q,JSON.stringify(H,Et)),Ve.show("Draft saved.","success")}function B(){r(e(3,P=de([]))),localStorage.removeItem(`fixtureDraft_${l}`),Ve.show("Draft cleared.","success")}function O(H){e(4,S=H)}function E(H){return m.find(q=>q.id===H)}function g(H){e(2,T=H),e(1,D=!0)}const w=()=>O("home"),G=()=>O("away"),Y=H=>H.teamId===y?.homeTeamId,x=(H,q)=>q.playerId===H.id,J=H=>g(H),R=H=>H.teamId===y?.awayTeamId,W=(H,q)=>q.playerId===H.id,$=H=>g(H);return s.$$.update=()=>{s.$$.dirty[0]&131072&&e(5,l=Number(o.url.searchParams.get("id")))},[y,D,T,P,S,l,n,p,N,U,k,L,I,B,O,E,g,o,w,G,Y,x,J,R,W,$]}class el extends ye{constructor(t){super(),Ee(this,t,Jt,xt,ge,{},null,[-1,-1])}}export{el as component};
