import{s as ut,f as d,l as U,a as T,g as v,h as x,m as B,c as k,d as m,I as H,j as f,G as Pe,A as Al,i as K,x as s,B as zt,C as ie,J as rt,n as Z,L as pt,D as Sl,E as ct,y as tt,M as bt,H as Ll,N as Lt,z as St,o as $l,F as Fl,e as ft}from"../chunks/scheduler.2037d42e.js";import{S as dt,i as vt,b as Be,d as je,m as Ge,a as _e,t as we,e as Re,c as $t,g as Ft}from"../chunks/index.cd713282.js";import{A as Ul,c as Bl,e as Je,L as jl,t as Yt,f as Wt,j as Vt,a as Jt,k as Ot,m as Gl,r as Rl,n as Vl,o as Ol}from"../chunks/Layout.b983af79.js";import{p as ql}from"../chunks/stores.2a5d2c72.js";import{w as et}from"../chunks/singletons.4e632dcd.js";import{l as At,L as Hl}from"../chunks/LoadingIcon.64dacd79.js";import{M as gt}from"../chunks/Modal.0b5343e4.js";function Kl(){const{subscribe:n,set:e}=et([]);async function t(l,a){try{await(await Ul.createIdentityActor(Bl,"bkyz2-fmaaa-aaaaa-qaaaq-cai")).savePlayerEvents(l,a)}catch(r){throw console.error("Error submitting fixture data:",r),r}}return{subscribe:n,submitFixtureData:t}}const zl=Kl();function Xt(n,e,t){const l=n.slice();return l[20]=e[t],l[22]=t,l}function Qt(n){let e,t="Keeper Save",l,a="Penalty Save";return{c(){e=d("option"),e.textContent=t,l=d("option"),l.textContent=a,this.h()},l(r){e=v(r,"OPTION",{"data-svelte-h":!0}),H(e)!=="svelte-uwnm29"&&(e.textContent=t),l=v(r,"OPTION",{"data-svelte-h":!0}),H(l)!=="svelte-1t5qoji"&&(l.textContent=a),this.h()},h(){e.__value=4,Pe(e,e.__value),l.__value=6,Pe(l,l.__value)},m(r,u){K(r,e,u),K(r,l,u)},d(r){r&&(m(e),m(l))}}}function Zt(n){let e,t,l=n[11](n[20].eventType)+"",a,r,u=n[20].eventStartMinute+"",i,c,b=n[20].eventEndMinute+"",p,o,h,y,V="Remove",M,A,S;function D(){return n[17](n[22])}return{c(){e=d("li"),t=d("span"),a=U(l),r=U(" ("),i=U(u),c=U(`
              - `),p=U(b),o=U(") mins"),h=T(),y=d("button"),y.textContent=V,M=T(),this.h()},l(C){e=v(C,"LI",{class:!0});var _=x(e);t=v(_,"SPAN",{});var w=x(t);a=B(w,l),r=B(w," ("),i=B(w,u),c=B(w,`
              - `),p=B(w,b),o=B(w,") mins"),w.forEach(m),h=k(_),y=v(_,"BUTTON",{class:!0,"data-svelte-h":!0}),H(y)!=="svelte-1ca27r"&&(y.textContent=V),M=k(_),_.forEach(m),this.h()},h(){f(y,"class","px-3 py-1 bg-red-500 rounded"),f(e,"class","flex justify-between items-center mb-2")},m(C,_){K(C,e,_),s(e,t),s(t,a),s(t,r),s(t,i),s(t,c),s(t,p),s(t,o),s(e,h),s(e,y),s(e,M),A||(S=ie(y,"click",D),A=!0)},p(C,_){n=C,_&258&&l!==(l=n[11](n[20].eventType)+"")&&Z(a,l),_&258&&u!==(u=n[20].eventStartMinute+"")&&Z(i,u),_&258&&b!==(b=n[20].eventEndMinute+"")&&Z(p,b)},d(C){C&&m(e),A=!1,S()}}}function Yl(n){let e,t,l,a=n[1].firstName!==""?n[1].firstName.charAt(0)+".":"",r,u,i=n[1].lastName+"",c,b,p,o,h,y="Add Event",V,M,A,S,D,C="Select event type",_,w="Appearance",g,$="Goal Scored",j,N="Goal Assisted",R,ee="Penalty Missed",J,Q="Yellow Card",P,G="Card",F,q="Own Goal",Ee,le,ue,Ie="Start Minute",z,Y,Me,O,E,De="End Minute",oe,te,he,ce,pe,Se,$e,Le,Te,Ke='<h4 class="text-sm">Events:</h4>',Ve,I,L,de,re,be,lt="Done",qe,Xe,ve=n[1].position===0&&Qt(),ke=Je(n[8].filter(n[16])),fe=[];for(let ae=0;ae<ke.length;ae+=1)fe[ae]=Zt(Xt(n,ke,ae));return{c(){e=d("div"),t=d("div"),l=d("h4"),r=U(a),u=T(),c=U(i),b=U(" - Match Events"),p=T(),o=d("div"),h=d("h4"),h.textContent=y,V=T(),M=d("div"),A=d("div"),S=d("select"),D=d("option"),D.textContent=C,_=d("option"),_.textContent=w,g=d("option"),g.textContent=$,j=d("option"),j.textContent=N,R=d("option"),R.textContent=ee,J=d("option"),J.textContent=Q,P=d("option"),P.textContent=G,F=d("option"),F.textContent=q,ve&&ve.c(),Ee=T(),le=d("div"),ue=d("label"),ue.textContent=Ie,z=T(),Y=d("input"),Me=T(),O=d("div"),E=d("label"),E.textContent=De,oe=T(),te=d("input"),he=T(),ce=d("div"),pe=d("button"),Se=U("Add Event"),Le=T(),Te=d("div"),Te.innerHTML=Ke,Ve=T(),I=d("div"),L=d("ul");for(let ae=0;ae<fe.length;ae+=1)fe[ae].c();de=T(),re=d("div"),be=d("button"),be.textContent=lt,this.h()},l(ae){e=v(ae,"DIV",{class:!0});var X=x(e);t=v(X,"DIV",{class:!0});var ne=x(t);l=v(ne,"H4",{class:!0});var ge=x(l);r=B(ge,a),u=k(ge),c=B(ge,i),b=B(ge," - Match Events"),ge.forEach(m),ne.forEach(m),p=k(X),o=v(X,"DIV",{class:!0});var ze=x(o);h=v(ze,"H4",{class:!0,"data-svelte-h":!0}),H(h)!=="svelte-9grj0b"&&(h.textContent=y),V=k(ze),M=v(ze,"DIV",{class:!0});var Ne=x(M);A=v(Ne,"DIV",{class:!0});var Qe=x(A);S=v(Qe,"SELECT",{id:!0,class:!0});var xe=x(S);D=v(xe,"OPTION",{"data-svelte-h":!0}),H(D)!=="svelte-q9hv1g"&&(D.textContent=C),_=v(xe,"OPTION",{"data-svelte-h":!0}),H(_)!=="svelte-z1r53k"&&(_.textContent=w),g=v(xe,"OPTION",{"data-svelte-h":!0}),H(g)!=="svelte-ub3136"&&(g.textContent=$),j=v(xe,"OPTION",{"data-svelte-h":!0}),H(j)!=="svelte-g9khn"&&(j.textContent=N),R=v(xe,"OPTION",{"data-svelte-h":!0}),H(R)!=="svelte-17vyv5t"&&(R.textContent=ee),J=v(xe,"OPTION",{"data-svelte-h":!0}),H(J)!=="svelte-1qew7am"&&(J.textContent=Q),P=v(xe,"OPTION",{"data-svelte-h":!0}),H(P)!=="svelte-1xnf8jt"&&(P.textContent=G),F=v(xe,"OPTION",{"data-svelte-h":!0}),H(F)!=="svelte-aftv0"&&(F.textContent=q),ve&&ve.l(xe),xe.forEach(m),Qe.forEach(m),Ee=k(Ne),le=v(Ne,"DIV",{class:!0});var Oe=x(le);ue=v(Oe,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),H(ue)!=="svelte-1p421ip"&&(ue.textContent=Ie),z=k(Oe),Y=v(Oe,"INPUT",{type:!0,id:!0,class:!0,placeholder:!0,min:!0,max:!0}),Oe.forEach(m),Me=k(Ne),O=v(Ne,"DIV",{class:!0});var Ye=x(O);E=v(Ye,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),H(E)!=="svelte-e3nge5"&&(E.textContent=De),oe=k(Ye),te=v(Ye,"INPUT",{type:!0,id:!0,class:!0,placeholder:!0,min:!0,max:!0}),Ye.forEach(m),he=k(Ne),ce=v(Ne,"DIV",{class:!0});var We=x(ce);pe=v(We,"BUTTON",{class:!0});var Ze=x(pe);Se=B(Ze,"Add Event"),Ze.forEach(m),We.forEach(m),Ne.forEach(m),ze.forEach(m),Le=k(X),Te=v(X,"DIV",{class:!0,"data-svelte-h":!0}),H(Te)!=="svelte-12xspgl"&&(Te.innerHTML=Ke),Ve=k(X),I=v(X,"DIV",{class:!0});var nt=x(I);L=v(nt,"UL",{class:!0});var Fe=x(L);for(let He=0;He<fe.length;He+=1)fe[He].l(Fe);Fe.forEach(m),nt.forEach(m),de=k(X),re=v(X,"DIV",{class:!0});var st=x(re);be=v(st,"BUTTON",{class:!0,"data-svelte-h":!0}),H(be)!=="svelte-1mh3djn"&&(be.textContent=lt),st.forEach(m),X.forEach(m),this.h()},h(){f(l,"class","text-lg font-bold"),f(t,"class","flex justify-between items-center"),f(h,"class","font-bold"),D.__value=-1,Pe(D,D.__value),D.disabled=!0,_.__value=0,Pe(_,_.__value),g.__value=1,Pe(g,g.__value),j.__value=2,Pe(j,j.__value),R.__value=7,Pe(R,R.__value),J.__value=8,Pe(J,J.__value),P.__value=9,Pe(P,P.__value),F.__value=10,Pe(F,F.__value),f(S,"id","eventType"),f(S,"class","w-full p-2 fpl-dropdown"),n[4]===void 0&&Al(()=>n[13].call(S)),f(A,"class","mt-1"),f(ue,"for","startMinute"),f(ue,"class","block text-sm font-medium"),f(Y,"type","number"),f(Y,"id","startMinute"),f(Y,"class","bg-gray-900 w-full px-4 py-2 mt-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"),f(Y,"placeholder","Enter start minute"),f(Y,"min","0"),f(Y,"max","90"),f(le,"class","mt-1"),f(E,"for","endMinute"),f(E,"class","block text-sm font-medium"),f(te,"type","number"),f(te,"id","endMinute"),f(te,"class","bg-gray-900 w-full px-4 py-2 mt-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"),f(te,"placeholder","Enter end minute"),f(te,"min","0"),f(te,"max","90"),f(O,"class","mt-2"),f(pe,"class",$e=`${n[7]?"bg-gray-500":"fpl-purple-btn"} px-4 py-2 text-white text-base font-medium rounded-md w-full shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-300`),pe.disabled=n[7],f(ce,"class","items-center mt-3 flex space-x-4"),f(M,"class","flex flex-col gap-1"),f(o,"class","mt-4 p-4 border-t border-gray-200"),f(Te,"class","px-4"),f(L,"class","list-disc"),f(I,"class","mt-1 text-xs mx-4"),f(be,"class","fpl-button mx-4 px-4 py-2 text-white text-base font-medium rounded-md w-full shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-300"),f(re,"class","items-center mt-3 flex space-x-4"),f(e,"class","mt-3")},m(ae,X){K(ae,e,X),s(e,t),s(t,l),s(l,r),s(l,u),s(l,c),s(l,b),s(e,p),s(e,o),s(o,h),s(o,V),s(o,M),s(M,A),s(A,S),s(S,D),s(S,_),s(S,g),s(S,j),s(S,R),s(S,J),s(S,P),s(S,F),ve&&ve.m(S,null),zt(S,n[4],!0),s(M,Ee),s(M,le),s(le,ue),s(le,z),s(le,Y),Pe(Y,n[5]),s(M,Me),s(M,O),s(O,E),s(O,oe),s(O,te),Pe(te,n[6]),s(M,he),s(M,ce),s(ce,pe),s(pe,Se),s(e,Le),s(e,Te),s(e,Ve),s(e,I),s(I,L);for(let ne=0;ne<fe.length;ne+=1)fe[ne]&&fe[ne].m(L,null);s(e,de),s(e,re),s(re,be),qe||(Xe=[ie(S,"change",n[13]),ie(Y,"input",n[14]),ie(te,"input",n[15]),ie(pe,"click",n[9]),ie(be,"click",function(){rt(n[3])&&n[3].apply(this,arguments)})],qe=!0)},p(ae,X){if(n=ae,X&2&&a!==(a=n[1].firstName!==""?n[1].firstName.charAt(0)+".":"")&&Z(r,a),X&2&&i!==(i=n[1].lastName+"")&&Z(c,i),n[1].position===0?ve||(ve=Qt(),ve.c(),ve.m(S,null)):ve&&(ve.d(1),ve=null),X&16&&zt(S,n[4]),X&32&&pt(Y.value)!==n[5]&&Pe(Y,n[5]),X&64&&pt(te.value)!==n[6]&&Pe(te,n[6]),X&128&&$e!==($e=`${n[7]?"bg-gray-500":"fpl-purple-btn"} px-4 py-2 text-white text-base font-medium rounded-md w-full shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-300`)&&f(pe,"class",$e),X&128&&(pe.disabled=n[7]),X&3330){ke=Je(n[8].filter(n[16]));let ne;for(ne=0;ne<ke.length;ne+=1){const ge=Xt(n,ke,ne);fe[ne]?fe[ne].p(ge,X):(fe[ne]=Zt(ge),fe[ne].c(),fe[ne].m(L,null))}for(;ne<fe.length;ne+=1)fe[ne].d(1);fe.length=ke.length}},d(ae){ae&&m(e),ve&&ve.d(),Sl(fe,ae),qe=!1,ct(Xe)}}}function Wl(n){let e,t;return e=new gt({props:{visible:n[0],$$slots:{default:[Yl]},$$scope:{ctx:n}}}),e.$on("nnsClose",n[18]),{c(){Be(e.$$.fragment)},l(l){je(e.$$.fragment,l)},m(l,a){Ge(e,l,a),t=!0},p(l,[a]){const r={};a&1&&(r.visible=l[0]),a&8389114&&(r.$$scope={dirty:a,ctx:l}),e.$set(r)},i(l){t||(_e(e.$$.fragment,l),t=!0)},o(l){we(e.$$.fragment,l),t=!1},d(l){Re(e,l)}}}function Jl(n,e,t){let l,a=tt,r=()=>(a(),a=bt(b,N=>t(8,l=N)),b);n.$$.on_destroy.push(()=>a());let{visible:u=!1}=e,{player:i}=e,{fixtureId:c}=e,{playerEventData:b}=e;r();let{closeModal:p}=e,o=-1,h=0,y=0,V=!0;const M=[{id:0,label:"Appearance"},{id:1,label:"Goal Scored"},{id:2,label:"Goal Assisted"},{id:6,label:"Penalty Saved"},{id:7,label:"Penalty Missed"},{id:8,label:"Yellow Card"},{id:9,label:"Red Card"},{id:10,label:"Own Goal"}];function A(){if(o>=0&&h!==null&&y!==null){const N={playerId:i.id,eventType:Number(o),eventStartMinute:Number(h),eventEndMinute:Number(y),fixtureId:c,teamId:i.teamId};let R=[...l,N];b.set(R),t(5,h=0),t(6,y=0),t(4,o=-1)}}function S(N){b.update(R=>R.filter(ee=>ee.playerId==i.id).filter((ee,J)=>J!==N))}const D=N=>{const R=M.find(ee=>ee.id===N);return R?R.label:""};function C(){o=Ll(this),t(4,o)}function _(){h=pt(this.value),t(5,h)}function w(){y=pt(this.value),t(6,y)}const g=N=>N.playerId==i.id,$=N=>S(N),j=()=>t(0,u=!1);return n.$$set=N=>{"visible"in N&&t(0,u=N.visible),"player"in N&&t(1,i=N.player),"fixtureId"in N&&t(12,c=N.fixtureId),"playerEventData"in N&&r(t(2,b=N.playerEventData)),"closeModal"in N&&t(3,p=N.closeModal)},n.$$.update=()=>{n.$$.dirty&112&&t(7,V=o<0||h<0||h>90||y<0||y>90)},[u,i,b,p,o,h,y,V,l,A,S,D,c,C,_,w,g,$,j]}class Xl extends dt{constructor(e){super(),vt(this,e,Jl,Wl,ut,{visible:0,player:1,fixtureId:12,playerEventData:2,closeModal:3})}}function el(n,e,t){const l=n.slice();l[11]=e[t];const a=l[5].some(function(...u){return n[9](l[11],...u)});return l[12]=a,l}function tl(n){let e;return{c(){e=U("GK")},l(t){e=B(t,"GK")},m(t,l){K(t,e,l)},d(t){t&&m(e)}}}function ll(n){let e;return{c(){e=U("DF")},l(t){e=B(t,"DF")},m(t,l){K(t,e,l)},d(t){t&&m(e)}}}function nl(n){let e;return{c(){e=U("MF")},l(t){e=B(t,"MF")},m(t,l){K(t,e,l)},d(t){t&&m(e)}}}function sl(n){let e;return{c(){e=U("FW")},l(t){e=B(t,"FW")},m(t,l){K(t,e,l)},d(t){t&&m(e)}}}function al(n){let e,t,l,a=`${n[11].firstName.length>0?n[11].firstName.charAt(0)+".":""} ${n[11].lastName}`,r,u,i,c,b,p,o,h,y,V,M,A,S,D,C,_=n[11].position==0&&tl(),w=n[11].position==1&&ll(),g=n[11].position==2&&nl(),$=n[11].position==3&&sl();function j(...N){return n[8](n[11],...N)}return{c(){e=d("div"),t=d("div"),l=d("span"),r=U(a),u=T(),i=d("div"),c=d("span"),_&&_.c(),b=T(),w&&w.c(),p=T(),g&&g.c(),o=T(),$&&$.c(),h=T(),y=d("div"),V=d("label"),M=d("input"),S=T(),this.h()},l(N){e=v(N,"DIV",{class:!0});var R=x(e);t=v(R,"DIV",{class:!0});var ee=x(t);l=v(ee,"SPAN",{class:!0});var J=x(l);r=B(J,a),J.forEach(m),ee.forEach(m),u=k(R),i=v(R,"DIV",{class:!0});var Q=x(i);c=v(Q,"SPAN",{class:!0});var P=x(c);_&&_.l(P),b=k(P),w&&w.l(P),p=k(P),g&&g.l(P),o=k(P),$&&$.l(P),P.forEach(m),Q.forEach(m),h=k(R),y=v(R,"DIV",{class:!0});var G=x(y);V=v(G,"LABEL",{class:!0});var F=x(V);M=v(F,"INPUT",{type:!0,class:!0}),F.forEach(m),G.forEach(m),S=k(R),R.forEach(m),this.h()},h(){f(l,"class","text-lg font-medium"),f(t,"class","flex w-1/2"),f(c,"class","text-lg font-medium"),f(i,"class","flex w-1/4"),f(M,"type","checkbox"),f(M,"class","form-checkbox h-5 w-5 text-blue-600"),M.checked=A=n[12],f(V,"class","inline-flex items-center"),f(y,"class","form-checkbox w-1/4"),f(e,"class","flex flex-row justify-between items-center mx-4 border-b")},m(N,R){K(N,e,R),s(e,t),s(t,l),s(l,r),s(e,u),s(e,i),s(i,c),_&&_.m(c,null),s(c,b),w&&w.m(c,null),s(c,p),g&&g.m(c,null),s(c,o),$&&$.m(c,null),s(e,h),s(e,y),s(y,V),s(V,M),s(e,S),D||(C=ie(M,"change",j),D=!0)},p(N,R){n=N,R&64&&a!==(a=`${n[11].firstName.length>0?n[11].firstName.charAt(0)+".":""} ${n[11].lastName}`)&&Z(r,a),n[11].position==0?_||(_=tl(),_.c(),_.m(c,b)):_&&(_.d(1),_=null),n[11].position==1?w||(w=ll(),w.c(),w.m(c,p)):w&&(w.d(1),w=null),n[11].position==2?g||(g=nl(),g.c(),g.m(c,o)):g&&(g.d(1),g=null),n[11].position==3?$||($=sl(),$.c(),$.m(c,null)):$&&($.d(1),$=null),R&96&&A!==(A=n[12])&&(M.checked=A)},d(N){N&&m(e),_&&_.d(),w&&w.d(),g&&g.d(),$&&$.d(),D=!1,C()}}}function Ql(n){let e,t,l,a=n[2].friendlyName+"",r,u,i,c,b,p,o,h="Cancel",y,V,M="Select",A,S,D=Je(n[6].sort(il)),C=[];for(let _=0;_<D.length;_+=1)C[_]=al(el(n,D,_));return{c(){e=d("div"),t=d("h3"),l=U("Select "),r=U(a),u=U(" Players"),i=T(),c=d("div");for(let _=0;_<C.length;_+=1)C[_].c();b=T(),p=d("div"),o=d("button"),o.textContent=h,y=T(),V=d("button"),V.textContent=M,this.h()},l(_){e=v(_,"DIV",{class:!0});var w=x(e);t=v(w,"H3",{class:!0});var g=x(t);l=B(g,"Select "),r=B(g,a),u=B(g," Players"),g.forEach(m),i=k(w),c=v(w,"DIV",{class:!0});var $=x(c);for(let N=0;N<C.length;N+=1)C[N].l($);$.forEach(m),b=k(w),p=v(w,"DIV",{class:!0});var j=x(p);o=v(j,"BUTTON",{class:!0,"data-svelte-h":!0}),H(o)!=="svelte-h2j5a6"&&(o.textContent=h),y=k(j),V=v(j,"BUTTON",{class:!0,"data-svelte-h":!0}),H(V)!=="svelte-153jk5w"&&(V.textContent=M),j.forEach(m),w.forEach(m),this.h()},h(){f(t,"class","text-lg leading-6 font-medium mb-2"),f(c,"class","my-5 grid grid-cols-1 sm:grid-cols-2 gap-2"),f(o,"class","px-4 py-2 fpl-cancel-btn text-white text-base font-medium rounded-md w-full shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-300"),f(V,"class","px-4 py-2 fpl-purple-btn text-white text-base font-medium rounded-md w-full shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-300"),f(p,"class","items-center py-3 flex space-x-4"),f(e,"class","mt-3 px-4 py-2")},m(_,w){K(_,e,w),s(e,t),s(t,l),s(t,r),s(t,u),s(e,i),s(e,c);for(let g=0;g<C.length;g+=1)C[g]&&C[g].m(c,null);s(e,b),s(e,p),s(p,o),s(p,y),s(p,V),A||(S=[ie(o,"click",function(){rt(n[4])&&n[4].apply(this,arguments)}),ie(V,"click",function(){rt(n[4])&&n[4].apply(this,arguments)})],A=!0)},p(_,w){if(n=_,w&4&&a!==(a=n[2].friendlyName+"")&&Z(r,a),w&224){D=Je(n[6].sort(il));let g;for(g=0;g<D.length;g+=1){const $=el(n,D,g);C[g]?C[g].p($,w):(C[g]=al($),C[g].c(),C[g].m(c,null))}for(;g<C.length;g+=1)C[g].d(1);C.length=D.length}},d(_){_&&m(e),Sl(C,_),A=!1,ct(S)}}}function Zl(n){let e,t;return e=new gt({props:{visible:n[0],$$slots:{default:[Ql]},$$scope:{ctx:n}}}),e.$on("nnsClose",n[10]),{c(){Be(e.$$.fragment)},l(l){je(e.$$.fragment,l)},m(l,a){Ge(e,l,a),t=!0},p(l,[a]){const r={};a&1&&(r.visible=l[0]),a&32884&&(r.$$scope={dirty:a,ctx:l}),e.$set(r)},i(l){t||(_e(e.$$.fragment,l),t=!0)},o(l){we(e.$$.fragment,l),t=!1},d(l){Re(e,l)}}}const il=(n,e)=>n.position-e.position;function en(n,e,t){let l,a=tt,r=()=>(a(),a=bt(o,D=>t(5,l=D)),o),u,i=tt,c=()=>(i(),i=bt(b,D=>t(6,u=D)),b);n.$$.on_destroy.push(()=>a()),n.$$.on_destroy.push(()=>i());let{teamPlayers:b=et([])}=e;c();let{selectedTeam:p}=e,{selectedPlayers:o=et([])}=e;r();let{visible:h=!1}=e;function y(D,C){const _=D.target;let w=l,g=u;if(_.checked){const $=g.find(j=>j.id===C.id);$&&!w.some(j=>j.id===C.id)&&(w=[...w,$])}else w=w.filter($=>$.id!==C.id);Lt(o,l=w,l)}let{closeModal:V}=e;const M=(D,C)=>{y(C,D)},A=(D,C)=>C.id===D.id,S=()=>t(0,h=!1);return n.$$set=D=>{"teamPlayers"in D&&c(t(1,b=D.teamPlayers)),"selectedTeam"in D&&t(2,p=D.selectedTeam),"selectedPlayers"in D&&r(t(3,o=D.selectedPlayers)),"visible"in D&&t(0,h=D.visible),"closeModal"in D&&t(4,V=D.closeModal)},[h,b,p,o,V,l,u,y,M,A,S]}class tn extends dt{constructor(e){super(),vt(this,e,en,Zl,ut,{teamPlayers:1,selectedTeam:2,selectedPlayers:3,visible:0,closeModal:4})}}function ln(n){let e,t,l="Confirm Fixture Data",a,r,u="✕",i,c,b=`<h1>Please confirm your fixture data.</h1> <p class="text-sm text-gray-600">You will not be able to edit your submission and entries that differ from
      the accepted consensus data will not receive $FPL rewards. If consensus
      has already been reached for the fixture your submission will also not be
      counted.</p>`,p,o,h,y="Cancel",V,M,A="Confirm",S,D;return{c(){e=d("div"),t=d("h4"),t.textContent=l,a=T(),r=d("button"),r.textContent=u,i=T(),c=d("div"),c.innerHTML=b,p=T(),o=d("div"),h=d("button"),h.textContent=y,V=T(),M=d("button"),M.textContent=A,this.h()},l(C){e=v(C,"DIV",{class:!0});var _=x(e);t=v(_,"H4",{class:!0,"data-svelte-h":!0}),H(t)!=="svelte-1q1allu"&&(t.textContent=l),a=k(_),r=v(_,"BUTTON",{class:!0,"data-svelte-h":!0}),H(r)!=="svelte-naxdfo"&&(r.textContent=u),_.forEach(m),i=k(C),c=v(C,"DIV",{class:!0,"data-svelte-h":!0}),H(c)!=="svelte-7ennqn"&&(c.innerHTML=b),p=k(C),o=v(C,"DIV",{class:!0});var w=x(o);h=v(w,"BUTTON",{class:!0,"data-svelte-h":!0}),H(h)!=="svelte-28muw1"&&(h.textContent=y),V=k(w),M=v(w,"BUTTON",{class:!0,"data-svelte-h":!0}),H(M)!=="svelte-2n1nwn"&&(M.textContent=A),w.forEach(m),this.h()},h(){f(t,"class","text-lg font-bold"),f(r,"class","text-black"),f(e,"class","flex justify-between items-center"),f(c,"class","my-5"),f(h,"class","px-4 py-2 border rounded text-black"),f(M,"class","px-4 py-2 bg-blue-500 text-white rounded"),f(o,"class","flex justify-end gap-3")},m(C,_){K(C,e,_),s(e,t),s(e,a),s(e,r),K(C,i,_),K(C,c,_),K(C,p,_),K(C,o,_),s(o,h),s(o,V),s(o,M),S||(D=[ie(r,"click",n[2]),ie(h,"click",n[2]),ie(M,"click",function(){rt(n[1])&&n[1].apply(this,arguments)})],S=!0)},p(C,_){n=C},d(C){C&&(m(e),m(i),m(c),m(p),m(o)),S=!1,ct(D)}}}function nn(n){let e,t;return e=new gt({props:{visible:n[0],$$slots:{default:[ln]},$$scope:{ctx:n}}}),e.$on("nnsClose",n[3]),{c(){Be(e.$$.fragment)},l(l){je(e.$$.fragment,l)},m(l,a){Ge(e,l,a),t=!0},p(l,[a]){const r={};a&1&&(r.visible=l[0]),a&18&&(r.$$scope={dirty:a,ctx:l}),e.$set(r)},i(l){t||(_e(e.$$.fragment,l),t=!0)},o(l){we(e.$$.fragment,l),t=!1},d(l){Re(e,l)}}}function sn(n,e,t){let{visible:l=!1}=e,{onConfirm:a}=e;function r(){t(0,l=!1)}const u=()=>t(0,l=!1);return n.$$set=i=>{"visible"in i&&t(0,l=i.visible),"onConfirm"in i&&t(1,a=i.onConfirm)},[l,a,r,u]}class an extends dt{constructor(e){super(),vt(this,e,sn,nn,ut,{visible:0,onConfirm:1})}}function on(n){let e,t='<h3 class="text-lg leading-6 font-medium mb-2">Please confirm you want to clear the draft from your cache.</h3>',l,a,r,u="Cancel",i,c,b="Clear",p,o;return{c(){e=d("div"),e.innerHTML=t,l=T(),a=d("div"),r=d("button"),r.textContent=u,i=T(),c=d("button"),c.textContent=b,this.h()},l(h){e=v(h,"DIV",{class:!0,"data-svelte-h":!0}),H(e)!=="svelte-9o48zw"&&(e.innerHTML=t),l=k(h),a=v(h,"DIV",{class:!0});var y=x(a);r=v(y,"BUTTON",{class:!0,"data-svelte-h":!0}),H(r)!=="svelte-1tm5eym"&&(r.textContent=u),i=k(y),c=v(y,"BUTTON",{class:!0,"data-svelte-h":!0}),H(c)!=="svelte-1bvkaon"&&(c.textContent=b),y.forEach(m),this.h()},h(){f(e,"class","mt-3 text-center"),f(r,"class","px-4 py-2 fpl-cancel-btn text-white text-base font-medium rounded-md w-full shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-300"),f(c,"class","px-4 py-2 fpl-purple-btn text-white text-base font-medium rounded-md w-full shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-300"),f(a,"class","items-center py-3 flex space-x-4")},m(h,y){K(h,e,y),K(h,l,y),K(h,a,y),s(a,r),s(a,i),s(a,c),p||(o=[ie(r,"click",function(){rt(n[2])&&n[2].apply(this,arguments)}),ie(c,"click",function(){rt(n[1])&&n[1].apply(this,arguments)})],p=!0)},p(h,y){n=h},d(h){h&&(m(e),m(l),m(a)),p=!1,ct(o)}}}function rn(n){let e,t;return e=new gt({props:{visible:n[0],$$slots:{default:[on]},$$scope:{ctx:n}}}),e.$on("nnsClose",n[3]),{c(){Be(e.$$.fragment)},l(l){je(e.$$.fragment,l)},m(l,a){Ge(e,l,a),t=!0},p(l,[a]){const r={};a&1&&(r.visible=l[0]),a&22&&(r.$$scope={dirty:a,ctx:l}),e.$set(r)},i(l){t||(_e(e.$$.fragment,l),t=!0)},o(l){we(e.$$.fragment,l),t=!1},d(l){Re(e,l)}}}function fn(n,e,t){let{visible:l=!1}=e,{onConfirm:a}=e,{closeModal:r}=e;const u=()=>t(0,l=!1);return n.$$set=i=>{"visible"in i&&t(0,l=i.visible),"onConfirm"in i&&t(1,a=i.onConfirm),"closeModal"in i&&t(2,r=i.closeModal)},[l,a,r,u]}class un extends dt{constructor(e){super(),vt(this,e,fn,rn,ut,{visible:0,onConfirm:1,closeModal:2})}}function ol(n,e,t){const l=n.slice();return l[50]=e[t],l}function rl(n,e,t){const l=n.slice();return l[50]=e[t],l}function cn(n){let e,t,l,a,r="Select Players",u,i,c="Save Draft",b,p,o="Clear Draft",h,y,V,M,A,S=n[3]?.friendlyName+"",D,C,_,w,g,$,j=n[4]?.friendlyName+"",N,R,ee,J,Q,P,G='<div class="w-1/6 px-4">Player</div> <div class="w-1/6 px-4">Position</div> <div class="w-1/6 px-4">Events</div> <div class="w-1/6 px-4">Start</div> <div class="w-1/6 px-4">End</div> <div class="w-1/6 px-4"> </div>',F,q,Ee,le,ue="<h1>Summary</h1>",Ie,z,Y,Me,O=n[0].filter(El).length+"",E,De,oe,te,he=n[0].filter(Il).length+"",ce,pe,Se,$e,Le=n[0].filter(Dl).length+"",Te,Ke,Ve,I,L=n[0].filter(Tl).length+"",de,re,be,lt,qe=n[0].filter(kl).length+"",Xe,ve,ke,fe,ae=n[0].filter(Nl).length+"",X,ne,ge,ze,Ne=n[0].filter(xl).length+"",Qe,xe,Oe,Ye,We=n[0].filter(Pl).length+"",Ze,nt,Fe,st,He=n[0].filter(Ml).length+"",mt,yt,at,Ue,Ct,_t,wt,Ut,ye=n[11]==="home"&&fl(n),Ce=n[11]==="away"&&_l(n);return{c(){e=d("div"),t=d("div"),l=d("div"),a=d("button"),a.textContent=r,u=T(),i=d("button"),i.textContent=c,b=T(),p=d("button"),p.textContent=o,h=T(),y=d("div"),V=d("ul"),M=d("li"),A=d("button"),D=U(S),w=T(),g=d("li"),$=d("button"),N=U(j),J=T(),Q=d("div"),P=d("div"),P.innerHTML=G,F=T(),ye&&ye.c(),q=T(),Ce&&Ce.c(),Ee=T(),le=d("div"),le.innerHTML=ue,Ie=T(),z=d("div"),Y=d("div"),Me=U("Appearances: "),E=U(O),De=T(),oe=d("div"),te=U("Goals: "),ce=U(he),pe=T(),Se=d("div"),$e=U("Own Goals: "),Te=U(Le),Ke=T(),Ve=d("div"),I=U("Assists: "),de=U(L),re=T(),be=d("div"),lt=U("Keeper Saves: "),Xe=U(qe),ve=T(),ke=d("div"),fe=U("Yellow Cards: "),X=U(ae),ne=T(),ge=d("div"),ze=U("Red Cards: "),Qe=U(Ne),xe=T(),Oe=d("div"),Ye=U("Penalties Saved: "),Ze=U(We),nt=T(),Fe=d("div"),st=U("Penalties Missed: "),mt=U(He),yt=T(),at=d("div"),Ue=d("button"),Ct=U("Submit Event Data"),this.h()},l(W){e=v(W,"DIV",{class:!0});var se=x(e);t=v(se,"DIV",{class:!0});var Ae=x(t);l=v(Ae,"DIV",{class:!0});var it=x(l);a=v(it,"BUTTON",{class:!0,"data-svelte-h":!0}),H(a)!=="svelte-1r8hmpb"&&(a.textContent=r),u=k(it),i=v(it,"BUTTON",{class:!0,"data-svelte-h":!0}),H(i)!=="svelte-1km0b4b"&&(i.textContent=c),b=k(it),p=v(it,"BUTTON",{class:!0,"data-svelte-h":!0}),H(p)!=="svelte-1m508oj"&&(p.textContent=o),it.forEach(m),h=k(Ae),y=v(Ae,"DIV",{class:!0});var Bt=x(y);V=v(Bt,"UL",{class:!0});var ht=x(V);M=v(ht,"LI",{class:!0});var jt=x(M);A=v(jt,"BUTTON",{class:!0});var Gt=x(A);D=B(Gt,S),Gt.forEach(m),jt.forEach(m),w=k(ht),g=v(ht,"LI",{class:!0});var Rt=x(g);$=v(Rt,"BUTTON",{class:!0});var qt=x($);N=B(qt,j),qt.forEach(m),Rt.forEach(m),ht.forEach(m),Bt.forEach(m),J=k(Ae),Q=v(Ae,"DIV",{class:!0});var ot=x(Q);P=v(ot,"DIV",{class:!0,"data-svelte-h":!0}),H(P)!=="svelte-15cg9f0"&&(P.innerHTML=G),F=k(ot),ye&&ye.l(ot),q=k(ot),Ce&&Ce.l(ot),ot.forEach(m),Ee=k(Ae),le=v(Ae,"DIV",{class:!0,"data-svelte-h":!0}),H(le)!=="svelte-1toeckg"&&(le.innerHTML=ue),Ie=k(Ae),z=v(Ae,"DIV",{class:!0});var me=x(z);Y=v(me,"DIV",{class:!0});var Et=x(Y);Me=B(Et,"Appearances: "),E=B(Et,O),Et.forEach(m),De=k(me),oe=v(me,"DIV",{class:!0});var It=x(oe);te=B(It,"Goals: "),ce=B(It,he),It.forEach(m),pe=k(me),Se=v(me,"DIV",{class:!0});var Dt=x(Se);$e=B(Dt,"Own Goals: "),Te=B(Dt,Le),Dt.forEach(m),Ke=k(me),Ve=v(me,"DIV",{class:!0});var Tt=x(Ve);I=B(Tt,"Assists: "),de=B(Tt,L),Tt.forEach(m),re=k(me),be=v(me,"DIV",{class:!0});var kt=x(be);lt=B(kt,"Keeper Saves: "),Xe=B(kt,qe),kt.forEach(m),ve=k(me),ke=v(me,"DIV",{class:!0});var Nt=x(ke);fe=B(Nt,"Yellow Cards: "),X=B(Nt,ae),Nt.forEach(m),ne=k(me),ge=v(me,"DIV",{class:!0});var xt=x(ge);ze=B(xt,"Red Cards: "),Qe=B(xt,Ne),xt.forEach(m),xe=k(me),Oe=v(me,"DIV",{class:!0});var Pt=x(Oe);Ye=B(Pt,"Penalties Saved: "),Ze=B(Pt,We),Pt.forEach(m),nt=k(me),Fe=v(me,"DIV",{class:!0});var Mt=x(Fe);st=B(Mt,"Penalties Missed: "),mt=B(Mt,He),Mt.forEach(m),me.forEach(m),yt=k(Ae),at=v(Ae,"DIV",{class:!0});var Ht=x(at);Ue=v(Ht,"BUTTON",{class:!0});var Kt=x(Ue);Ct=B(Kt,"Submit Event Data"),Kt.forEach(m),Ht.forEach(m),Ae.forEach(m),se.forEach(m),this.h()},h(){f(a,"class","fpl-button px-4 py-2"),f(i,"class","fpl-button px-4 py-2"),f(p,"class","fpl-button px-4 py-2"),f(l,"class","flex flex-row space-x-2 p-4"),f(A,"class",C=`p-2 ${n[11]==="home"?"text-white":"text-gray-400"}`),f(M,"class",_=`mr-4 text-xs md:text-base ${n[11]==="home"?"active-tab":""}`),f($,"class",R=`p-2 ${n[11]==="away"?"text-white":"text-gray-400"}`),f(g,"class",ee=`mr-4 text-xs md:text-base ${n[11]==="away"?"active-tab":""}`),f(V,"class","flex bg-light-gray px-4 pt-2 w-full mt-4"),f(y,"class","flex w-full"),f(P,"class","flex items-center p-2 justify-between py-4 border-b border-gray-700 cursor-pointer w-full"),f(Q,"class","flex w-full flex-col"),f(le,"class","flex w-full m-4"),f(Y,"class","text-sm font-medium flex-grow"),f(oe,"class","text-sm font-medium flex-grow"),f(Se,"class","text-sm font-medium flex-grow"),f(Ve,"class","text-sm font-medium flex-grow"),f(be,"class","text-sm font-medium flex-grow"),f(ke,"class","text-sm font-medium flex-grow"),f(ge,"class","text-sm font-medium flex-grow"),f(Oe,"class","text-sm font-medium flex-grow"),f(Fe,"class","text-sm font-medium flex-grow"),f(z,"class","flex flex-row w-full m-4"),f(Ue,"class",_t=`${n[12]?"bg-gray-500":"fpl-purple-btn"} 
            px-4 py-2 text-white text-base font-medium rounded-md w-full shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-300`),Ue.disabled=n[12],f(at,"class","items-center mt-3 flex space-x-4"),f(t,"class","flex flex-col text-xs md:text-base mt-4"),f(e,"class","container-fluid mx-4 md:mx-16 mt-4 bg-panel")},m(W,se){K(W,e,se),s(e,t),s(t,l),s(l,a),s(l,u),s(l,i),s(l,b),s(l,p),s(t,h),s(t,y),s(y,V),s(V,M),s(M,A),s(A,D),s(V,w),s(V,g),s(g,$),s($,N),s(t,J),s(t,Q),s(Q,P),s(Q,F),ye&&ye.m(Q,null),s(Q,q),Ce&&Ce.m(Q,null),s(t,Ee),s(t,le),s(t,Ie),s(t,z),s(z,Y),s(Y,Me),s(Y,E),s(z,De),s(z,oe),s(oe,te),s(oe,ce),s(z,pe),s(z,Se),s(Se,$e),s(Se,Te),s(z,Ke),s(z,Ve),s(Ve,I),s(Ve,de),s(z,re),s(z,be),s(be,lt),s(be,Xe),s(z,ve),s(z,ke),s(ke,fe),s(ke,X),s(z,ne),s(z,ge),s(ge,ze),s(ge,Qe),s(z,xe),s(z,Oe),s(Oe,Ye),s(Oe,Ze),s(z,nt),s(z,Fe),s(Fe,st),s(Fe,mt),s(t,yt),s(t,at),s(at,Ue),s(Ue,Ct),wt||(Ut=[ie(a,"click",n[23]),ie(i,"click",n[18]),ie(p,"click",n[25]),ie(A,"click",n[28]),ie($,"click",n[29]),ie(Ue,"click",n[17])],wt=!0)},p(W,se){se[0]&8&&S!==(S=W[3]?.friendlyName+"")&&Z(D,S),se[0]&2048&&C!==(C=`p-2 ${W[11]==="home"?"text-white":"text-gray-400"}`)&&f(A,"class",C),se[0]&2048&&_!==(_=`mr-4 text-xs md:text-base ${W[11]==="home"?"active-tab":""}`)&&f(M,"class",_),se[0]&16&&j!==(j=W[4]?.friendlyName+"")&&Z(N,j),se[0]&2048&&R!==(R=`p-2 ${W[11]==="away"?"text-white":"text-gray-400"}`)&&f($,"class",R),se[0]&2048&&ee!==(ee=`mr-4 text-xs md:text-base ${W[11]==="away"?"active-tab":""}`)&&f(g,"class",ee),W[11]==="home"?ye?ye.p(W,se):(ye=fl(W),ye.c(),ye.m(Q,q)):ye&&(ye.d(1),ye=null),W[11]==="away"?Ce?Ce.p(W,se):(Ce=_l(W),Ce.c(),Ce.m(Q,null)):Ce&&(Ce.d(1),Ce=null),se[0]&1&&O!==(O=W[0].filter(El).length+"")&&Z(E,O),se[0]&1&&he!==(he=W[0].filter(Il).length+"")&&Z(ce,he),se[0]&1&&Le!==(Le=W[0].filter(Dl).length+"")&&Z(Te,Le),se[0]&1&&L!==(L=W[0].filter(Tl).length+"")&&Z(de,L),se[0]&1&&qe!==(qe=W[0].filter(kl).length+"")&&Z(Xe,qe),se[0]&1&&ae!==(ae=W[0].filter(Nl).length+"")&&Z(X,ae),se[0]&1&&Ne!==(Ne=W[0].filter(xl).length+"")&&Z(Qe,Ne),se[0]&1&&We!==(We=W[0].filter(Pl).length+"")&&Z(Ze,We),se[0]&1&&He!==(He=W[0].filter(Ml).length+"")&&Z(mt,He),se[0]&4096&&_t!==(_t=`${W[12]?"bg-gray-500":"fpl-purple-btn"} 
            px-4 py-2 text-white text-base font-medium rounded-md w-full shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-300`)&&f(Ue,"class",_t),se[0]&4096&&(Ue.disabled=W[12])},i:tt,o:tt,d(W){W&&m(e),ye&&ye.d(),Ce&&Ce.d(),wt=!1,ct(Ut)}}}function dn(n){let e,t;return e=new Hl({}),{c(){Be(e.$$.fragment)},l(l){je(e.$$.fragment,l)},m(l,a){Ge(e,l,a),t=!0},p:tt,i(l){t||(_e(e.$$.fragment,l),t=!0)},o(l){we(e.$$.fragment,l),t=!1},d(l){Re(e,l)}}}function fl(n){let e=[],t=new Map,l,a=Je(n[1].filter(n[30]));const r=u=>u[50].id;for(let u=0;u<a.length;u+=1){let i=rl(n,a,u),c=r(i);t.set(c,e[u]=ml(c,i))}return{c(){for(let u=0;u<e.length;u+=1)e[u].c();l=ft()},l(u){for(let i=0;i<e.length;i+=1)e[i].l(u);l=ft()},m(u,i){for(let c=0;c<e.length;c+=1)e[c]&&e[c].m(u,i);K(u,l,i)},p(u,i){i[0]&2097159&&(a=Je(u[1].filter(u[30])),e=Vl(e,i,r,1,u,a,t,l.parentNode,Ol,ml,l,rl))},d(u){u&&m(l);for(let i=0;i<e.length;i+=1)e[i].d(u)}}}function ul(n){let e,t="GK";return{c(){e=d("div"),e.textContent=t,this.h()},l(l){e=v(l,"DIV",{class:!0,"data-svelte-h":!0}),H(e)!=="svelte-mmeyla"&&(e.textContent=t),this.h()},h(){f(e,"class","w-1/6 px-4")},m(l,a){K(l,e,a)},d(l){l&&m(e)}}}function cl(n){let e,t="DF";return{c(){e=d("div"),e.textContent=t,this.h()},l(l){e=v(l,"DIV",{class:!0,"data-svelte-h":!0}),H(e)!=="svelte-1bhhlci"&&(e.textContent=t),this.h()},h(){f(e,"class","w-1/6 px-4")},m(l,a){K(l,e,a)},d(l){l&&m(e)}}}function dl(n){let e,t="MF";return{c(){e=d("div"),e.textContent=t,this.h()},l(l){e=v(l,"DIV",{class:!0,"data-svelte-h":!0}),H(e)!=="svelte-syz487"&&(e.textContent=t),this.h()},h(){f(e,"class","w-1/6 px-4")},m(l,a){K(l,e,a)},d(l){l&&m(e)}}}function vl(n){let e,t="FW";return{c(){e=d("div"),e.textContent=t,this.h()},l(l){e=v(l,"DIV",{class:!0,"data-svelte-h":!0}),H(e)!=="svelte-8mc40v"&&(e.textContent=t),this.h()},h(){f(e,"class","w-1/6 px-4")},m(l,a){K(l,e,a)},d(l){l&&m(e)}}}function ml(n,e){let t,l,a=`${e[50].firstName.length>0?e[50].firstName.charAt(0)+".":""} ${e[50].lastName}`,r,u,i,c,b,p,o,h,y=(e[0]?.length>0&&e[0]?.filter(Ee).length?e[0]?.filter(le).length:0)+"",V,M,A,S=(e[0]&&e[0]?.length>0&&e[0]?.find(ue)?e[0]?.find(Ie)?.eventStartMinute:"-")+"",D,C,_,w=(e[0]&&e[0]?.length>0&&e[0]?.find(z)?e[0]?.find(Y)?.eventEndMinute:"-")+"",g,$,j,N,R="Update Events",ee,J,Q,P=e[50].position==0&&ul(),G=e[50].position==1&&cl(),F=e[50].position==2&&dl(),q=e[50].position==3&&vl();function Ee(...O){return e[31](e[50],...O)}function le(...O){return e[32](e[50],...O)}function ue(...O){return e[33](e[50],...O)}function Ie(...O){return e[34](e[50],...O)}function z(...O){return e[35](e[50],...O)}function Y(...O){return e[36](e[50],...O)}function Me(){return e[37](e[50])}return{key:n,first:null,c(){t=d("div"),l=d("div"),r=U(a),u=T(),P&&P.c(),i=T(),G&&G.c(),c=T(),F&&F.c(),b=T(),q&&q.c(),p=T(),o=d("div"),h=U(`Events:
                  `),V=U(y),M=T(),A=d("div"),D=U(S),C=T(),_=d("div"),g=U(w),$=T(),j=d("div"),N=d("button"),N.textContent=R,ee=T(),this.h()},l(O){t=v(O,"DIV",{class:!0});var E=x(t);l=v(E,"DIV",{class:!0});var De=x(l);r=B(De,a),De.forEach(m),u=k(E),P&&P.l(E),i=k(E),G&&G.l(E),c=k(E),F&&F.l(E),b=k(E),q&&q.l(E),p=k(E),o=v(E,"DIV",{class:!0});var oe=x(o);h=B(oe,`Events:
                  `),V=B(oe,y),oe.forEach(m),M=k(E),A=v(E,"DIV",{class:!0});var te=x(A);D=B(te,S),te.forEach(m),C=k(E),_=v(E,"DIV",{class:!0});var he=x(_);g=B(he,w),he.forEach(m),$=k(E),j=v(E,"DIV",{class:!0});var ce=x(j);N=v(ce,"BUTTON",{class:!0,"data-svelte-h":!0}),H(N)!=="svelte-kdfprs"&&(N.textContent=R),ce.forEach(m),ee=k(E),E.forEach(m),this.h()},h(){f(l,"class","w-1/6 px-4"),f(o,"class","w-1/6 px-4"),f(A,"class","w-1/6 px-4"),f(_,"class","w-1/6 px-4"),f(N,"class","text-base sm:text-xs md:text-base rounded fpl-button px-3 sm:px-2 px-3 py-1 ml-1"),f(j,"class","w-1/6 px-4"),f(t,"class","flex items-center p-2 justify-between py-4 border-b border-gray-700 cursor-pointer w-full"),this.first=t},m(O,E){K(O,t,E),s(t,l),s(l,r),s(t,u),P&&P.m(t,null),s(t,i),G&&G.m(t,null),s(t,c),F&&F.m(t,null),s(t,b),q&&q.m(t,null),s(t,p),s(t,o),s(o,h),s(o,V),s(t,M),s(t,A),s(A,D),s(t,C),s(t,_),s(_,g),s(t,$),s(t,j),s(j,N),s(t,ee),J||(Q=ie(N,"click",Me),J=!0)},p(O,E){e=O,E[0]&6&&a!==(a=`${e[50].firstName.length>0?e[50].firstName.charAt(0)+".":""} ${e[50].lastName}`)&&Z(r,a),e[50].position==0?P||(P=ul(),P.c(),P.m(t,i)):P&&(P.d(1),P=null),e[50].position==1?G||(G=cl(),G.c(),G.m(t,c)):G&&(G.d(1),G=null),e[50].position==2?F||(F=dl(),F.c(),F.m(t,b)):F&&(F.d(1),F=null),e[50].position==3?q||(q=vl(),q.c(),q.m(t,p)):q&&(q.d(1),q=null),E[0]&7&&y!==(y=(e[0]?.length>0&&e[0]?.filter(Ee).length?e[0]?.filter(le).length:0)+"")&&Z(V,y),E[0]&7&&S!==(S=(e[0]&&e[0]?.length>0&&e[0]?.find(ue)?e[0]?.find(Ie)?.eventStartMinute:"-")+"")&&Z(D,S),E[0]&7&&w!==(w=(e[0]&&e[0]?.length>0&&e[0]?.find(z)?e[0]?.find(Y)?.eventEndMinute:"-")+"")&&Z(g,w)},d(O){O&&m(t),P&&P.d(),G&&G.d(),F&&F.d(),q&&q.d(),J=!1,Q()}}}function _l(n){let e=[],t=new Map,l,a=Je(n[1].filter(n[38]));const r=u=>u[50].id;for(let u=0;u<a.length;u+=1){let i=ol(n,a,u),c=r(i);t.set(c,e[u]=yl(c,i))}return{c(){for(let u=0;u<e.length;u+=1)e[u].c();l=ft()},l(u){for(let i=0;i<e.length;i+=1)e[i].l(u);l=ft()},m(u,i){for(let c=0;c<e.length;c+=1)e[c]&&e[c].m(u,i);K(u,l,i)},p(u,i){i[0]&2097159&&(a=Je(u[1].filter(u[38])),e=Vl(e,i,r,1,u,a,t,l.parentNode,Ol,yl,l,ol))},d(u){u&&m(l);for(let i=0;i<e.length;i+=1)e[i].d(u)}}}function hl(n){let e,t="GK";return{c(){e=d("div"),e.textContent=t,this.h()},l(l){e=v(l,"DIV",{class:!0,"data-svelte-h":!0}),H(e)!=="svelte-mmeyla"&&(e.textContent=t),this.h()},h(){f(e,"class","w-1/6 px-4")},m(l,a){K(l,e,a)},d(l){l&&m(e)}}}function pl(n){let e,t="DF";return{c(){e=d("div"),e.textContent=t,this.h()},l(l){e=v(l,"DIV",{class:!0,"data-svelte-h":!0}),H(e)!=="svelte-1bhhlci"&&(e.textContent=t),this.h()},h(){f(e,"class","w-1/6 px-4")},m(l,a){K(l,e,a)},d(l){l&&m(e)}}}function bl(n){let e,t="MF";return{c(){e=d("div"),e.textContent=t,this.h()},l(l){e=v(l,"DIV",{class:!0,"data-svelte-h":!0}),H(e)!=="svelte-syz487"&&(e.textContent=t),this.h()},h(){f(e,"class","w-1/6 px-4")},m(l,a){K(l,e,a)},d(l){l&&m(e)}}}function gl(n){let e,t="FW";return{c(){e=d("div"),e.textContent=t,this.h()},l(l){e=v(l,"DIV",{class:!0,"data-svelte-h":!0}),H(e)!=="svelte-8mc40v"&&(e.textContent=t),this.h()},h(){f(e,"class","w-1/6 px-4")},m(l,a){K(l,e,a)},d(l){l&&m(e)}}}function yl(n,e){let t,l,a=`${e[50].firstName.length>0?e[50].firstName.charAt(0)+".":""} ${e[50].lastName}`,r,u,i,c,b,p,o,h,y=(e[0]?.length>0&&e[0]?.filter(Ee).length?e[0]?.filter(le).length:0)+"",V,M,A,S=(e[0]&&e[0]?.length>0&&e[0]?.find(ue)?e[0]?.find(Ie)?.eventStartMinute:"-")+"",D,C,_,w=(e[0]&&e[0]?.length>0&&e[0]?.find(z)?e[0]?.find(Y)?.eventEndMinute:"-")+"",g,$,j,N,R="Update Events",ee,J,Q,P=e[50].position==0&&hl(),G=e[50].position==1&&pl(),F=e[50].position==2&&bl(),q=e[50].position==3&&gl();function Ee(...O){return e[39](e[50],...O)}function le(...O){return e[40](e[50],...O)}function ue(...O){return e[41](e[50],...O)}function Ie(...O){return e[42](e[50],...O)}function z(...O){return e[43](e[50],...O)}function Y(...O){return e[44](e[50],...O)}function Me(){return e[45](e[50])}return{key:n,first:null,c(){t=d("div"),l=d("div"),r=U(a),u=T(),P&&P.c(),i=T(),G&&G.c(),c=T(),F&&F.c(),b=T(),q&&q.c(),p=T(),o=d("div"),h=U(`Events:
                  `),V=U(y),M=T(),A=d("div"),D=U(S),C=T(),_=d("div"),g=U(w),$=T(),j=d("div"),N=d("button"),N.textContent=R,ee=T(),this.h()},l(O){t=v(O,"DIV",{class:!0});var E=x(t);l=v(E,"DIV",{class:!0});var De=x(l);r=B(De,a),De.forEach(m),u=k(E),P&&P.l(E),i=k(E),G&&G.l(E),c=k(E),F&&F.l(E),b=k(E),q&&q.l(E),p=k(E),o=v(E,"DIV",{class:!0});var oe=x(o);h=B(oe,`Events:
                  `),V=B(oe,y),oe.forEach(m),M=k(E),A=v(E,"DIV",{class:!0});var te=x(A);D=B(te,S),te.forEach(m),C=k(E),_=v(E,"DIV",{class:!0});var he=x(_);g=B(he,w),he.forEach(m),$=k(E),j=v(E,"DIV",{class:!0});var ce=x(j);N=v(ce,"BUTTON",{class:!0,"data-svelte-h":!0}),H(N)!=="svelte-kdfprs"&&(N.textContent=R),ce.forEach(m),ee=k(E),E.forEach(m),this.h()},h(){f(l,"class","w-1/6 px-4"),f(o,"class","w-1/6 px-4"),f(A,"class","w-1/6 px-4"),f(_,"class","w-1/6 px-4"),f(N,"class","text-base sm:text-xs md:text-base rounded fpl-button px-3 sm:px-2 px-3 py-1 ml-1"),f(j,"class","w-1/6 px-4"),f(t,"class","flex items-center p-2 justify-between py-4 border-b border-gray-700 cursor-pointer w-full"),this.first=t},m(O,E){K(O,t,E),s(t,l),s(l,r),s(t,u),P&&P.m(t,null),s(t,i),G&&G.m(t,null),s(t,c),F&&F.m(t,null),s(t,b),q&&q.m(t,null),s(t,p),s(t,o),s(o,h),s(o,V),s(t,M),s(t,A),s(A,D),s(t,C),s(t,_),s(_,g),s(t,$),s(t,j),s(j,N),s(t,ee),J||(Q=ie(N,"click",Me),J=!0)},p(O,E){e=O,E[0]&6&&a!==(a=`${e[50].firstName.length>0?e[50].firstName.charAt(0)+".":""} ${e[50].lastName}`)&&Z(r,a),e[50].position==0?P||(P=hl(),P.c(),P.m(t,i)):P&&(P.d(1),P=null),e[50].position==1?G||(G=pl(),G.c(),G.m(t,c)):G&&(G.d(1),G=null),e[50].position==2?F||(F=bl(),F.c(),F.m(t,b)):F&&(F.d(1),F=null),e[50].position==3?q||(q=gl(),q.c(),q.m(t,p)):q&&(q.d(1),q=null),E[0]&7&&y!==(y=(e[0]?.length>0&&e[0]?.filter(Ee).length?e[0]?.filter(le).length:0)+"")&&Z(V,y),E[0]&7&&S!==(S=(e[0]&&e[0]?.length>0&&e[0]?.find(ue)?e[0]?.find(Ie)?.eventStartMinute:"-")+"")&&Z(D,S),E[0]&7&&w!==(w=(e[0]&&e[0]?.length>0&&e[0]?.find(z)?e[0]?.find(Y)?.eventEndMinute:"-")+"")&&Z(g,w)},d(O){O&&m(t),P&&P.d(),G&&G.d(),F&&F.d(),q&&q.d(),J=!1,Q()}}}function vn(n){let e,t,l,a;const r=[dn,cn],u=[];function i(c,b){return c[13]?0:1}return e=i(n),t=u[e]=r[e](n),{c(){t.c(),l=ft()},l(c){t.l(c),l=ft()},m(c,b){u[e].m(c,b),K(c,l,b),a=!0},p(c,b){let p=e;e=i(c),e===p?u[e].p(c,b):(Ft(),we(u[p],1,1,()=>{u[p]=null}),$t(),t=u[e],t?t.p(c,b):(t=u[e]=r[e](c),t.c()),_e(t,1),t.m(l.parentNode,l))},i(c){a||(_e(t),a=!0)},o(c){we(t),a=!1},d(c){c&&m(l),u[e].d(c)}}}function Cl(n){let e,t;return e=new tn({props:{visible:n[5],teamPlayers:n[15],selectedTeam:n[8],selectedPlayers:n[16],closeModal:n[24]}}),{c(){Be(e.$$.fragment)},l(l){je(e.$$.fragment,l)},m(l,a){Ge(e,l,a),t=!0},p(l,a){const r={};a[0]&32&&(r.visible=l[5]),a[0]&256&&(r.selectedTeam=l[8]),e.$set(r)},i(l){t||(_e(e.$$.fragment,l),t=!0)},o(l){we(e.$$.fragment,l),t=!1},d(l){Re(e,l)}}}function wl(n){let e,t;return e=new Xl({props:{visible:n[6],player:n[9],fixtureId:n[14],playerEventData:n[10],closeModal:n[22]}}),{c(){Be(e.$$.fragment)},l(l){je(e.$$.fragment,l)},m(l,a){Ge(e,l,a),t=!0},p(l,a){const r={};a[0]&64&&(r.visible=l[6]),a[0]&512&&(r.player=l[9]),a[0]&16384&&(r.fixtureId=l[14]),a[0]&1024&&(r.playerEventData=l[10]),e.$set(r)},i(l){t||(_e(e.$$.fragment,l),t=!0)},o(l){we(e.$$.fragment,l),t=!1},d(l){Re(e,l)}}}function mn(n){let e,t,l,a,r,u,i,c;e=new jl({props:{$$slots:{default:[vn]},$$scope:{ctx:n}}});let b=n[8]&&Cl(n),p=n[9]&&wl(n);return r=new an({props:{visible:_n,onConfirm:n[17]}}),i=new un({props:{closeModal:n[26],visible:n[7],onConfirm:n[19]}}),{c(){Be(e.$$.fragment),t=T(),b&&b.c(),l=T(),p&&p.c(),a=T(),Be(r.$$.fragment),u=T(),Be(i.$$.fragment)},l(o){je(e.$$.fragment,o),t=k(o),b&&b.l(o),l=k(o),p&&p.l(o),a=k(o),je(r.$$.fragment,o),u=k(o),je(i.$$.fragment,o)},m(o,h){Ge(e,o,h),K(o,t,h),b&&b.m(o,h),K(o,l,h),p&&p.m(o,h),K(o,a,h),Ge(r,o,h),K(o,u,h),Ge(i,o,h),c=!0},p(o,h){const y={};h[0]&14367|h[1]&16777216&&(y.$$scope={dirty:h,ctx:o}),e.$set(y),o[8]?b?(b.p(o,h),h[0]&256&&_e(b,1)):(b=Cl(o),b.c(),_e(b,1),b.m(l.parentNode,l)):b&&(Ft(),we(b,1,1,()=>{b=null}),$t()),o[9]?p?(p.p(o,h),h[0]&512&&_e(p,1)):(p=wl(o),p.c(),_e(p,1),p.m(a.parentNode,a)):p&&(Ft(),we(p,1,1,()=>{p=null}),$t());const V={};h[0]&128&&(V.visible=o[7]),i.$set(V)},i(o){c||(_e(e.$$.fragment,o),_e(b),_e(p),_e(r.$$.fragment,o),_e(i.$$.fragment,o),c=!0)},o(o){we(e.$$.fragment,o),we(b),we(p),we(r.$$.fragment,o),we(i.$$.fragment,o),c=!1},d(o){o&&(m(t),m(l),m(a),m(u)),Re(e,o),b&&b.d(o),p&&p.d(o),Re(r,o),Re(i,o)}}}let _n=!1;const El=n=>n.eventType==0,Il=n=>n.eventType==1,Dl=n=>n.eventType==10,Tl=n=>n.eventType==2,kl=n=>n.eventType==4,Nl=n=>n.eventType==8,xl=n=>n.eventType==9,Pl=n=>n.eventType==6,Ml=n=>n.eventType==7;function hn(n,e,t){let l,a,r=tt,u=()=>(r(),r=bt(g,I=>t(0,a=I)),g),i,c,b;St(n,At,I=>t(48,i=I)),St(n,ql,I=>t(27,b=I)),n.$$.on_destroy.push(()=>r());let p=[],o=[],h,y,V,M=!1,A=!1,S=!1,D=et([]),C=et([]);St(n,C,I=>t(1,c=I));let _=null,w=null,g=et([]);u();let $="home",j=!0,N=!0;$l(async()=>{try{await Yt.sync(),await Wt.sync(),await Vt.sync(),Yt.subscribe(de=>{p=de}),Vt.subscribe(de=>{o=de}),Wt.subscribe(de=>{t(2,h=de.find(re=>re.id==l)),t(3,y=p.find(re=>re.id==h?.homeTeamId)),t(4,V=p.find(re=>re.id==h?.awayTeamId)),t(8,_=y),D.set(o.filter(re=>re.teamId==_?.id))});const I=`fixtureDraft_${l}`,L=localStorage.getItem(I);if(L){let re=JSON.parse(L).playerEventData;re&&(g.set(re),ee())}}catch(I){Jt({msg:{text:"Error fetching fixture information."},err:I}),console.error("Error fetching fixture information.",I)}finally{t(13,N=!1)}}),Fl(()=>{});async function R(){t(13,N=!0),Lt(At,i="Saving Fixture Data",i);try{await zl.submitFixtureData(l,a),localStorage.removeItem(`fixtureDraft_${l}`),Ot({text:"Fixture data saved.",level:"success",duration:2e3}),Gl("/fixture-validation")}catch(I){Jt({msg:{text:"Error saving fixture data."},err:I}),console.error("Error saving fixture data: ",I)}finally{t(13,N=!1),Lt(At,i="Loading",i)}}function ee(){const I=new Set(a.map(de=>de.playerId)),L=o.filter(de=>I.has(de.id));C.set(L)}function J(){const I={playerEventData:a},L=`fixtureDraft_${l}`;localStorage.setItem(L,JSON.stringify(I,Rl)),Ot({text:"Draft saved.",level:"success",duration:2e3})}function Q(){u(t(10,g=et([]))),localStorage.removeItem(`fixtureDraft_${l}`),Ot({text:"Draft cleared.",level:"success",duration:2e3}),ue()}async function P(I){await Vt.sync(),t(8,_=I==="home"?y:V),D.set(o.filter(L=>L.teamId==_?.id)),t(11,$=I)}function G(I){t(9,w=I),t(6,A=!0)}function F(){t(6,A=!1),t(9,w=null)}function q(){t(5,M=!0)}function Ee(){t(5,M=!1)}function le(){t(7,S=!0)}function ue(){t(7,S=!1)}const Ie=()=>P("home"),z=()=>P("away"),Y=I=>I.teamId===h?.homeTeamId,Me=(I,L)=>L.playerId===I.id,O=(I,L)=>L.playerId===I.id,E=(I,L)=>L.playerId===I.id&&L.eventType==0,De=(I,L)=>L.playerId===I.id&&L.eventType==0,oe=(I,L)=>L.playerId===I.id&&L.eventType==0,te=(I,L)=>L.playerId===I.id&&L.eventType==0,he=I=>G(I),ce=I=>I.teamId===h?.awayTeamId,pe=(I,L)=>L.playerId===I.id,Se=(I,L)=>L.playerId===I.id,$e=(I,L)=>L.playerId===I.id&&L.eventType==0,Le=(I,L)=>L.playerId===I.id,Te=(I,L)=>L.playerId===I.id&&L.eventType==0,Ke=(I,L)=>L.playerId===I.id,Ve=I=>G(I);return n.$$.update=()=>{n.$$.dirty[0]&134217728&&t(14,l=Number(b.url.searchParams.get("id"))),n.$$.dirty[0]&3&&t(12,j=a.length==0||a.filter(I=>I.eventType==0).length!=c.length)},[a,c,h,y,V,M,A,S,_,w,g,$,j,N,l,D,C,R,J,Q,P,G,F,q,Ee,le,ue,b,Ie,z,Y,Me,O,E,De,oe,te,he,ce,pe,Se,$e,Le,Te,Ke,Ve]}class In extends dt{constructor(e){super(),vt(this,e,hn,mn,ut,{},null,[-1,-1])}}export{In as component};
