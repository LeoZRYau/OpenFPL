import{S as gl,i as bl,s as xl,k as i,q as g,a as v,l as n,m as f,r as b,h as s,c as m,n as r,J as ma,b as Me,G as e,K as Yt,L as Zt,g as pe,v as St,f as At,d as ge,M as _l,H as ha,x as la,y as Ve,z as He,A as Te,u as ce,B as Pe,O as pa,o as _a,I as xa,e as aa,p as tt,N as wa}from"../chunks/index.dab0e011.js";import{L as ya}from"../chunks/Layout.9d799e1b.js";import{L as Ea}from"../chunks/LoadingIcon.c6bc274d.js";import{P as Ia,b as Ht,c as ra,d as sa,T as ga,a as oa,f as ia,B as kt,S as $a,u as Da}from"../chunks/BadgeIcon.1a82ba04.js";import{F as ba}from"../chunks/FixtureService.688b7589.js";import{p as Ca}from"../chunks/stores.1c99ebdd.js";import{P as Va,S as Ta}from"../chunks/PlayerService.8e9a448a.js";function na(t,a,o){const l=t.slice();return l[5]=a[o],l}function fa(t,a,o){const l=t.slice();return l[8]=a[o],l}function ca(t){let a,o=Ht(t[8])+"",l;return{c(){a=i("option"),l=g(o),this.h()},l(u){a=n(u,"OPTION",{});var p=f(a);l=b(p,o),p.forEach(s),this.h()},h(){a.__value=t[8],a.value=a.__value},m(u,p){Me(u,a,p),e(a,l)},p:ha,d(u){u&&s(a)}}}function ua(t){let a,o,l,u=(t[5].shirtNumber==0?"-":t[5].shirtNumber)+"",p,w,S,E=(t[5].firstName==""?"-":t[5].firstName)+"",d,P,X,I=t[5].lastName+"",k,L,J,Y=Ht(t[5].position)+"",N,K,oe,G=ra(Number(t[5].dateOfBirth))+"",z,ie,Q,T,ne,Z,re=t[5].totalPoints+"",A,U,B,ee,te=(Number(t[5].value)/4).toFixed(2)+"",V,se,ae,me,M;var fe=sa(t[5].nationality);function de(_){return{props:{class:"w-10 h-10",size:"100"}}}return fe&&(T=la(fe,de())),{c(){a=i("div"),o=i("a"),l=i("div"),p=g(u),w=v(),S=i("div"),d=g(E),P=v(),X=i("div"),k=g(I),L=v(),J=i("div"),N=g(Y),K=v(),oe=i("div"),z=g(G),ie=v(),Q=i("div"),T&&Ve(T.$$.fragment),ne=v(),Z=i("div"),A=g(re),U=v(),B=i("div"),ee=g("£"),V=g(te),se=g("m"),me=v(),this.h()},l(_){a=n(_,"DIV",{class:!0});var F=f(a);o=n(F,"A",{class:!0,href:!0});var c=f(o);l=n(c,"DIV",{class:!0});var j=f(l);p=b(j,u),j.forEach(s),w=m(c),S=n(c,"DIV",{class:!0});var x=f(S);d=b(x,E),x.forEach(s),P=m(c),X=n(c,"DIV",{class:!0});var q=f(X);k=b(q,I),q.forEach(s),L=m(c),J=n(c,"DIV",{class:!0});var y=f(J);N=b(y,Y),y.forEach(s),K=m(c),oe=n(c,"DIV",{class:!0});var O=f(oe);z=b(O,G),O.forEach(s),ie=m(c),Q=n(c,"DIV",{class:!0});var $=f(Q);T&&He(T.$$.fragment,$),$.forEach(s),ne=m(c),Z=n(c,"DIV",{class:!0});var le=f(Z);A=b(le,re),le.forEach(s),U=m(c),B=n(c,"DIV",{class:!0});var he=f(B);ee=b(he,"£"),V=b(he,te),se=b(he,"m"),he.forEach(s),c.forEach(s),me=m(F),F.forEach(s),this.h()},h(){r(l,"class","flex items-center w-1/2 px-3"),r(S,"class","flex items-center w-1/2 px-3"),r(X,"class","flex items-center w-1/2 px-3"),r(J,"class","flex items-center w-1/2 px-3"),r(oe,"class","flex items-center w-1/2 px-3"),r(Q,"class","flex items-center w-1/2 px-3"),r(Z,"class","flex items-center w-1/2 px-3"),r(B,"class","flex items-center w-1/2 px-3"),r(o,"class","flex-grow flex items-center justify-start space-x-2 px-4"),r(o,"href",ae=`/player?id=${t[5].id}`),r(a,"class","flex items-center justify-between py-2 border-b border-gray-700 text-white cursor-pointer")},m(_,F){Me(_,a,F),e(a,o),e(o,l),e(l,p),e(o,w),e(o,S),e(S,d),e(o,P),e(o,X),e(X,k),e(o,L),e(o,J),e(J,N),e(o,K),e(o,oe),e(oe,z),e(o,ie),e(o,Q),T&&Te(T,Q,null),e(o,ne),e(o,Z),e(Z,A),e(o,U),e(o,B),e(B,ee),e(B,V),e(B,se),e(a,me),M=!0},p(_,F){if((!M||F&2)&&u!==(u=(_[5].shirtNumber==0?"-":_[5].shirtNumber)+"")&&ce(p,u),(!M||F&2)&&E!==(E=(_[5].firstName==""?"-":_[5].firstName)+"")&&ce(d,E),(!M||F&2)&&I!==(I=_[5].lastName+"")&&ce(k,I),(!M||F&2)&&Y!==(Y=Ht(_[5].position)+"")&&ce(N,Y),(!M||F&2)&&G!==(G=ra(Number(_[5].dateOfBirth))+"")&&ce(z,G),F&2&&fe!==(fe=sa(_[5].nationality))){if(T){St();const c=T;ge(c.$$.fragment,1,0,()=>{Pe(c,1)}),At()}fe?(T=la(fe,de()),Ve(T.$$.fragment),pe(T.$$.fragment,1),Te(T,Q,null)):T=null}(!M||F&2)&&re!==(re=_[5].totalPoints+"")&&ce(A,re),(!M||F&2)&&te!==(te=(Number(_[5].value)/4).toFixed(2)+"")&&ce(V,te),(!M||F&2&&ae!==(ae=`/player?id=${_[5].id}`))&&r(o,"href",ae)},i(_){M||(T&&pe(T.$$.fragment,_),M=!0)},o(_){T&&ge(T.$$.fragment,_),M=!1},d(_){_&&s(a),T&&Pe(T)}}}function Pa(t){let a,o,l,u,p,w,S,E,d,P,X,I,k,L,J,Y,N,K,oe,G,z,ie,Q,T,ne,Z,re,A,U,B,ee,te,V,se,ae,me,M,fe,de,_,F=t[2],c=[];for(let y=0;y<F.length;y+=1)c[y]=ca(fa(t,F,y));let j=t[1],x=[];for(let y=0;y<j.length;y+=1)x[y]=ua(na(t,j,y));const q=y=>ge(x[y],1,1,()=>{x[y]=null});return{c(){a=i("div"),o=i("div"),l=i("div"),u=i("div"),p=i("div"),w=i("p"),S=g("Position:"),E=v(),d=i("select"),P=i("option"),X=g("All");for(let y=0;y<c.length;y+=1)c[y].c();I=v(),k=i("div"),L=i("div"),J=g("Number"),Y=v(),N=i("div"),K=g("First Name"),oe=v(),G=i("div"),z=g("Last Name"),ie=v(),Q=i("div"),T=g("Position"),ne=v(),Z=i("div"),re=g("Age"),A=v(),U=i("div"),B=g("Nationality"),ee=v(),te=i("div"),V=g("Season Points"),se=v(),ae=i("div"),me=g("Value"),M=v();for(let y=0;y<x.length;y+=1)x[y].c();this.h()},l(y){a=n(y,"DIV",{class:!0});var O=f(a);o=n(O,"DIV",{class:!0});var $=f(o);l=n($,"DIV",{});var le=f(l);u=n(le,"DIV",{class:!0});var he=f(u);p=n(he,"DIV",{class:!0});var W=f(p);w=n(W,"P",{class:!0});var C=f(w);S=b(C,"Position:"),C.forEach(s),E=m(W),d=n(W,"SELECT",{class:!0});var D=f(d);P=n(D,"OPTION",{});var _e=f(P);X=b(_e,"All"),_e.forEach(s);for(let ve=0;ve<c.length;ve+=1)c[ve].l(D);D.forEach(s),W.forEach(s),he.forEach(s),I=m(le),k=n(le,"DIV",{class:!0});var R=f(k);L=n(R,"DIV",{class:!0});var $e=f(L);J=b($e,"Number"),$e.forEach(s),Y=m(R),N=n(R,"DIV",{class:!0});var xe=f(N);K=b(xe,"First Name"),xe.forEach(s),oe=m(R),G=n(R,"DIV",{class:!0});var De=f(G);z=b(De,"Last Name"),De.forEach(s),ie=m(R),Q=n(R,"DIV",{class:!0});var be=f(Q);T=b(be,"Position"),be.forEach(s),ne=m(R),Z=n(R,"DIV",{class:!0});var we=f(Z);re=b(we,"Age"),we.forEach(s),A=m(R),U=n(R,"DIV",{class:!0});var Le=f(U);B=b(Le,"Nationality"),Le.forEach(s),ee=m(R),te=n(R,"DIV",{class:!0});var je=f(te);V=b(je,"Season Points"),je.forEach(s),se=m(R),ae=n(R,"DIV",{class:!0});var Ce=f(ae);me=b(Ce,"Value"),Ce.forEach(s),R.forEach(s),M=m(le);for(let ve=0;ve<x.length;ve+=1)x[ve].l(le);le.forEach(s),$.forEach(s),O.forEach(s),this.h()},h(){r(w,"class","text-sm md:text-xl mr-4"),P.__value=-1,P.value=P.__value,r(d,"class","p-2 fpl-dropdown text-sm md:text-xl"),t[0]===void 0&&ma(()=>t[4].call(d)),r(p,"class","flex items-center ml-4"),r(u,"class","flex p-4"),r(L,"class","flex-grow px-4 w-1/2"),r(N,"class","flex-grow px-4 w-1/2"),r(G,"class","flex-grow px-4 w-1/2"),r(Q,"class","flex-grow px-4 w-1/2"),r(Z,"class","flex-grow px-4 w-1/2"),r(U,"class","flex-grow px-4 w-1/2"),r(te,"class","flex-grow px-4 w-1/2"),r(ae,"class","flex-grow px-4 w-1/2"),r(k,"class","flex justify-between p-2 border border-gray-700 py-4 bg-light-gray"),r(o,"class","flex flex-col space-y-4"),r(a,"class","container-fluid")},m(y,O){Me(y,a,O),e(a,o),e(o,l),e(l,u),e(u,p),e(p,w),e(w,S),e(p,E),e(p,d),e(d,P),e(P,X);for(let $=0;$<c.length;$+=1)c[$]&&c[$].m(d,null);Yt(d,t[0],!0),e(l,I),e(l,k),e(k,L),e(L,J),e(k,Y),e(k,N),e(N,K),e(k,oe),e(k,G),e(G,z),e(k,ie),e(k,Q),e(Q,T),e(k,ne),e(k,Z),e(Z,re),e(k,A),e(k,U),e(U,B),e(k,ee),e(k,te),e(te,V),e(k,se),e(k,ae),e(ae,me),e(l,M);for(let $=0;$<x.length;$+=1)x[$]&&x[$].m(l,null);fe=!0,de||(_=Zt(d,"change",t[4]),de=!0)},p(y,[O]){if(O&4){F=y[2];let $;for($=0;$<F.length;$+=1){const le=fa(y,F,$);c[$]?c[$].p(le,O):(c[$]=ca(le),c[$].c(),c[$].m(d,null))}for(;$<c.length;$+=1)c[$].d(1);c.length=F.length}if(O&5&&Yt(d,y[0]),O&2){j=y[1];let $;for($=0;$<j.length;$+=1){const le=na(y,j,$);x[$]?(x[$].p(le,O),pe(x[$],1)):(x[$]=ua(le),x[$].c(),pe(x[$],1),x[$].m(l,null))}for(St(),$=j.length;$<x.length;$+=1)q($);At()}},i(y){if(!fe){for(let O=0;O<j.length;O+=1)pe(x[O]);fe=!0}},o(y){x=x.filter(Boolean);for(let O=0;O<x.length;O+=1)ge(x[O]);fe=!1},d(y){y&&s(a),_l(c,y),_l(x,y),de=!1,_()}}}function Na(t,a,o){let l,{players:u=[]}=a,p=-1,w=Object.values(Ia).filter(E=>typeof E=="number");function S(){p=pa(this),o(0,p),o(2,w)}return t.$$set=E=>{"players"in E&&o(3,u=E.players)},t.$$.update=()=>{t.$$.dirty&9&&o(1,l=p===-1?u:u.filter(E=>E.position===p))},[p,l,w,u,S]}class ka extends gl{constructor(a){super(),bl(this,a,Na,Pa,xl,{players:3})}}function da(t,a,o){const l=t.slice();return l[9]=a[o].fixture,l[10]=a[o].homeTeam,l[11]=a[o].awayTeam,l}function va(t){let a,o,l=t[9].gameweek+"",u,p,w,S,E,d,P,X,I,k,L,J,Y,N,K,oe,G,z=oa(Number(t[9].kickOff))+"",ie,Q,T,ne=ia(Number(t[9].kickOff))+"",Z,re,A,U,B,ee=(t[10]?t[10].friendlyName:"")+"",te,V,se,ae,me=(t[11]?t[11].friendlyName:"")+"",M,fe,de,_,F,c,j=(t[9].status===0?"-":t[9].homeGoals)+"",x,q,y,O=(t[9].status===0?"-":t[9].awayGoals)+"",$,le,he,W;return d=new kt({props:{primaryColour:t[10]?t[10].primaryColourHex:"",secondaryColour:t[10]?t[10].secondaryColourHex:"",thirdColour:t[10]?t[10].thirdColourHex:""}}),N=new kt({props:{primaryColour:t[11]?t[11].primaryColourHex:"",secondaryColour:t[11]?t[11].secondaryColourHex:"",thirdColour:t[11]?t[11].thirdColourHex:""}}),{c(){a=i("div"),o=i("div"),u=g(l),p=v(),w=i("div"),S=i("div"),E=i("a"),Ve(d.$$.fragment),X=v(),I=i("span"),k=g("v"),L=v(),J=i("div"),Y=i("a"),Ve(N.$$.fragment),oe=v(),G=i("div"),ie=g(z),Q=v(),T=i("div"),Z=g(ne),re=v(),A=i("div"),U=i("div"),B=i("a"),te=g(ee),se=v(),ae=i("a"),M=g(me),de=v(),_=i("div"),F=i("div"),c=i("span"),x=g(j),q=v(),y=i("span"),$=g(O),le=v(),this.h()},l(C){a=n(C,"DIV",{class:!0});var D=f(a);o=n(D,"DIV",{class:!0});var _e=f(o);u=b(_e,l),_e.forEach(s),p=m(D),w=n(D,"DIV",{class:!0});var R=f(w);S=n(R,"DIV",{class:!0});var $e=f(S);E=n($e,"A",{href:!0});var xe=f(E);He(d.$$.fragment,xe),xe.forEach(s),$e.forEach(s),X=m(R),I=n(R,"SPAN",{class:!0});var De=f(I);k=b(De,"v"),De.forEach(s),L=m(R),J=n(R,"DIV",{class:!0});var be=f(J);Y=n(be,"A",{href:!0});var we=f(Y);He(N.$$.fragment,we),we.forEach(s),be.forEach(s),R.forEach(s),oe=m(D),G=n(D,"DIV",{class:!0});var Le=f(G);ie=b(Le,z),Le.forEach(s),Q=m(D),T=n(D,"DIV",{class:!0});var je=f(T);Z=b(je,ne),je.forEach(s),re=m(D),A=n(D,"DIV",{class:!0});var Ce=f(A);U=n(Ce,"DIV",{class:!0});var ve=f(U);B=n(ve,"A",{href:!0});var Ge=f(B);te=b(Ge,ee),Ge.forEach(s),se=m(ve),ae=n(ve,"A",{href:!0});var Se=f(ae);M=b(Se,me),Se.forEach(s),ve.forEach(s),Ce.forEach(s),de=m(D),_=n(D,"DIV",{class:!0});var Ne=f(_);F=n(Ne,"DIV",{class:!0});var Be=f(F);c=n(Be,"SPAN",{});var ft=f(c);x=b(ft,j),ft.forEach(s),q=m(Be),y=n(Be,"SPAN",{});var Ue=f(y);$=b(Ue,O),Ue.forEach(s),Be.forEach(s),Ne.forEach(s),le=m(D),D.forEach(s),this.h()},h(){r(o,"class","w-1/6 ml-4"),r(E,"href",P=`/club?id=${t[9].homeTeamId}`),r(S,"class","w-10 items-center justify-center mr-4"),r(I,"class","font-bold text-lg"),r(Y,"href",K=`/club?id=${t[9].awayTeamId}`),r(J,"class","w-10 items-center justify-center ml-4"),r(w,"class","w-1/3 flex justify-center"),r(G,"class","w-1/3"),r(T,"class","w-1/4 text-center"),r(B,"href",V=`/club?id=${t[9].homeTeamId}`),r(ae,"href",fe=`/club?id=${t[9].awayTeamId}`),r(U,"class","flex flex-col text-xs md:text-lg"),r(A,"class","w-1/3"),r(F,"class","flex flex-col text-xs md:text-lg"),r(_,"class","w-1/4 mr-4"),r(a,"class",he=`flex items-center justify-between border-b border-gray-700 p-2 px-4 ${t[9].status===0?"text-gray-400":"text-white"}`)},m(C,D){Me(C,a,D),e(a,o),e(o,u),e(a,p),e(a,w),e(w,S),e(S,E),Te(d,E,null),e(w,X),e(w,I),e(I,k),e(w,L),e(w,J),e(J,Y),Te(N,Y,null),e(a,oe),e(a,G),e(G,ie),e(a,Q),e(a,T),e(T,Z),e(a,re),e(a,A),e(A,U),e(U,B),e(B,te),e(U,se),e(U,ae),e(ae,M),e(a,de),e(a,_),e(_,F),e(F,c),e(c,x),e(F,q),e(F,y),e(y,$),e(a,le),W=!0},p(C,D){(!W||D&2)&&l!==(l=C[9].gameweek+"")&&ce(u,l);const _e={};D&2&&(_e.primaryColour=C[10]?C[10].primaryColourHex:""),D&2&&(_e.secondaryColour=C[10]?C[10].secondaryColourHex:""),D&2&&(_e.thirdColour=C[10]?C[10].thirdColourHex:""),d.$set(_e),(!W||D&2&&P!==(P=`/club?id=${C[9].homeTeamId}`))&&r(E,"href",P);const R={};D&2&&(R.primaryColour=C[11]?C[11].primaryColourHex:""),D&2&&(R.secondaryColour=C[11]?C[11].secondaryColourHex:""),D&2&&(R.thirdColour=C[11]?C[11].thirdColourHex:""),N.$set(R),(!W||D&2&&K!==(K=`/club?id=${C[9].awayTeamId}`))&&r(Y,"href",K),(!W||D&2)&&z!==(z=oa(Number(C[9].kickOff))+"")&&ce(ie,z),(!W||D&2)&&ne!==(ne=ia(Number(C[9].kickOff))+"")&&ce(Z,ne),(!W||D&2)&&ee!==(ee=(C[10]?C[10].friendlyName:"")+"")&&ce(te,ee),(!W||D&2&&V!==(V=`/club?id=${C[9].homeTeamId}`))&&r(B,"href",V),(!W||D&2)&&me!==(me=(C[11]?C[11].friendlyName:"")+"")&&ce(M,me),(!W||D&2&&fe!==(fe=`/club?id=${C[9].awayTeamId}`))&&r(ae,"href",fe),(!W||D&2)&&j!==(j=(C[9].status===0?"-":C[9].homeGoals)+"")&&ce(x,j),(!W||D&2)&&O!==(O=(C[9].status===0?"-":C[9].awayGoals)+"")&&ce($,O),(!W||D&2&&he!==(he=`flex items-center justify-between border-b border-gray-700 p-2 px-4 ${C[9].status===0?"text-gray-400":"text-white"}`))&&r(a,"class",he)},i(C){W||(pe(d.$$.fragment,C),pe(N.$$.fragment,C),W=!0)},o(C){ge(d.$$.fragment,C),ge(N.$$.fragment,C),W=!1},d(C){C&&s(a),Pe(d),Pe(N)}}}function Ha(t){let a,o,l,u,p,w,S,E,d,P,X,I,k,L,J,Y,N,K,oe,G,z,ie,Q,T,ne,Z,re,A,U,B,ee,te,V,se,ae,me,M,fe,de=t[1],_=[];for(let c=0;c<de.length;c+=1)_[c]=va(da(t,de,c));const F=c=>ge(_[c],1,1,()=>{_[c]=null});return{c(){a=i("div"),o=i("div"),l=i("div"),u=i("div"),p=i("div"),w=i("p"),S=g("Type:"),E=v(),d=i("select"),P=i("option"),X=g("All"),I=i("option"),k=g("Home"),L=i("option"),J=g("Away"),Y=v(),N=i("div"),K=i("div"),oe=g("Gameweek"),G=v(),z=i("div"),ie=g("Game"),Q=v(),T=i("div"),ne=g("Date"),Z=v(),re=i("div"),A=g("Time"),U=v(),B=i("div"),ee=g("Teams"),te=v(),V=i("div"),se=g("Result"),ae=v();for(let c=0;c<_.length;c+=1)_[c].c();this.h()},l(c){a=n(c,"DIV",{class:!0});var j=f(a);o=n(j,"DIV",{class:!0});var x=f(o);l=n(x,"DIV",{});var q=f(l);u=n(q,"DIV",{class:!0});var y=f(u);p=n(y,"DIV",{class:!0});var O=f(p);w=n(O,"P",{class:!0});var $=f(w);S=b($,"Type:"),$.forEach(s),E=m(O),d=n(O,"SELECT",{class:!0});var le=f(d);P=n(le,"OPTION",{});var he=f(P);X=b(he,"All"),he.forEach(s),I=n(le,"OPTION",{});var W=f(I);k=b(W,"Home"),W.forEach(s),L=n(le,"OPTION",{});var C=f(L);J=b(C,"Away"),C.forEach(s),le.forEach(s),O.forEach(s),y.forEach(s),Y=m(q),N=n(q,"DIV",{class:!0});var D=f(N);K=n(D,"DIV",{class:!0});var _e=f(K);oe=b(_e,"Gameweek"),_e.forEach(s),G=m(D),z=n(D,"DIV",{class:!0});var R=f(z);ie=b(R,"Game"),R.forEach(s),Q=m(D),T=n(D,"DIV",{class:!0});var $e=f(T);ne=b($e,"Date"),$e.forEach(s),Z=m(D),re=n(D,"DIV",{class:!0});var xe=f(re);A=b(xe,"Time"),xe.forEach(s),U=m(D),B=n(D,"DIV",{class:!0});var De=f(B);ee=b(De,"Teams"),De.forEach(s),te=m(D),V=n(D,"DIV",{class:!0});var be=f(V);se=b(be,"Result"),be.forEach(s),D.forEach(s),ae=m(q);for(let we=0;we<_.length;we+=1)_[we].l(q);q.forEach(s),x.forEach(s),j.forEach(s),this.h()},h(){r(w,"class","text-sm md:text-xl mr-4"),P.__value=-1,P.value=P.__value,I.__value=0,I.value=I.__value,L.__value=1,L.value=L.__value,r(d,"class","p-2 fpl-dropdown text-sm md:text-xl"),t[0]===void 0&&ma(()=>t[4].call(d)),r(p,"class","flex items-center ml-4"),r(u,"class","flex p-4"),r(K,"class","flex-grow w-1/6 ml-4"),r(z,"class","flex-grow w-1/3 text-center"),r(T,"class","flex-grow w-1/3"),r(re,"class","flex-grow w-1/4 text-center"),r(B,"class","flex-grow w-1/3"),r(V,"class","flex-grow w-1/4 mr-4"),r(N,"class","flex justify-between p-2 border border-gray-700 py-4 bg-light-gray px-4"),r(o,"class","flex flex-col space-y-4"),r(a,"class","container-fluid")},m(c,j){Me(c,a,j),e(a,o),e(o,l),e(l,u),e(u,p),e(p,w),e(w,S),e(p,E),e(p,d),e(d,P),e(P,X),e(d,I),e(I,k),e(d,L),e(L,J),Yt(d,t[0],!0),e(l,Y),e(l,N),e(N,K),e(K,oe),e(N,G),e(N,z),e(z,ie),e(N,Q),e(N,T),e(T,ne),e(N,Z),e(N,re),e(re,A),e(N,U),e(N,B),e(B,ee),e(N,te),e(N,V),e(V,se),e(l,ae);for(let x=0;x<_.length;x+=1)_[x]&&_[x].m(l,null);me=!0,M||(fe=Zt(d,"change",t[4]),M=!0)},p(c,[j]){if(j&1&&Yt(d,c[0]),j&2){de=c[1];let x;for(x=0;x<de.length;x+=1){const q=da(c,de,x);_[x]?(_[x].p(q,j),pe(_[x],1)):(_[x]=va(q),_[x].c(),pe(_[x],1),_[x].m(l,null))}for(St(),x=de.length;x<_.length;x+=1)F(x);At()}},i(c){if(!me){for(let j=0;j<de.length;j+=1)pe(_[j]);me=!0}},o(c){_=_.filter(Boolean);for(let j=0;j<_.length;j+=1)ge(_[j]);me=!1},d(c){c&&s(a),_l(_,c),M=!1,fe()}}}function Sa(t,a,o){let l;const u=new ba,p=new ga;let{clubId:w=null}=a,S=[],E=[],d=-1;_a(async()=>{try{await u.updateFixturesData(),await p.updateTeamsData();const I=await u.getFixtures();E=await p.getTeams(),o(3,S=I.map(L=>({fixture:L,homeTeam:P(L.homeTeamId),awayTeam:P(L.awayTeamId)})))}catch(I){console.error("Error fetching data:",I)}});function P(I){return E.find(k=>k.id===I)}function X(){d=pa(this),o(0,d)}return t.$$set=I=>{"clubId"in I&&o(2,w=I.clubId)},t.$$.update=()=>{t.$$.dirty&13&&o(1,l=d===-1?S.filter(({fixture:I})=>w==null||I.homeTeamId===w||I.awayTeamId===w):d===0?S.filter(({fixture:I})=>w==null||I.homeTeamId===w):S.filter(({fixture:I})=>w==null||I.awayTeamId===w))},[d,l,w,S,X]}class Aa extends gl{constructor(a){super(),bl(this,a,Sa,Ha,xl,{clubId:2})}}function Fa(t){let a,o,l,u,p,w=t[1]?.friendlyName+"",S,E,d,P,X,I,k,L,J=t[1]?.abbreviatedName+"",Y,N,K,oe,G,z,ie,Q,T,ne=t[2].length+"",Z,re,A,U,B,ee,te,V,se,ae,me,M,fe=t[10](t[8])+"",de,_,F,c=t[0].name+"",j,x,q,y,O,$,le,he,W=t[11](t[8])+"",C,D,_e,R,$e,xe,De,be,we,Le,je,Ce,ve,Ge,Se,Ne,Be,ft,Ue,ct,el,tl,ut,lt,Je,Ft,ll,Ae,dt,vt,Ke,$t=t[3]?.abbreviatedName+"",Ot,Lt,al,Dt,rl,mt,ht,Qe,Ct=t[4]?.abbreviatedName+"",jt,Gt,sl,at,ol,Fe,pt,il,nl,_t,rt,Vt=t[5]?.lastName+"",Bt,Ut,fl,Re,Tt=Ht(t[5]?.position??0)+"",Rt,cl,Pt=t[5]?.totalPoints+"",qt,ul,zt,st,qe,We,ot,Xe,dl,Mt,Jt,vl,it,Ye,ml,Kt,Qt,hl,ye,Ee,ue,pl,wl;P=new kt({props:{className:"h-10",primaryColour:t[1]?.primaryColourHex,secondaryColour:t[1]?.secondaryColourHex,thirdColour:t[1]?.thirdColourHex}}),I=new Ta({props:{className:"h-10",primaryColour:t[1]?.primaryColourHex,secondaryColour:t[1]?.secondaryColourHex,thirdColour:t[1]?.thirdColourHex}}),Ne=new kt({props:{primaryColour:t[3]?.primaryColourHex,secondaryColour:t[3]?.secondaryColourHex,thirdColour:t[3]?.thirdColourHex}}),Je=new kt({props:{primaryColour:t[4]?.primaryColourHex,secondaryColour:t[4]?.secondaryColourHex,thirdColour:t[4]?.thirdColourHex}});const yl=[ja,La],Ze=[];function El(h,H){return h[7]==="players"?0:h[7]==="fixtures"?1:-1}return~(ye=El(t))&&(Ee=Ze[ye]=yl[ye](t)),{c(){a=i("div"),o=i("div"),l=i("div"),u=i("div"),p=i("p"),S=g(w),E=v(),d=i("div"),Ve(P.$$.fragment),X=v(),Ve(I.$$.fragment),k=v(),L=i("p"),Y=g(J),N=v(),K=i("div"),oe=v(),G=i("div"),z=i("p"),ie=g("Players"),Q=v(),T=i("p"),Z=g(ne),re=v(),A=i("p"),U=g("Total"),B=v(),ee=i("div"),te=v(),V=i("div"),se=i("p"),ae=g("League Position"),me=v(),M=i("p"),de=g(fe),_=v(),F=i("p"),j=g(c),x=v(),q=i("div"),y=i("div"),O=i("p"),$=g("League Points"),le=v(),he=i("p"),C=g(W),D=v(),_e=i("p"),R=g("Total"),$e=v(),xe=i("div"),De=v(),be=i("div"),we=i("p"),Le=g("Next Game:"),je=v(),Ce=i("div"),ve=i("div"),Ge=i("div"),Se=i("a"),Ve(Ne.$$.fragment),ft=v(),Ue=i("div"),ct=i("p"),el=g("v"),tl=v(),ut=i("div"),lt=i("a"),Ve(Je.$$.fragment),ll=v(),Ae=i("div"),dt=i("div"),vt=i("p"),Ke=i("a"),Ot=g($t),al=v(),Dt=i("div"),rl=v(),mt=i("div"),ht=i("p"),Qe=i("a"),jt=g(Ct),sl=v(),at=i("div"),ol=v(),Fe=i("div"),pt=i("p"),il=g("Highest Scoring Player"),nl=v(),_t=i("p"),rt=i("a"),Bt=g(Vt),fl=v(),Re=i("p"),Rt=g(Tt),cl=g(`
              (`),qt=g(Pt),ul=g(")"),zt=v(),st=i("div"),qe=i("div"),We=i("ul"),ot=i("li"),Xe=i("button"),dl=g("Players"),vl=v(),it=i("li"),Ye=i("button"),ml=g("Fixtures"),hl=v(),Ee&&Ee.c(),this.h()},l(h){a=n(h,"DIV",{class:!0});var H=f(a);o=n(H,"DIV",{class:!0});var ze=f(o);l=n(ze,"DIV",{class:!0});var Ie=f(l);u=n(Ie,"DIV",{class:!0});var ke=f(u);p=n(ke,"P",{class:!0});var nt=f(p);S=b(nt,w),nt.forEach(s),E=m(ke),d=n(ke,"DIV",{class:!0});var et=f(d);He(P.$$.fragment,et),X=m(et),He(I.$$.fragment,et),et.forEach(s),k=m(ke),L=n(ke,"P",{class:!0});var Il=f(L);Y=b(Il,J),Il.forEach(s),ke.forEach(s),N=m(Ie),K=n(Ie,"DIV",{class:!0,style:!0}),f(K).forEach(s),oe=m(Ie),G=n(Ie,"DIV",{class:!0});var gt=f(G);z=n(gt,"P",{class:!0});var $l=f(z);ie=b($l,"Players"),$l.forEach(s),Q=m(gt),T=n(gt,"P",{class:!0});var Dl=f(T);Z=b(Dl,ne),Dl.forEach(s),re=m(gt),A=n(gt,"P",{class:!0});var Cl=f(A);U=b(Cl,"Total"),Cl.forEach(s),gt.forEach(s),B=m(Ie),ee=n(Ie,"DIV",{class:!0,style:!0}),f(ee).forEach(s),te=m(Ie),V=n(Ie,"DIV",{class:!0});var bt=f(V);se=n(bt,"P",{class:!0});var Vl=f(se);ae=b(Vl,"League Position"),Vl.forEach(s),me=m(bt),M=n(bt,"P",{class:!0});var Tl=f(M);de=b(Tl,fe),Tl.forEach(s),_=m(bt),F=n(bt,"P",{class:!0});var Pl=f(F);j=b(Pl,c),Pl.forEach(s),bt.forEach(s),Ie.forEach(s),x=m(ze),q=n(ze,"DIV",{class:!0});var Oe=f(q);y=n(Oe,"DIV",{class:!0});var xt=f(y);O=n(xt,"P",{class:!0});var Nl=f(O);$=b(Nl,"League Points"),Nl.forEach(s),le=m(xt),he=n(xt,"P",{class:!0});var kl=f(he);C=b(kl,W),kl.forEach(s),D=m(xt),_e=n(xt,"P",{class:!0});var Hl=f(_e);R=b(Hl,"Total"),Hl.forEach(s),xt.forEach(s),$e=m(Oe),xe=n(Oe,"DIV",{class:!0,style:!0}),f(xe).forEach(s),De=m(Oe),be=n(Oe,"DIV",{class:!0});var wt=f(be);we=n(wt,"P",{class:!0});var Sl=f(we);Le=b(Sl,"Next Game:"),Sl.forEach(s),je=m(wt),Ce=n(wt,"DIV",{class:!0});var Al=f(Ce);ve=n(Al,"DIV",{class:!0});var yt=f(ve);Ge=n(yt,"DIV",{class:!0});var Fl=f(Ge);Se=n(Fl,"A",{href:!0});var Ol=f(Se);He(Ne.$$.fragment,Ol),Ol.forEach(s),Fl.forEach(s),ft=m(yt),Ue=n(yt,"DIV",{class:!0});var Ll=f(Ue);ct=n(Ll,"P",{class:!0});var jl=f(ct);el=b(jl,"v"),jl.forEach(s),Ll.forEach(s),tl=m(yt),ut=n(yt,"DIV",{class:!0});var Gl=f(ut);lt=n(Gl,"A",{href:!0});var Bl=f(lt);He(Je.$$.fragment,Bl),Bl.forEach(s),Gl.forEach(s),yt.forEach(s),Al.forEach(s),ll=m(wt),Ae=n(wt,"DIV",{class:!0});var Et=f(Ae);dt=n(Et,"DIV",{class:!0});var Ul=f(dt);vt=n(Ul,"P",{class:!0});var Rl=f(vt);Ke=n(Rl,"A",{class:!0,href:!0});var ql=f(Ke);Ot=b(ql,$t),ql.forEach(s),Rl.forEach(s),Ul.forEach(s),al=m(Et),Dt=n(Et,"DIV",{class:!0}),f(Dt).forEach(s),rl=m(Et),mt=n(Et,"DIV",{class:!0});var zl=f(mt);ht=n(zl,"P",{class:!0});var Ml=f(ht);Qe=n(Ml,"A",{class:!0,href:!0});var Jl=f(Qe);jt=b(Jl,Ct),Jl.forEach(s),Ml.forEach(s),zl.forEach(s),Et.forEach(s),wt.forEach(s),sl=m(Oe),at=n(Oe,"DIV",{class:!0,style:!0}),f(at).forEach(s),ol=m(Oe),Fe=n(Oe,"DIV",{class:!0});var It=f(Fe);pt=n(It,"P",{class:!0});var Kl=f(pt);il=b(Kl,"Highest Scoring Player"),Kl.forEach(s),nl=m(It),_t=n(It,"P",{class:!0});var Ql=f(_t);rt=n(Ql,"A",{href:!0});var Wl=f(rt);Bt=b(Wl,Vt),Wl.forEach(s),Ql.forEach(s),fl=m(It),Re=n(It,"P",{class:!0});var Nt=f(Re);Rt=b(Nt,Tt),cl=b(Nt,`
              (`),qt=b(Nt,Pt),ul=b(Nt,")"),Nt.forEach(s),It.forEach(s),Oe.forEach(s),ze.forEach(s),H.forEach(s),zt=m(h),st=n(h,"DIV",{class:!0});var Xl=f(st);qe=n(Xl,"DIV",{class:!0});var Wt=f(qe);We=n(Wt,"UL",{class:!0});var Xt=f(We);ot=n(Xt,"LI",{class:!0});var Yl=f(ot);Xe=n(Yl,"BUTTON",{class:!0});var Zl=f(Xe);dl=b(Zl,"Players"),Zl.forEach(s),Yl.forEach(s),vl=m(Xt),it=n(Xt,"LI",{class:!0});var ea=f(it);Ye=n(ea,"BUTTON",{class:!0});var ta=f(Ye);ml=b(ta,"Fixtures"),ta.forEach(s),ea.forEach(s),Xt.forEach(s),hl=m(Wt),Ee&&Ee.l(Wt),Wt.forEach(s),Xl.forEach(s),this.h()},h(){r(p,"class","text-gray-300 text-xs"),r(d,"class","py-2 flex space-x-4"),r(L,"class","text-gray-300 text-xs"),r(u,"class","flex-grow flex flex-col items-center"),r(K,"class","flex-shrink-0 w-px bg-gray-400 self-stretch"),tt(K,"min-width","2px"),tt(K,"min-height","50px"),r(z,"class","text-gray-300 text-xs"),r(T,"class","text-2xl sm:text-3xl md:text-4xl mt-2 mb-2 font-bold"),r(A,"class","text-gray-300 text-xs"),r(G,"class","flex-grow"),r(ee,"class","flex-shrink-0 w-px bg-gray-400 self-stretch"),tt(ee,"min-width","2px"),tt(ee,"min-height","50px"),r(se,"class","text-gray-300 text-xs"),r(M,"class","text-2xl sm:text-3xl md:text-4xl mt-2 mb-2 font-bold"),r(F,"class","text-gray-300 text-xs"),r(V,"class","flex-grow"),r(l,"class","flex justify-start items-center text-white space-x-4 flex-grow m-4 bg-panel p-4 rounded-md"),r(O,"class","text-gray-300 text-xs"),r(he,"class","text-2xl sm:text-3xl md:text-4xl mt-2 mb-2 font-bold"),r(_e,"class","text-gray-300 text-xs"),r(y,"class","flex-grow mb-4 md:mb-0"),r(xe,"class","h-px bg-gray-400 w-full md:w-px md:h-full md:self-stretch"),tt(xe,"min-height","2px"),tt(xe,"min-width","2px"),r(we,"class","text-gray-300 text-xs"),r(Se,"href",Be=`/club?id=${t[3]?.id}`),r(Ge,"class","w-10 ml-4 mr-4"),r(ct,"class","text-xs mt-2 mb-2 font-bold"),r(Ue,"class","w-v ml-1 mr-1 flex justify-center"),r(lt,"href",Ft=`/club?id=${t[4]?.id}`),r(ut,"class","w-10 ml-4"),r(ve,"class","flex justify-center items-center"),r(Ce,"class","flex justify-center mb-2 mt-2"),r(Ke,"class","text-gray-300 text-xs text-center"),r(Ke,"href",Lt=`/club?id=${t[3]?.id}`),r(vt,"class","text-gray-300 text-xs text-center"),r(dt,"class","w-10 ml-4 mr-4"),r(Dt,"class","w-v ml-2 mr-2"),r(Qe,"class","text-gray-300 text-xs text-center"),r(Qe,"href",Gt=`/club?id=${t[4]?.id}`),r(ht,"class","text-gray-300 text-xs text-center"),r(mt,"class","w-10 ml-4"),r(Ae,"class","flex justify-center"),r(be,"class","flex-grow mb-4 md:mb-0"),r(at,"class","h-px bg-gray-400 w-full md:w-px md:h-full md:self-stretch"),tt(at,"min-height","2px"),tt(at,"min-width","2px"),r(pt,"class","text-gray-300 text-xs mt-4 md:mt-0"),r(rt,"href",Ut=`/player?id=${t[5]?.id}`),r(_t,"class","text-2xl sm:text-3xl md:text-4xl mt-2 mb-2 font-bold"),r(Re,"class","text-gray-300 text-xs"),r(Fe,"class","flex-grow"),r(q,"class","flex flex-col md:flex-row justify-start md:items-center text-white space-x-0 md:space-x-4 flex-grow m-4 bg-panel p-4 rounded-md"),r(o,"class","flex flex-col md:flex-row"),r(a,"class","m-4"),r(Xe,"class",Mt=`p-2 ${t[7]==="players"?"text-white":"text-gray-400"}`),r(ot,"class",Jt=`mr-4 text-xs md:text-lg ${t[7]==="players"?"active-tab":""}`),r(Ye,"class",Kt=`p-2 ${t[7]==="fixtures"?"text-white":"text-gray-400"}`),r(it,"class",Qt=`mr-4 text-xs md:text-lg ${t[7]==="fixtures"?"active-tab":""}`),r(We,"class","flex bg-light-gray px-4 pt-2"),r(qe,"class","bg-panel rounded-md m-4"),r(st,"class","m-4")},m(h,H){Me(h,a,H),e(a,o),e(o,l),e(l,u),e(u,p),e(p,S),e(u,E),e(u,d),Te(P,d,null),e(d,X),Te(I,d,null),e(u,k),e(u,L),e(L,Y),e(l,N),e(l,K),e(l,oe),e(l,G),e(G,z),e(z,ie),e(G,Q),e(G,T),e(T,Z),e(G,re),e(G,A),e(A,U),e(l,B),e(l,ee),e(l,te),e(l,V),e(V,se),e(se,ae),e(V,me),e(V,M),e(M,de),e(V,_),e(V,F),e(F,j),e(o,x),e(o,q),e(q,y),e(y,O),e(O,$),e(y,le),e(y,he),e(he,C),e(y,D),e(y,_e),e(_e,R),e(q,$e),e(q,xe),e(q,De),e(q,be),e(be,we),e(we,Le),e(be,je),e(be,Ce),e(Ce,ve),e(ve,Ge),e(Ge,Se),Te(Ne,Se,null),e(ve,ft),e(ve,Ue),e(Ue,ct),e(ct,el),e(ve,tl),e(ve,ut),e(ut,lt),Te(Je,lt,null),e(be,ll),e(be,Ae),e(Ae,dt),e(dt,vt),e(vt,Ke),e(Ke,Ot),e(Ae,al),e(Ae,Dt),e(Ae,rl),e(Ae,mt),e(mt,ht),e(ht,Qe),e(Qe,jt),e(q,sl),e(q,at),e(q,ol),e(q,Fe),e(Fe,pt),e(pt,il),e(Fe,nl),e(Fe,_t),e(_t,rt),e(rt,Bt),e(Fe,fl),e(Fe,Re),e(Re,Rt),e(Re,cl),e(Re,qt),e(Re,ul),Me(h,zt,H),Me(h,st,H),e(st,qe),e(qe,We),e(We,ot),e(ot,Xe),e(Xe,dl),e(We,vl),e(We,it),e(it,Ye),e(Ye,ml),e(qe,hl),~ye&&Ze[ye].m(qe,null),ue=!0,pl||(wl=[Zt(Xe,"click",t[16]),Zt(Ye,"click",t[17])],pl=!0)},p(h,H){(!ue||H&2)&&w!==(w=h[1]?.friendlyName+"")&&ce(S,w);const ze={};H&2&&(ze.primaryColour=h[1]?.primaryColourHex),H&2&&(ze.secondaryColour=h[1]?.secondaryColourHex),H&2&&(ze.thirdColour=h[1]?.thirdColourHex),P.$set(ze);const Ie={};H&2&&(Ie.primaryColour=h[1]?.primaryColourHex),H&2&&(Ie.secondaryColour=h[1]?.secondaryColourHex),H&2&&(Ie.thirdColour=h[1]?.thirdColourHex),I.$set(Ie),(!ue||H&2)&&J!==(J=h[1]?.abbreviatedName+"")&&ce(Y,J),(!ue||H&4)&&ne!==(ne=h[2].length+"")&&ce(Z,ne),(!ue||H&256)&&fe!==(fe=h[10](h[8])+"")&&ce(de,fe),(!ue||H&1)&&c!==(c=h[0].name+"")&&ce(j,c),(!ue||H&256)&&W!==(W=h[11](h[8])+"")&&ce(C,W);const ke={};H&8&&(ke.primaryColour=h[3]?.primaryColourHex),H&8&&(ke.secondaryColour=h[3]?.secondaryColourHex),H&8&&(ke.thirdColour=h[3]?.thirdColourHex),Ne.$set(ke),(!ue||H&8&&Be!==(Be=`/club?id=${h[3]?.id}`))&&r(Se,"href",Be);const nt={};H&16&&(nt.primaryColour=h[4]?.primaryColourHex),H&16&&(nt.secondaryColour=h[4]?.secondaryColourHex),H&16&&(nt.thirdColour=h[4]?.thirdColourHex),Je.$set(nt),(!ue||H&16&&Ft!==(Ft=`/club?id=${h[4]?.id}`))&&r(lt,"href",Ft),(!ue||H&8)&&$t!==($t=h[3]?.abbreviatedName+"")&&ce(Ot,$t),(!ue||H&8&&Lt!==(Lt=`/club?id=${h[3]?.id}`))&&r(Ke,"href",Lt),(!ue||H&16)&&Ct!==(Ct=h[4]?.abbreviatedName+"")&&ce(jt,Ct),(!ue||H&16&&Gt!==(Gt=`/club?id=${h[4]?.id}`))&&r(Qe,"href",Gt),(!ue||H&32)&&Vt!==(Vt=h[5]?.lastName+"")&&ce(Bt,Vt),(!ue||H&32&&Ut!==(Ut=`/player?id=${h[5]?.id}`))&&r(rt,"href",Ut),(!ue||H&32)&&Tt!==(Tt=Ht(h[5]?.position??0)+"")&&ce(Rt,Tt),(!ue||H&32)&&Pt!==(Pt=h[5]?.totalPoints+"")&&ce(qt,Pt),(!ue||H&128&&Mt!==(Mt=`p-2 ${h[7]==="players"?"text-white":"text-gray-400"}`))&&r(Xe,"class",Mt),(!ue||H&128&&Jt!==(Jt=`mr-4 text-xs md:text-lg ${h[7]==="players"?"active-tab":""}`))&&r(ot,"class",Jt),(!ue||H&128&&Kt!==(Kt=`p-2 ${h[7]==="fixtures"?"text-white":"text-gray-400"}`))&&r(Ye,"class",Kt),(!ue||H&128&&Qt!==(Qt=`mr-4 text-xs md:text-lg ${h[7]==="fixtures"?"active-tab":""}`))&&r(it,"class",Qt);let et=ye;ye=El(h),ye===et?~ye&&Ze[ye].p(h,H):(Ee&&(St(),ge(Ze[et],1,1,()=>{Ze[et]=null}),At()),~ye?(Ee=Ze[ye],Ee?Ee.p(h,H):(Ee=Ze[ye]=yl[ye](h),Ee.c()),pe(Ee,1),Ee.m(qe,null)):Ee=null)},i(h){ue||(pe(P.$$.fragment,h),pe(I.$$.fragment,h),pe(Ne.$$.fragment,h),pe(Je.$$.fragment,h),pe(Ee),ue=!0)},o(h){ge(P.$$.fragment,h),ge(I.$$.fragment,h),ge(Ne.$$.fragment,h),ge(Je.$$.fragment,h),ge(Ee),ue=!1},d(h){h&&s(a),Pe(P),Pe(I),Pe(Ne),Pe(Je),h&&s(zt),h&&s(st),~ye&&Ze[ye].d(),pl=!1,wa(wl)}}}function Oa(t){let a,o;return a=new Ea({props:{progress:Ua}}),{c(){Ve(a.$$.fragment)},l(l){He(a.$$.fragment,l)},m(l,u){Te(a,l,u),o=!0},p:ha,i(l){o||(pe(a.$$.fragment,l),o=!0)},o(l){ge(a.$$.fragment,l),o=!1},d(l){Pe(a,l)}}}function La(t){let a,o;return a=new Aa({props:{clubId:t[8]}}),{c(){Ve(a.$$.fragment)},l(l){He(a.$$.fragment,l)},m(l,u){Te(a,l,u),o=!0},p(l,u){const p={};u&256&&(p.clubId=l[8]),a.$set(p)},i(l){o||(pe(a.$$.fragment,l),o=!0)},o(l){ge(a.$$.fragment,l),o=!1},d(l){Pe(a,l)}}}function ja(t){let a,o;return a=new ka({props:{players:t[2]}}),{c(){Ve(a.$$.fragment)},l(l){He(a.$$.fragment,l)},m(l,u){Te(a,l,u),o=!0},p(l,u){const p={};u&4&&(p.players=l[2]),a.$set(p)},i(l){o||(pe(a.$$.fragment,l),o=!0)},o(l){ge(a.$$.fragment,l),o=!1},d(l){Pe(a,l)}}}function Ga(t){let a,o,l,u;const p=[Oa,Fa],w=[];function S(E,d){return E[6]?0:1}return a=S(t),o=w[a]=p[a](t),{c(){o.c(),l=aa()},l(E){o.l(E),l=aa()},m(E,d){w[a].m(E,d),Me(E,l,d),u=!0},p(E,d){let P=a;a=S(E),a===P?w[a].p(E,d):(St(),ge(w[P],1,1,()=>{w[P]=null}),At(),o=w[a],o?o.p(E,d):(o=w[a]=p[a](E),o.c()),pe(o,1),o.m(l.parentNode,l))},i(E){u||(pe(o),u=!0)},o(E){ge(o),u=!1},d(E){w[a].d(E),E&&s(l)}}}function Ba(t){let a,o;return a=new ya({props:{$$slots:{default:[Ga]},$$scope:{ctx:t}}}),{c(){Ve(a.$$.fragment)},l(l){He(a.$$.fragment,l)},m(l,u){Te(a,l,u),o=!0},p(l,[u]){const p={};u&33554943&&(p.$$scope={dirty:u,ctx:l}),a.$set(p)},i(l){o||(pe(a.$$.fragment,l),o=!0)},o(l){ge(a.$$.fragment,l),o=!1},d(l){Pe(a,l)}}}let Ua=0;function Ra(t,a,o){let l,u;xa(t,Ca,A=>o(15,u=A));const p=new ba,w=new ga,S=new $a,E=new Va;let d=1,P,X=[],I=[],k=null,L=[],J=null,Y=null,N=null,K=null,oe=!0,G="players";_a(async()=>{try{await S.updateSystemStateData(),await p.updateFixturesData(),await w.updateTeamsData(),await E.updatePlayersData(),await E.updatePlayerEventsData();const A=await p.getFixtures(),U=await w.getTeams(),B=await E.getPlayers();o(14,I=U),o(1,k=U.find(V=>V.id==l)??null);let ee=A.filter(V=>V.homeTeamId==l||V.awayTeamId==l);o(13,X=ee.map(V=>({fixture:V,homeTeam:ie(V.homeTeamId),awayTeam:ie(V.awayTeamId)}))),o(2,L=B.filter(V=>V.teamId==l)),o(5,K=L.sort((V,se)=>V.totalPoints-se.totalPoints).sort((V,se)=>Number(se.value)-Number(V.value))[0]);let te=await S.getSystemState();o(12,d=te?.activeGameweek??d),o(0,P=te?.activeSeason??P),J=ee.find(V=>V.gameweek==d)??null,o(3,Y=ie(J?.homeTeamId??0)??null),o(4,N=ie(J?.awayTeamId??0)??null),o(6,oe=!1)}catch(A){console.error("Error fetching data:",A)}});let z=[];function ie(A){return I.find(U=>U.id===A)}function Q(A){o(7,G=A)}const T=A=>{const U=z.findIndex(B=>B.id===A);return U!==-1?U+1:"Not found"},ne=A=>z.find(B=>B.id===A).points,Z=()=>Q("players"),re=()=>Q("fixtures");return t.$$.update=()=>{t.$$.dirty&32768&&o(8,l=Number(u.url.searchParams.get("id"))),t.$$.dirty&28672&&X.length>0&&I.length>0&&(z=Da(X,I,d))},[P,k,L,Y,N,K,oe,G,l,Q,T,ne,d,X,I,u,Z,re]}class Xa extends gl{constructor(a){super(),bl(this,a,Ra,Ba,xl,{})}}export{Xa as component};
